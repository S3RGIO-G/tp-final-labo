"use strict";(self.webpackChunktp_final_labo=self.webpackChunktp_final_labo||[]).push([[898],{6898:(M,p,o)=>{o.r(p),o.d(p,{UsuariosComponent:()=>O});var l=o(6895),s=o(7224),t=o(8256);function _(i,c){if(1&i&&(t.TgZ(0,"th"),t._uU(1),t.qZA()),2&i){const e=c.$implicit;t.xp6(1),t.Oqu(e)}}function u(i,c){if(1&i&&(t.ynx(0),t.TgZ(1,"tr")(2,"td")(3,"div",2)(4,"div",3),t._UZ(5,"img",4),t.qZA(),t.TgZ(6,"div",5)(7,"h6",6),t._uU(8),t.qZA(),t.TgZ(9,"p",7),t._uU(10),t.qZA()()()(),t.TgZ(11,"td")(12,"span"),t._uU(13),t.qZA()(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td",8)(17,"span"),t._uU(18),t.qZA()()(),t.BQk()),2&i){const e=c.$implicit;t.xp6(5),t.s9C("src",e.images[0],t.LSH),t.xp6(3),t.AsE("",e.name," ",e.lastName,""),t.xp6(2),t.Oqu(e.email),t.xp6(3),t.Oqu(e.dni),t.xp6(2),t.Oqu(e.age),t.xp6(3),t.Oqu(e.obraSocial)}}function h(i,c){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td")(3,"div",2)(4,"div",3),t._UZ(5,"img",4),t.qZA(),t.TgZ(6,"div",5)(7,"h6",6),t._uU(8),t.qZA(),t.TgZ(9,"p",7),t._uU(10),t.qZA()()()(),t.TgZ(11,"td")(12,"span"),t._uU(13),t.qZA()(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td")(17,"span"),t._uU(18),t.qZA()(),t.TgZ(19,"td")(20,"button",9),t.NdJ("click",function(){const g=t.CHM(e).$implicit,v=t.oxw();return t.KtG(v.changeValidityEvent.emit(g))}),t._uU(21),t.qZA()()(),t.BQk()}if(2&i){const e=c.$implicit;t.xp6(5),t.s9C("src",e.images[0],t.LSH),t.xp6(3),t.AsE("",e.name," ",e.lastName,""),t.xp6(2),t.Oqu(e.email),t.xp6(3),t.Oqu(e.dni),t.xp6(2),t.Oqu(e.age),t.xp6(3),t.Oqu(e.especialidad),t.xp6(2),t.Gre("btn ",e.valid?"btn-danger":"btn-success",""),t.xp6(1),t.hij(" ",e.valid?"Inhabilitar":"Habilitar"," ")}}let n=(()=>{class i{constructor(){this.changeValidityEvent=new t.vpe}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-table-usuarios"]],inputs:{pacientesList:"pacientesList",especialistasList:"especialistasList",headers:"headers"},outputs:{changeValidityEvent:"changeValidityEvent"},standalone:!0,features:[t.jDz],decls:7,vars:3,consts:[[1,"table"],[4,"ngFor","ngForOf"],[1,"user-info","gap-3"],[1,"user-info__img"],["alt","User Img",3,"src"],[1,"user-infor__basic","text-start"],[1,"mb-0"],[1,"text-muted","mb-0"],[1,"obraSocial"],[3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"table",0)(1,"thead")(2,"tr"),t.YNc(3,_,2,1,"th",1),t.qZA()(),t.TgZ(4,"tbody"),t.YNc(5,u,19,7,"ng-container",1),t.YNc(6,h,22,11,"ng-container",1),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("ngForOf",r.headers),t.xp6(2),t.Q6J("ngForOf",r.pacientesList),t.xp6(1),t.Q6J("ngForOf",r.especialistasList))},dependencies:[l.ez,l.sg],styles:[".table[_ngcontent-%COMP%]{border-spacing:0 15px;border-collapse:separate}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle;border:none}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-last-child(1), .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-last-child(1), .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-last-child(1), .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-last-child(1){text-align:center}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{box-shadow:0 2px 10px #0000001a;border-radius:5px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#fff}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1){border-radius:5px 0 0 5px}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-last-child(1){border-radius:0 5px 5px 0}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center}.user-info__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:15px;height:55px;width:55px;border-radius:45px;border:3px solid #fff;box-shadow:0 2px 5px #0000001a}.obraSocial[_ngcontent-%COMP%]{min-width:65px}"]}),i})();var a=o(6557),m=o(7931),C=o(3071);const f=function(){return["Usuario","DNI","Edad","Especialidad","Habilitado"]},b=function(){return["Usuario","DNI","Edad","Obra Social"]};let O=(()=>{class i{constructor(e){this.userService=e,this.showModal=!1,this.loading=!1}ngOnInit(){this.userService.getUsersByType(2).subscribe(e=>{this.especialistasList=e}),this.userService.getUsersByType(3).subscribe(e=>{this.pacientesList=e})}changeValidity(e){this.showModal=!0,this.especialista={...e,valid:!e.valid}}confirmChange(){this.showModal=!1,this.userService.updateUser(this.especialista)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(C.K))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-usuarios"]],standalone:!0,features:[t.jDz],decls:20,vars:7,consts:[[3,"loadingEvent","userEvent"],[1,"main","d-flex","justify-content-center","align-items-center"],[1,"text-center"],[1,"table-container","p-3","bg-color-primary","d-flex","flex-column","gap-4"],[1,"h-50","overflow-y-auto","px-2"],[3,"especialistasList","headers","changeValidityEvent"],[3,"pacientesList","headers"],["routerLink","/register",1,"btn","btn-primary","mt-3"],[3,"showModal"],[1,"fw-bold"],[1,"d-flex","gap-2"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"]],template:function(e,r){1&e&&(t.TgZ(0,"app-navbar",0),t.NdJ("loadingEvent",function(g){return r.loading=g})("userEvent",function(g){return r.user=g}),t.qZA(),t.TgZ(1,"div",1)(2,"div",2)(3,"h2"),t._uU(4,"Usuarios"),t.qZA(),t.TgZ(5,"div",3)(6,"div",4)(7,"app-table-usuarios",5),t.NdJ("changeValidityEvent",function(g){return r.changeValidity(g)}),t.qZA()(),t.TgZ(8,"div",4),t._UZ(9,"app-table-usuarios",6),t.qZA()(),t.TgZ(10,"button",7),t._uU(11,"Crear Nuevo"),t.qZA()()(),t.TgZ(12,"app-modal-custom",8)(13,"h4",9),t._uU(14,"\xbfEstas seguro?"),t.qZA(),t.TgZ(15,"div",10)(16,"button",11),t.NdJ("click",function(){return r.confirmChange()}),t._uU(17,"Confirmar"),t.qZA(),t.TgZ(18,"button",12),t.NdJ("click",function(){return r.showModal=!1}),t._uU(19,"Cancelar"),t.qZA()()()),2&e&&(t.xp6(7),t.Q6J("especialistasList",r.especialistasList)("headers",t.DdM(5,f)),t.xp6(2),t.Q6J("pacientesList",r.pacientesList)("headers",t.DdM(6,b)),t.xp6(3),t.Q6J("showModal",r.showModal))},dependencies:[l.ez,s.S,n,a.Bz,a.rH,m.H],styles:[".main[_ngcontent-%COMP%]{min-height:90vh}.table-container[_ngcontent-%COMP%]{height:70vh;width:95vw;max-width:1000px}"]}),i})()},3071:(M,p,o)=>{o.d(p,{K:()=>_});var l=o(2309),s=o(4102),t=o(8256);let _=(()=>{class u{constructor(n,a){this.auth=n,this.firestore=a,this.usersRef=(0,s.hJ)(this.firestore,"users"),this.especialistasRef=(0,s.hJ)(this.firestore,"especialistas"),this.adminsRef=(0,s.hJ)(this.firestore,"admins"),this.specialtiesRef=(0,s.hJ)(this.firestore,"especialidades"),this.currentAuth=this.auth}getCurrentUser(){let n=localStorage.getItem("user");return n?JSON.parse(n):null}setCurrentUser(n){localStorage.setItem("user",JSON.stringify(n))}register({email:n,password:a}){return(0,l.Xb)(this.auth,n,a)}login({email:n,password:a}){return(0,l.e5)(this.auth,n,a)}logout(){return(0,l.w7)(this.auth)}sendEmailVerification(n){return(0,l.w$)(n)}addDocAuto(n,a){return(0,s.ET)(a,n)}addDocById(n,a){return(0,s.pl)((0,s.JU)(this.usersRef,a),n)}addUserById({type:n,name:a,lastName:m,age:C,dni:f,obraSocial:b,especialidad:O,email:i,password:c,imgURLs:e},r){const d={type:parseInt(n),name:a,lastName:m,age:parseInt(C),dni:parseInt(f),email:i,password:c,images:e};switch(n){case"2":return this.addDocById({...d,especialidad:O,valid:!1},r);case"3":return this.addDocById({...d,obraSocial:b},r);default:return this.addDocById(d,r)}}addSpecialty(n){return this.addDocAuto(n,this.specialtiesRef)}getDocsObserver(n){return(0,s.BS)(n,{idField:"id"})}getUsers(){return this.getDocsObserver(this.usersRef)}getUserById(n){return(0,s.QT)((0,s.JU)(this.usersRef,n))}getUsersDistinctType(n){const a=(0,s.IO)(this.usersRef,(0,s.ar)("type","!=",n));return(0,s.BS)(a,{idField:"id"})}getUsersByType(n){const a=(0,s.IO)(this.usersRef,(0,s.ar)("type","==",n));return(0,s.BS)(a,{idField:"id"})}getSpecialties(){return(0,s.BS)(this.specialtiesRef,{idField:"id"})}updateUser(n){return(0,s.r7)((0,s.JU)(this.usersRef,n.id),{...n})}}return u.\u0275fac=function(n){return new(n||u)(t.LFG(l.gx),t.LFG(s.gg))},u.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()}}]);
"use strict";(self.webpackChunktp_final_labo=self.webpackChunktp_final_labo||[]).push([[179],{2313:(Fn,At,X)=>{X.d(At,{nm:()=>Jr});var C=X(3530),Ue=(X(8256),X(3692),X(259),X(5861)),ie=X(6881),_e=X(4859),St=X(2090),yt=X(1877);const ve=new Map,pe={activated:!1,tokenObservers:[]},Ye={initialized:!1,enabled:!1};function _t(ne){return ve.get(ne)||Object.assign({},pe)}function Ot(){return Ye}const Ke="https://content-firebaseappcheck.googleapis.com/v1",zn="exchangeDebugToken",kt={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ne{constructor(le,Ce,Ze,xt,Xt){if(this.operation=le,this.retryPolicy=Ce,this.getWaitDuration=Ze,this.lowerBound=xt,this.upperBound=Xt,this.pending=null,this.nextErrorWaitInterval=xt,xt>Xt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(le){var Ce=this;return(0,Ue.Z)(function*(){Ce.stop();try{Ce.pending=new St.BH,yield function ut(ne){return new Promise(le=>{setTimeout(le,ne)})}(Ce.getNextRun(le)),Ce.pending.resolve(),yield Ce.pending.promise,Ce.pending=new St.BH,yield Ce.operation(),Ce.pending.resolve(),yield Ce.pending.promise,Ce.process(!0).catch(()=>{})}catch(Ze){Ce.retryPolicy(Ze)?Ce.process(!1).catch(()=>{}):Ce.stop()}})()}getNextRun(le){if(le)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Ce=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Ce}}}const tt=new St.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function gt(ne){if(!_t(ne).activated)throw tt.create("use-before-activation",{appName:ne.name})}function Nn(ne,le){return je.apply(this,arguments)}function je(){return(je=(0,Ue.Z)(function*({url:ne,body:le},Ce){const Ze={"Content-Type":"application/json"},xt=Ce.getImmediate({optional:!0});if(xt){const fi=yield xt.getHeartbeatsHeader();fi&&(Ze["X-Firebase-Client"]=fi)}const Xt={method:"POST",body:JSON.stringify(le),headers:Ze};let Jn,mn;try{Jn=yield fetch(ne,Xt)}catch(fi){throw tt.create("fetch-network-error",{originalErrorMessage:fi?.message})}if(200!==Jn.status)throw tt.create("fetch-status-error",{httpStatus:Jn.status});try{mn=yield Jn.json()}catch(fi){throw tt.create("fetch-parse-error",{originalErrorMessage:fi?.message})}const Vn=mn.ttl.match(/^([\d.]+)(s)$/);if(!Vn||!Vn[2]||isNaN(Number(Vn[1])))throw tt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${mn.ttl}`});const vi=1e3*Number(Vn[1]),An=Date.now();return{token:mn.token,expireTimeMillis:An+vi,issuedAtTimeMillis:An}})).apply(this,arguments)}function ze(ne,le){const{projectId:Ce,appId:Ze,apiKey:xt}=ne.options;return{url:`${Ke}/projects/${Ce}/apps/${Ze}:${zn}?key=${xt}`,body:{debug_token:le}}}const it="firebase-app-check-database",mt=1,It="firebase-app-check-store";let Fe=null;function un(ne,le){return xn.apply(this,arguments)}function xn(){return(xn=(0,Ue.Z)(function*(ne,le){const Ze=(yield function dt(){return Fe||(Fe=new Promise((ne,le)=>{try{const Ce=indexedDB.open(it,mt);Ce.onsuccess=Ze=>{ne(Ze.target.result)},Ce.onerror=Ze=>{var xt;le(tt.create("storage-open",{originalErrorMessage:null===(xt=Ze.target.error)||void 0===xt?void 0:xt.message}))},Ce.onupgradeneeded=Ze=>{0===Ze.oldVersion&&Ze.target.result.createObjectStore(It,{keyPath:"compositeKey"})}}catch(Ce){le(tt.create("storage-open",{originalErrorMessage:Ce?.message}))}}),Fe)}()).transaction(It,"readwrite"),Xt=Ze.objectStore(It).put({compositeKey:ne,value:le});return new Promise((Jn,mn)=>{Xt.onsuccess=Vn=>{Jn()},Ze.onerror=Vn=>{var vi;mn(tt.create("storage-set",{originalErrorMessage:null===(vi=Vn.target.error)||void 0===vi?void 0:vi.message}))}})})).apply(this,arguments)}const ir=new yt.Yd("@firebase/app-check");function zr(ne,le){return(0,St.hl)()?function be(ne,le){return un(function rr(ne){return`${ne.options.appId}-${ne.name}`}(ne),le)}(ne,le).catch(Ce=>{ir.warn(`Failed to write token to IndexedDB. Error: ${Ce}`)}):Promise.resolve()}function Oi(){return Ot().enabled}function yi(){return us.apply(this,arguments)}function us(){return(us=(0,Ue.Z)(function*(){const ne=Ot();if(ne.enabled&&ne.token)return ne.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const mr={error:"UNKNOWN_ERROR"};function Ci(ne){return St.US.encodeString(JSON.stringify(ne),!1)}function Kn(ne){return vt.apply(this,arguments)}function vt(){return(vt=(0,Ue.Z)(function*(ne,le=!1){const Ce=ne.app;gt(Ce);const Ze=_t(Ce);let Xt,xt=Ze.token;if(xt&&!hr(xt)&&(Ze.token=void 0,xt=void 0),!xt){const Vn=yield Ze.cachedTokenPromise;Vn&&(hr(Vn)?xt=Vn:yield zr(Ce,void 0))}if(!le&&xt&&hr(xt))return{token:xt.token};let mn,Jn=!1;if(Oi()){Ze.exchangeTokenPromise||(Ze.exchangeTokenPromise=Nn(ze(Ce,yield yi()),ne.heartbeatServiceProvider).finally(()=>{Ze.exchangeTokenPromise=void 0}),Jn=!0);const Vn=yield Ze.exchangeTokenPromise;return yield zr(Ce,Vn),Ze.token=Vn,{token:Vn.token}}try{Ze.exchangeTokenPromise||(Ze.exchangeTokenPromise=Ze.provider.getToken().finally(()=>{Ze.exchangeTokenPromise=void 0}),Jn=!0),xt=yield _t(Ce).exchangeTokenPromise}catch(Vn){"appCheck/throttled"===Vn.code?ir.warn(Vn.message):ir.error(Vn),Xt=Vn}return xt?Xt?mn=hr(xt)?{token:xt.token,internalError:Xt}:Ki(Xt):(mn={token:xt.token},Ze.token=xt,yield zr(Ce,xt)):mn=Ki(Xt),Jn&&function _i(ne,le){const Ce=_t(ne).tokenObservers;for(const Ze of Ce)try{"EXTERNAL"===Ze.type&&null!=le.error?Ze.error(le.error):Ze.next(le)}catch{}}(Ce,mn),mn})).apply(this,arguments)}function _n(ne){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,Ue.Z)(function*(ne){const le=ne.app;gt(le);const{provider:Ce}=_t(le);if(Oi()){const Ze=yield yi(),{token:xt}=yield Nn(ze(le,Ze),ne.heartbeatServiceProvider);return{token:xt}}{const{token:Ze}=yield Ce.getToken();return{token:Ze}}})).apply(this,arguments)}function dr(ne,le){const Ce=_t(ne),Ze=Ce.tokenObservers.filter(xt=>xt.next!==le);0===Ze.length&&Ce.tokenRefresher&&Ce.tokenRefresher.isRunning()&&Ce.tokenRefresher.stop(),Ce.tokenObservers=Ze}function hi(ne){const{app:le}=ne,Ce=_t(le);let Ze=Ce.tokenRefresher;Ze||(Ze=function Bn(ne){const{app:le}=ne;return new Ne((0,Ue.Z)(function*(){let Ze;if(Ze=_t(le).token?yield Kn(ne,!0):yield Kn(ne),Ze.error)throw Ze.error;if(Ze.internalError)throw Ze.internalError}),()=>!0,()=>{const Ce=_t(le);if(Ce.token){let Ze=Ce.token.issuedAtTimeMillis+.5*(Ce.token.expireTimeMillis-Ce.token.issuedAtTimeMillis)+3e5;return Ze=Math.min(Ze,Ce.token.expireTimeMillis-3e5),Math.max(0,Ze-Date.now())}return 0},kt.RETRIAL_MIN_WAIT,kt.RETRIAL_MAX_WAIT)}(ne),Ce.tokenRefresher=Ze),!Ze.isRunning()&&Ce.isTokenAutoRefreshEnabled&&Ze.start()}function hr(ne){return ne.expireTimeMillis-Date.now()>0}function Ki(ne){return{token:Ci(mr),error:ne}}class Gn{constructor(le,Ce){this.app=le,this.heartbeatServiceProvider=Ce}_delete(){const{tokenObservers:le}=_t(this.app);for(const Ce of le)dr(this.app,Ce.next);return Promise.resolve()}}const pn="app-check-internal";!function gn(){(0,ie.Xd)(new _e.wA("app-check",ne=>function ui(ne,le){return new Gn(ne,le)}(ne.getProvider("app").getImmediate(),ne.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((ne,le,Ce)=>{ne.getProvider(pn).initialize()})),(0,ie.Xd)(new _e.wA(pn,ne=>function Cr(ne){return{getToken:le=>Kn(ne,le),getLimitedUseToken:()=>_n(ne),addTokenListener:le=>function Xn(ne,le,Ce,Ze){const{app:xt}=ne,Xt=_t(xt);if(Xt.tokenObservers=[...Xt.tokenObservers,{next:Ce,error:Ze,type:le}],Xt.token&&hr(Xt.token)){const mn=Xt.token;Promise.resolve().then(()=>{Ce({token:mn.token}),hi(ne)}).catch(()=>{})}Xt.cachedTokenPromise.then(()=>hi(ne))}(ne,"INTERNAL",le),removeTokenListener:le=>dr(ne.app,le)}}(ne.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ie.KN)("@firebase/app-check","0.8.0")}();class Jr{constructor(){return(0,C.vb)("app-check")}}typeof window<"u"&&window},3692:(Fn,At,X)=>{X.d(At,{Ot:()=>Ie,ZF:()=>Ut,hX:()=>_t,z6:()=>Ue});var C=X(259),Q=X(8256),ce=X(3530);class Ie{constructor(Ne){return Ne}}class Ue{constructor(){return(0,C.C6)()}}const St=new Q.OlP("angularfire2._apps"),yt={provide:Ie,useFactory:function _e(Xe){return Xe&&1===Xe.length?Xe[0]:new Ie((0,C.Mq)())},deps:[[new Q.FiY,St]]},ve={provide:Ue,deps:[[new Q.FiY,St]]};function pe(Xe){return(Ne,ut)=>{const Mt=Ne.runOutsideAngular(()=>Xe(ut));return new Ie(Mt)}}let Ye=(()=>{class Xe{constructor(ut){(0,C.KN)("angularfire",ce.q4.full,"core"),(0,C.KN)("angularfire",ce.q4.full,"app"),(0,C.KN)("angular",Q.q4F.full,ut.toString())}}return Xe.\u0275fac=function(ut){return new(ut||Xe)(Q.LFG(Q.Lbi))},Xe.\u0275mod=Q.oAB({type:Xe}),Xe.\u0275inj=Q.cJS({providers:[yt,ve]}),Xe})();function _t(Xe,...Ne){return{ngModule:Ye,providers:[{provide:St,useFactory:pe(Xe),multi:!0,deps:[Q.R0b,Q.zs3,ce.HU,...Ne]}]}}const Ut=(0,ce.u3)(C.ZF,!0)},2309:(Fn,At,X)=>{X.d(At,{gx:()=>Vu,dh:()=>Pl,Xb:()=>jc,v0:()=>Sh,AR:()=>$c,w$:()=>qc,e5:()=>Ol,w7:()=>ko});var C=X(3530),Q=X(8256),ce=X(3692),Ie=X(259),Ue=X(2313),ie=X(5861),_e=X(2090),St=X(6881),yt=X(7582),ve=X(1877),pe=X(4859);const kt=function an(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Xe=new _e.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ut=new ve.Yd("@firebase/auth");function tt(E,...d){ut.logLevel<=ve.in.ERROR&&ut.error(`Auth (${St.Jn}): ${E}`,...d)}function Ct(E,...d){throw Nn(E,...d)}function gt(E,...d){return Nn(E,...d)}function Nn(E,...d){if("string"!=typeof E){const p=d[0],b=[...d.slice(1)];return b[0]&&(b[0].appName=E.name),E._errorFactory.create(p,...b)}return Xe.create(E,...d)}function je(E,d,...p){if(!E)throw Nn(d,...p)}function Pn(E){const d="INTERNAL ASSERTION FAILED: "+E;throw tt(d),new Error(d)}function Se(E,d){E||Pn(d)}function ze(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function mt(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Fe{constructor(d,p){this.shortDelay=d,this.longDelay=p,Se(p>d,"Short delay should be less than long delay!"),this.isMobile=(0,_e.uI)()||(0,_e.b$)()}get(){return function It(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function it(){return"http:"===mt()||"https:"===mt()}()||(0,_e.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dt(E,d){Se(E.emulator,"Emulator should always be set here");const{url:p}=E.emulator;return d?`${p}${d.startsWith("/")?d.slice(1):d}`:p}class Oe{static initialize(d,p,b){this.fetchImpl=d,p&&(this.headersImpl=p),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Pn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Pn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Pn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},bt=new Fe(3e4,6e4);function Rt(E,d){return E.tenantId&&!d.tenantId?Object.assign(Object.assign({},d),{tenantId:E.tenantId}):d}function un(E,d,p,b){return xn.apply(this,arguments)}function xn(){return(xn=(0,ie.Z)(function*(E,d,p,b,j={}){return cn(E,j,(0,ie.Z)(function*(){let Y={},Me={};b&&("GET"===d?Me=b:Y={body:JSON.stringify(b)});const et=(0,_e.xO)(Object.assign({key:E.config.apiKey},Me)).slice(1),Ht=yield E._getAdditionalHeaders();return Ht["Content-Type"]="application/json",E.languageCode&&(Ht["X-Firebase-Locale"]=E.languageCode),Oe.fetch()(Tr(E,E.config.apiHost,p,et),Object.assign({method:d,headers:Ht,referrerPolicy:"no-referrer"},Y))}))})).apply(this,arguments)}function cn(E,d,p){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,ie.Z)(function*(E,d,p){E._canInitEmulator=!1;const b=Object.assign(Object.assign({},be),d);try{const j=new gr(E),Y=yield Promise.race([p(),j.promise]);j.clearNetworkTimeout();const Me=yield Y.json();if("needConfirmation"in Me)throw zr(E,"account-exists-with-different-credential",Me);if(Y.ok&&!("errorMessage"in Me))return Me;{const et=Y.ok?Me.errorMessage:Me.error.message,[Ht,on]=et.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ht)throw zr(E,"credential-already-in-use",Me);if("EMAIL_EXISTS"===Ht)throw zr(E,"email-already-in-use",Me);if("USER_DISABLED"===Ht)throw zr(E,"user-disabled",Me);const bn=b[Ht]||Ht.toLowerCase().replace(/[_\s]+/g,"-");if(on)throw function en(E,d,p){const b=Object.assign(Object.assign({},kt()),{[d]:p});return new _e.LL("auth","Firebase",b).create(d,{appName:E.name})}(E,bn,on);Ct(E,bn)}}catch(j){if(j instanceof _e.ZR)throw j;Ct(E,"network-request-failed",{message:String(j)})}})).apply(this,arguments)}function rr(E,d,p,b){return ir.apply(this,arguments)}function ir(){return(ir=(0,ie.Z)(function*(E,d,p,b,j={}){const Y=yield un(E,d,p,b,j);return"mfaPendingCredential"in Y&&Ct(E,"multi-factor-auth-required",{_serverResponse:Y}),Y})).apply(this,arguments)}function Tr(E,d,p,b){const j=`${d}${p}?${b}`;return E.config.emulator?dt(E.config,j):`${E.config.apiScheme}://${j}`}class gr{constructor(d){this.auth=d,this.timer=null,this.promise=new Promise((p,b)=>{this.timer=setTimeout(()=>b(gt(this.auth,"network-request-failed")),bt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zr(E,d,p){const b={appName:E.name};p.email&&(b.email=p.email),p.phoneNumber&&(b.phoneNumber=p.phoneNumber);const j=gt(E,d,b);return j.customData._tokenResponse=p,j}function ur(){return(ur=(0,ie.Z)(function*(E,d){return un(E,"POST","/v1/accounts:delete",d)})).apply(this,arguments)}function ai(){return(ai=(0,ie.Z)(function*(E,d){return un(E,"POST","/v1/accounts:lookup",d)})).apply(this,arguments)}function mr(E){if(E)try{const d=new Date(Number(E));if(!isNaN(d.getTime()))return d.toUTCString()}catch{}}function vt(){return(vt=(0,ie.Z)(function*(E,d=!1){const p=(0,_e.m9)(E),b=yield p.getIdToken(d),j=Ln(b);je(j&&j.exp&&j.auth_time&&j.iat,p.auth,"internal-error");const Y="object"==typeof j.firebase?j.firebase:void 0,Me=Y?.sign_in_provider;return{claims:j,token:b,authTime:mr(_n(j.auth_time)),issuedAtTime:mr(_n(j.iat)),expirationTime:mr(_n(j.exp)),signInProvider:Me||null,signInSecondFactor:Y?.sign_in_second_factor||null}})).apply(this,arguments)}function _n(E){return 1e3*Number(E)}function Ln(E){const[d,p,b]=E.split(".");if(void 0===d||void 0===p||void 0===b)return tt("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,_e.tV)(p);return j?JSON.parse(j):(tt("Failed to decode base64 JWT payload"),null)}catch(j){return tt("Caught error parsing JWT payload as JSON",j?.toString()),null}}function dr(E,d){return hi.apply(this,arguments)}function hi(){return(hi=(0,ie.Z)(function*(E,d,p=!1){if(p)return d;try{return yield d}catch(b){throw b instanceof _e.ZR&&function Bn({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(b)&&E.auth.currentUser===E&&(yield E.auth.signOut()),b}})).apply(this,arguments)}class _i{constructor(d){this.user=d,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(d){var p;if(d){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const j=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(d=!1){var p=this;if(!this.isRunning)return;const b=this.getInterval(d);this.timerId=setTimeout((0,ie.Z)(function*(){yield p.iteration()}),b)}iteration(){var d=this;return(0,ie.Z)(function*(){try{yield d.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&d.schedule(!0))}d.schedule()})()}}class hr{constructor(d,p){this.createdAt=d,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=mr(this.lastLoginAt),this.creationTime=mr(this.createdAt)}_copy(d){this.createdAt=d.createdAt,this.lastLoginAt=d.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ki(E){return Gn.apply(this,arguments)}function Gn(){return Gn=(0,ie.Z)(function*(E){var d;const p=E.auth,b=yield E.getIdToken(),j=yield dr(E,function us(E,d){return ai.apply(this,arguments)}(p,{idToken:b}));je(j?.users.length,p,"internal-error");const Y=j.users[0];E._notifyReloadListener(Y);const Me=null!==(d=Y.providerUserInfo)&&void 0!==d&&d.length?function Vr(E){return E.map(d=>{var{providerId:p}=d,b=(0,yt._T)(d,["providerId"]);return{providerId:p,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(Y.providerUserInfo):[],et=function Ai(E,d){return[...E.filter(b=>!d.some(j=>j.providerId===b.providerId)),...d]}(E.providerData,Me),bn=!!E.isAnonymous&&!(E.email&&Y.passwordHash||et?.length),Er={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:et,metadata:new hr(Y.createdAt,Y.lastLoginAt),isAnonymous:bn};Object.assign(E,Er)}),Gn.apply(this,arguments)}function Cr(){return(Cr=(0,ie.Z)(function*(E){const d=(0,_e.m9)(E);yield Ki(d),yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)})).apply(this,arguments)}function Fr(){return(Fr=(0,ie.Z)(function*(E,d){const p=yield cn(E,{},(0,ie.Z)(function*(){const b=(0,_e.xO)({grant_type:"refresh_token",refresh_token:d}).slice(1),{tokenApiHost:j,apiKey:Y}=E.config,Me=Tr(E,j,"/v1/token",`key=${Y}`),et=yield E._getAdditionalHeaders();return et["Content-Type"]="application/x-www-form-urlencoded",Oe.fetch()(Me,{method:"POST",headers:et,body:b})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class sr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(d){je(d.idToken,"internal-error"),je(typeof d.idToken<"u","internal-error"),je(typeof d.refreshToken<"u","internal-error");const p="expiresIn"in d&&typeof d.expiresIn<"u"?Number(d.expiresIn):function Xn(E){const d=Ln(E);return je(d,"internal-error"),je(typeof d.exp<"u","internal-error"),je(typeof d.iat<"u","internal-error"),Number(d.exp)-Number(d.iat)}(d.idToken);this.updateTokensAndExpiration(d.idToken,d.refreshToken,p)}getToken(d,p=!1){var b=this;return(0,ie.Z)(function*(){return je(!b.accessToken||b.refreshToken,d,"user-token-expired"),p||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(d,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(d,p){var b=this;return(0,ie.Z)(function*(){const{accessToken:j,refreshToken:Y,expiresIn:Me}=yield function Cn(E,d){return Fr.apply(this,arguments)}(d,p);b.updateTokensAndExpiration(j,Y,Number(Me))})()}updateTokensAndExpiration(d,p,b){this.refreshToken=p||null,this.accessToken=d||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(d,p){const{refreshToken:b,accessToken:j,expirationTime:Y}=p,Me=new sr;return b&&(je("string"==typeof b,"internal-error",{appName:d}),Me.refreshToken=b),j&&(je("string"==typeof j,"internal-error",{appName:d}),Me.accessToken=j),Y&&(je("number"==typeof Y,"internal-error",{appName:d}),Me.expirationTime=Y),Me}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(d){this.accessToken=d.accessToken,this.refreshToken=d.refreshToken,this.expirationTime=d.expirationTime}_clone(){return Object.assign(new sr,this.toJSON())}_performRefresh(){return Pn("not implemented")}}function ln(E,d){je("string"==typeof E||typeof E>"u","internal-error",{appName:d})}class Ur{constructor(d){var{uid:p,auth:b,stsTokenManager:j}=d,Y=(0,yt._T)(d,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _i(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=b,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=Y.displayName||null,this.email=Y.email||null,this.emailVerified=Y.emailVerified||!1,this.phoneNumber=Y.phoneNumber||null,this.photoURL=Y.photoURL||null,this.isAnonymous=Y.isAnonymous||!1,this.tenantId=Y.tenantId||null,this.providerData=Y.providerData?[...Y.providerData]:[],this.metadata=new hr(Y.createdAt||void 0,Y.lastLoginAt||void 0)}getIdToken(d){var p=this;return(0,ie.Z)(function*(){const b=yield dr(p,p.stsTokenManager.getToken(p.auth,d));return je(b,p.auth,"internal-error"),p.accessToken!==b&&(p.accessToken=b,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),b})()}getIdTokenResult(d){return function Kn(E){return vt.apply(this,arguments)}(this,d)}reload(){return function ui(E){return Cr.apply(this,arguments)}(this)}_assign(d){this!==d&&(je(this.uid===d.uid,this.auth,"internal-error"),this.displayName=d.displayName,this.photoURL=d.photoURL,this.email=d.email,this.emailVerified=d.emailVerified,this.phoneNumber=d.phoneNumber,this.isAnonymous=d.isAnonymous,this.tenantId=d.tenantId,this.providerData=d.providerData.map(p=>Object.assign({},p)),this.metadata._copy(d.metadata),this.stsTokenManager._assign(d.stsTokenManager))}_clone(d){const p=new Ur(Object.assign(Object.assign({},this),{auth:d,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(d){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=d,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(d){this.reloadListener?this.reloadListener(d):this.reloadUserInfo=d}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(d,p=!1){var b=this;return(0,ie.Z)(function*(){let j=!1;d.idToken&&d.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(d),j=!0),p&&(yield Ki(b)),yield b.auth._persistUserIfCurrent(b),j&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var d=this;return(0,ie.Z)(function*(){const p=yield d.getIdToken();return yield dr(d,function nn(E,d){return ur.apply(this,arguments)}(d.auth,{idToken:p})),d.stsTokenManager.clearRefreshToken(),d.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(d=>Object.assign({},d)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(d,p){var b,j,Y,Me,et,Ht,on,bn;const Er=null!==(b=p.displayName)&&void 0!==b?b:void 0,Ks=null!==(j=p.email)&&void 0!==j?j:void 0,ta=null!==(Y=p.phoneNumber)&&void 0!==Y?Y:void 0,au=null!==(Me=p.photoURL)&&void 0!==Me?Me:void 0,kl=null!==(et=p.tenantId)&&void 0!==et?et:void 0,Sd=null!==(Ht=p._redirectEventId)&&void 0!==Ht?Ht:void 0,kh=null!==(on=p.createdAt)&&void 0!==on?on:void 0,Yc=null!==(bn=p.lastLoginAt)&&void 0!==bn?bn:void 0,{uid:Qc,emailVerified:Fh,isAnonymous:Lh,providerData:Fl,stsTokenManager:Uh}=p;je(Qc&&Uh,d,"internal-error");const op=sr.fromJSON(this.name,Uh);je("string"==typeof Qc,d,"internal-error"),ln(Er,d.name),ln(Ks,d.name),je("boolean"==typeof Fh,d,"internal-error"),je("boolean"==typeof Lh,d,"internal-error"),ln(ta,d.name),ln(au,d.name),ln(kl,d.name),ln(Sd,d.name),ln(kh,d.name),ln(Yc,d.name);const Cd=new Ur({uid:Qc,auth:d,email:Ks,emailVerified:Fh,displayName:Er,isAnonymous:Lh,photoURL:au,phoneNumber:ta,tenantId:kl,stsTokenManager:op,createdAt:kh,lastLoginAt:Yc});return Fl&&Array.isArray(Fl)&&(Cd.providerData=Fl.map(Ad=>Object.assign({},Ad))),Sd&&(Cd._redirectEventId=Sd),Cd}static _fromIdTokenResponse(d,p,b=!1){return(0,ie.Z)(function*(){const j=new sr;j.updateFromServerResponse(p);const Y=new Ur({uid:p.localId,auth:d,stsTokenManager:j,isAnonymous:b});return yield Ki(Y),Y})()}}const ae=new Map;function se(E){Se(E instanceof Function,"Expected a class definition");let d=ae.get(E);return d?(Se(d instanceof E,"Instance stored in cache mismatched with class"),d):(d=new E,ae.set(E,d),d)}const rt=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,ie.Z)(function*(){return!0})()}_set(p,b){var j=this;return(0,ie.Z)(function*(){j.storage[p]=b})()}_get(p){var b=this;return(0,ie.Z)(function*(){const j=b.storage[p];return void 0===j?null:j})()}_remove(p){var b=this;return(0,ie.Z)(function*(){delete b.storage[p]})()}_addListener(p,b){}_removeListener(p,b){}}return E.type="NONE",E})();function ke(E,d,p){return`firebase:${E}:${d}:${p}`}class $t{constructor(d,p,b){this.persistence=d,this.auth=p,this.userKey=b;const{config:j,name:Y}=this.auth;this.fullUserKey=ke(this.userKey,j.apiKey,Y),this.fullPersistenceKey=ke("persistence",j.apiKey,Y),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(d){return this.persistence._set(this.fullUserKey,d.toJSON())}getCurrentUser(){var d=this;return(0,ie.Z)(function*(){const p=yield d.persistence._get(d.fullUserKey);return p?Ur._fromJSON(d.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(d){var p=this;return(0,ie.Z)(function*(){if(p.persistence===d)return;const b=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=d,b?p.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(d,p,b="authUser"){return(0,ie.Z)(function*(){if(!p.length)return new $t(se(rt),d,b);const j=(yield Promise.all(p.map(function(){var on=(0,ie.Z)(function*(bn){if(yield bn._isAvailable())return bn});return function(bn){return on.apply(this,arguments)}}()))).filter(on=>on);let Y=j[0]||se(rt);const Me=ke(b,d.config.apiKey,d.name);let et=null;for(const on of p)try{const bn=yield on._get(Me);if(bn){const Er=Ur._fromJSON(d,bn);on!==Y&&(et=Er),Y=on;break}}catch{}const Ht=j.filter(on=>on._shouldAllowMigration);return Y._shouldAllowMigration&&Ht.length?(Y=Ht[0],et&&(yield Y._set(Me,et.toJSON())),yield Promise.all(p.map(function(){var on=(0,ie.Z)(function*(bn){if(bn!==Y)try{yield bn._remove(Me)}catch{}});return function(bn){return on.apply(this,arguments)}}())),new $t(Y,d,b)):new $t(Y,d,b)})()}}function we(E){const d=E.toLowerCase();if(d.includes("opera/")||d.includes("opr/")||d.includes("opios/"))return"Opera";if(Qe(d))return"IEMobile";if(d.includes("msie")||d.includes("trident/"))return"IE";if(d.includes("edge/"))return"Edge";if(fe(d))return"Firefox";if(d.includes("silk/"))return"Silk";if(Kt(d))return"Blackberry";if(tn(d))return"Webos";if(ee(d))return"Safari";if((d.includes("chrome/")||Ee(d))&&!d.includes("edge/"))return"Chrome";if(ft(d))return"Android";{const b=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function fe(E=(0,_e.z$)()){return/firefox\//i.test(E)}function ee(E=(0,_e.z$)()){const d=E.toLowerCase();return d.includes("safari/")&&!d.includes("chrome/")&&!d.includes("crios/")&&!d.includes("android")}function Ee(E=(0,_e.z$)()){return/crios\//i.test(E)}function Qe(E=(0,_e.z$)()){return/iemobile/i.test(E)}function ft(E=(0,_e.z$)()){return/android/i.test(E)}function Kt(E=(0,_e.z$)()){return/blackberry/i.test(E)}function tn(E=(0,_e.z$)()){return/webos/i.test(E)}function or(E=(0,_e.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function wt(E=(0,_e.z$)()){return or(E)||ft(E)||tn(E)||Kt(E)||/windows phone/i.test(E)||Qe(E)}function gn(E,d=[]){let p;switch(E){case"Browser":p=we((0,_e.z$)());break;case"Worker":p=`${we((0,_e.z$)())}-${E}`;break;default:p=E}const b=d.length?d.join(","):"FirebaseCore-web";return`${p}/JsCore/${St.Jn}/${b}`}function Jr(E,d){return xr.apply(this,arguments)}function xr(){return(xr=(0,ie.Z)(function*(E,d){return un(E,"GET","/v2/recaptchaConfig",Rt(E,d))})).apply(this,arguments)}function Ys(E){return void 0!==E&&void 0!==E.enterprise}class Ts{constructor(d){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===d.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=d.recaptchaKey.split("/")[3],this.emailPasswordEnabled=d.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function ps(E){return new Promise((d,p)=>{const b=document.createElement("script");b.setAttribute("src",E),b.onload=d,b.onerror=j=>{const Y=gt("internal-error");Y.customData=j,p(Y)},b.type="text/javascript",b.charset="UTF-8",function Ds(){var E,d;return null!==(d=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==d?d:document}().appendChild(b)})}function Wn(E){return`__${E}${Math.floor(1e6*Math.random())}`}const Zi="NO_RECAPTCHA";class On{constructor(d){this.type="recaptcha-enterprise",this.auth=ne(d)}verify(d="verify",p=!1){var b=this;return(0,ie.Z)(function*(){function Y(){return Y=(0,ie.Z)(function*(et){if(!p){if(null==et.tenantId&&null!=et._agentRecaptchaConfig)return et._agentRecaptchaConfig.siteKey;if(null!=et.tenantId&&void 0!==et._tenantRecaptchaConfigs[et.tenantId])return et._tenantRecaptchaConfigs[et.tenantId].siteKey}return new Promise(function(){var Ht=(0,ie.Z)(function*(on,bn){Jr(et,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Er=>{if(void 0!==Er.recaptchaKey){const Ks=new Ts(Er);return null==et.tenantId?et._agentRecaptchaConfig=Ks:et._tenantRecaptchaConfigs[et.tenantId]=Ks,on(Ks.siteKey)}bn(new Error("recaptcha Enterprise site key undefined"))}).catch(Er=>{bn(Er)})});return function(on,bn){return Ht.apply(this,arguments)}}())}),Y.apply(this,arguments)}function Me(et,Ht,on){const bn=window.grecaptcha;Ys(bn)?bn.enterprise.ready(()=>{bn.enterprise.execute(et,{action:d}).then(Er=>{Ht(Er)}).catch(()=>{Ht(Zi)})}):on(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((et,Ht)=>{(function j(et){return Y.apply(this,arguments)})(b.auth).then(on=>{if(!p&&Ys(window.grecaptcha))Me(on,et,Ht);else{if(typeof window>"u")return void Ht(new Error("RecaptchaVerifier is only supported in browser"));ps("https://www.google.com/recaptcha/enterprise.js?render="+on).then(()=>{Me(on,et,Ht)}).catch(bn=>{Ht(bn)})}}).catch(on=>{Ht(on)})})})()}}function Vi(E,d,p){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,ie.Z)(function*(E,d,p,b=!1){const j=new On(E);let Y;try{Y=yield j.verify(p)}catch{Y=yield j.verify(p,!0)}const Me=Object.assign({},d);return Object.assign(Me,b?{captchaResp:Y}:{captchaResponse:Y}),Object.assign(Me,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Me,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Me})).apply(this,arguments)}class cs{constructor(d){this.auth=d,this.queue=[]}pushCallback(d,p){const b=Y=>new Promise((Me,et)=>{try{Me(d(Y))}catch(Ht){et(Ht)}});b.onAbort=p,this.queue.push(b);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(d){var p=this;return(0,ie.Z)(function*(){if(p.auth.currentUser===d)return;const b=[];try{for(const j of p.queue)yield j(d),j.onAbort&&b.push(j.onAbort)}catch(j){b.reverse();for(const Y of b)try{Y()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:j?.message})}})()}}class Yi{constructor(d,p,b,j){this.app=d,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=b,this.config=j,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new le(this),this.idTokenSubscription=new le(this),this.beforeStateQueue=new cs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=d.name,this.clientVersion=j.sdkClientVersion}_initializeWithPersistence(d,p){var b=this;return p&&(this._popupRedirectResolver=se(p)),this._initializationPromise=this.queue((0,ie.Z)(function*(){var j,Y;if(!b._deleted&&(b.persistenceManager=yield $t.create(b,d),!b._deleted)){if(null!==(j=b._popupRedirectResolver)&&void 0!==j&&j._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(p),b.lastNotifiedUid=(null===(Y=b.currentUser)||void 0===Y?void 0:Y.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var d=this;return(0,ie.Z)(function*(){if(d._deleted)return;const p=yield d.assertedPersistence.getCurrentUser();if(d.currentUser||p){if(d.currentUser&&p&&d.currentUser.uid===p.uid)return d._currentUser._assign(p),void(yield d.currentUser.getIdToken());yield d._updateCurrentUser(p,!0)}})()}initializeCurrentUser(d){var p=this;return(0,ie.Z)(function*(){var b;const j=yield p.assertedPersistence.getCurrentUser();let Y=j,Me=!1;if(d&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const et=null===(b=p.redirectUser)||void 0===b?void 0:b._redirectEventId,Ht=Y?._redirectEventId,on=yield p.tryRedirectSignIn(d);(!et||et===Ht)&&on?.user&&(Y=on.user,Me=!0)}if(!Y)return p.directlySetCurrentUser(null);if(!Y._redirectEventId){if(Me)try{yield p.beforeStateQueue.runMiddleware(Y)}catch(et){Y=j,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(et))}return Y?p.reloadAndSetCurrentUserOrClear(Y):p.directlySetCurrentUser(null)}return je(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===Y._redirectEventId?p.directlySetCurrentUser(Y):p.reloadAndSetCurrentUserOrClear(Y)})()}tryRedirectSignIn(d){var p=this;return(0,ie.Z)(function*(){let b=null;try{b=yield p._popupRedirectResolver._completeRedirectFn(p,d,!0)}catch{yield p._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(d){var p=this;return(0,ie.Z)(function*(){try{yield Ki(d)}catch(b){if("auth/network-request-failed"!==b?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(d)})()}useDeviceLanguage(){this.languageCode=function Tt(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var d=this;return(0,ie.Z)(function*(){d._deleted=!0})()}updateCurrentUser(d){var p=this;return(0,ie.Z)(function*(){const b=d?(0,_e.m9)(d):null;return b&&je(b.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(b&&b._clone(p))})()}_updateCurrentUser(d,p=!1){var b=this;return(0,ie.Z)(function*(){if(!b._deleted)return d&&je(b.tenantId===d.tenantId,b,"tenant-id-mismatch"),p||(yield b.beforeStateQueue.runMiddleware(d)),b.queue((0,ie.Z)(function*(){yield b.directlySetCurrentUser(d),b.notifyAuthListeners()}))})()}signOut(){var d=this;return(0,ie.Z)(function*(){return yield d.beforeStateQueue.runMiddleware(null),(d.redirectPersistenceManager||d._popupRedirectResolver)&&(yield d._setRedirectUser(null)),d._updateCurrentUser(null,!0)})()}setPersistence(d){var p=this;return this.queue((0,ie.Z)(function*(){yield p.assertedPersistence.setPersistence(se(d))}))}initializeRecaptchaConfig(){var d=this;return(0,ie.Z)(function*(){const p=yield Jr(d,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new Ts(p);null==d.tenantId?d._agentRecaptchaConfig=b:d._tenantRecaptchaConfigs[d.tenantId]=b,b.emailPasswordEnabled&&new On(d).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(d){this._errorFactory=new _e.LL("auth","Firebase",d())}onAuthStateChanged(d,p,b){return this.registerStateListener(this.authStateSubscription,d,p,b)}beforeAuthStateChanged(d,p){return this.beforeStateQueue.pushCallback(d,p)}onIdTokenChanged(d,p,b){return this.registerStateListener(this.idTokenSubscription,d,p,b)}toJSON(){var d;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(d=this._currentUser)||void 0===d?void 0:d.toJSON()}}_setRedirectUser(d,p){var b=this;return(0,ie.Z)(function*(){const j=yield b.getOrInitRedirectPersistenceManager(p);return null===d?j.removeCurrentUser():j.setCurrentUser(d)})()}getOrInitRedirectPersistenceManager(d){var p=this;return(0,ie.Z)(function*(){if(!p.redirectPersistenceManager){const b=d&&se(d)||p._popupRedirectResolver;je(b,p,"argument-error"),p.redirectPersistenceManager=yield $t.create(p,[se(b._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(d){var p=this;return(0,ie.Z)(function*(){var b,j;return p._isInitialized&&(yield p.queue((0,ie.Z)(function*(){}))),(null===(b=p._currentUser)||void 0===b?void 0:b._redirectEventId)===d?p._currentUser:(null===(j=p.redirectUser)||void 0===j?void 0:j._redirectEventId)===d?p.redirectUser:null})()}_persistUserIfCurrent(d){var p=this;return(0,ie.Z)(function*(){if(d===p.currentUser)return p.queue((0,ie.Z)(function*(){return p.directlySetCurrentUser(d)}))})()}_notifyListenersIfCurrent(d){d===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var d,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(p=null===(d=this.currentUser)||void 0===d?void 0:d.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(d,p,b,j){if(this._deleted)return()=>{};const Y="function"==typeof p?p:p.next.bind(p),Me=this._isInitialized?Promise.resolve():this._initializationPromise;return je(Me,this,"internal-error"),Me.then(()=>Y(this.currentUser)),"function"==typeof p?d.addObserver(p,b,j):d.addObserver(p)}directlySetCurrentUser(d){var p=this;return(0,ie.Z)(function*(){p.currentUser&&p.currentUser!==d&&p._currentUser._stopProactiveRefresh(),d&&p.isProactiveRefreshEnabled&&d._startProactiveRefresh(),p.currentUser=d,d?yield p.assertedPersistence.setCurrentUser(d):yield p.assertedPersistence.removeCurrentUser()})()}queue(d){return this.operations=this.operations.then(d,d),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(d){!d||this.frameworks.includes(d)||(this.frameworks.push(d),this.frameworks.sort(),this.clientVersion=gn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var d=this;return(0,ie.Z)(function*(){var p;const b={"X-Client-Version":d.clientVersion};d.app.options.appId&&(b["X-Firebase-gmpid"]=d.app.options.appId);const j=yield null===(p=d.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();j&&(b["X-Firebase-Client"]=j);const Y=yield d._getAppCheckToken();return Y&&(b["X-Firebase-AppCheck"]=Y),b})()}_getAppCheckToken(){var d=this;return(0,ie.Z)(function*(){var p;const b=yield null===(p=d.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return b?.error&&function Mt(E,...d){ut.logLevel<=ve.in.WARN&&ut.warn(`Auth (${St.Jn}): ${E}`,...d)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function ne(E){return(0,_e.m9)(E)}class le{constructor(d){this.auth=d,this.observer=null,this.addObserver=(0,_e.ne)(p=>this.observer=p)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Xt(E){const d=E.indexOf(":");return d<0?"":E.substr(0,d+1)}function mn(E){if(!E)return null;const d=Number(E);return isNaN(d)?null:d}class vi{constructor(d,p){this.providerId=d,this.signInMethod=p}toJSON(){return Pn("not implemented")}_getIdTokenResponse(d){return Pn("not implemented")}_linkToIdToken(d,p){return Pn("not implemented")}_getReauthenticationResolver(d){return Pn("not implemented")}}function Br(E,d){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,ie.Z)(function*(E,d){return un(E,"POST","/v1/accounts:update",d)})).apply(this,arguments)}function ls(E,d){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,ie.Z)(function*(E,d){return rr(E,"POST","/v1/accounts:signInWithPassword",Rt(E,d))})).apply(this,arguments)}function ri(E,d){return $s.apply(this,arguments)}function $s(){return($s=(0,ie.Z)(function*(E,d){return un(E,"POST","/v1/accounts:sendOobCode",Rt(E,d))})).apply(this,arguments)}function yr(){return(yr=(0,ie.Z)(function*(E,d){return ri(E,d)})).apply(this,arguments)}function Xi(){return(Xi=(0,ie.Z)(function*(E,d){return rr(E,"POST","/v1/accounts:signInWithEmailLink",Rt(E,d))})).apply(this,arguments)}function Ti(){return(Ti=(0,ie.Z)(function*(E,d){return rr(E,"POST","/v1/accounts:signInWithEmailLink",Rt(E,d))})).apply(this,arguments)}class Cs extends vi{constructor(d,p,b,j=null){super("password",b),this._email=d,this._password=p,this._tenantId=j}static _fromEmailAndPassword(d,p){return new Cs(d,p,"password")}static _fromEmailAndCode(d,p,b=null){return new Cs(d,p,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(d){const p="string"==typeof d?JSON.parse(d):d;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(d){var p=this;return(0,ie.Z)(function*(){var b;switch(p.signInMethod){case"password":const j={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=d._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const Y=yield Vi(d,j,"signInWithPassword");return ls(d,Y)}return ls(d,j).catch(function(){var Y=(0,ie.Z)(function*(Me){if("auth/missing-recaptcha-token"===Me.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const et=yield Vi(d,j,"signInWithPassword");return ls(d,et)}return Promise.reject(Me)});return function(Me){return Y.apply(this,arguments)}}());case"emailLink":return function Qi(E,d){return Xi.apply(this,arguments)}(d,{email:p._email,oobCode:p._password});default:Ct(d,"internal-error")}})()}_linkToIdToken(d,p){var b=this;return(0,ie.Z)(function*(){switch(b.signInMethod){case"password":return Br(d,{idToken:p,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function ei(E,d){return Ti.apply(this,arguments)}(d,{idToken:p,email:b._email,oobCode:b._password});default:Ct(d,"internal-error")}})()}_getReauthenticationResolver(d){return this._getIdTokenResponse(d)}}function Ji(E,d){return _r.apply(this,arguments)}function _r(){return(_r=(0,ie.Z)(function*(E,d){return rr(E,"POST","/v1/accounts:signInWithIdp",Rt(E,d))})).apply(this,arguments)}class Rs{constructor(d){var p,b,j,Y,Me,et;const Ht=(0,_e.zd)((0,_e.pd)(d)),on=null!==(p=Ht.apiKey)&&void 0!==p?p:null,bn=null!==(b=Ht.oobCode)&&void 0!==b?b:null,Er=function Na(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=Ht.mode)&&void 0!==j?j:null);je(on&&bn&&Er,"argument-error"),this.apiKey=on,this.operation=Er,this.code=bn,this.continueUrl=null!==(Y=Ht.continueUrl)&&void 0!==Y?Y:null,this.languageCode=null!==(Me=Ht.languageCode)&&void 0!==Me?Me:null,this.tenantId=null!==(et=Ht.tenantId)&&void 0!==et?et:null}static parseLink(d){const p=function ma(E){const d=(0,_e.zd)((0,_e.pd)(E)).link,p=d?(0,_e.zd)((0,_e.pd)(d)).deep_link_id:null,b=(0,_e.zd)((0,_e.pd)(E)).deep_link_id;return(b?(0,_e.zd)((0,_e.pd)(b)).link:null)||b||p||d||E}(d);try{return new Rs(p)}catch{return null}}}let Di=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(p,b){return Cs._fromEmailAndPassword(p,b)}static credentialWithLink(p,b){const j=Rs.parseLink(b);return je(j,"argument-error"),Cs._fromEmailAndCode(p,j.code,j.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class ji{constructor(d){this.providerId=d,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(d){this.defaultLanguageCode=d}setCustomParameters(d){return this.customParameters=d,this}getCustomParameters(){return this.customParameters}}class To extends ji{constructor(){super(...arguments),this.scopes=[]}addScope(d){return this.scopes.includes(d)||this.scopes.push(d),this}getScopes(){return[...this.scopes]}}function xo(E,d){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,ie.Z)(function*(E,d){return rr(E,"POST","/v1/accounts:signUp",Rt(E,d))})).apply(this,arguments)}class Pr{constructor(d){this.user=d.user,this.providerId=d.providerId,this._tokenResponse=d._tokenResponse,this.operationType=d.operationType}static _fromIdTokenResponse(d,p,b,j=!1){return(0,ie.Z)(function*(){const Y=yield Ur._fromIdTokenResponse(d,b,j),Me=Hi(b);return new Pr({user:Y,providerId:Me,_tokenResponse:b,operationType:p})})()}static _forOperation(d,p,b){return(0,ie.Z)(function*(){yield d._updateTokensIfNecessary(b,!0);const j=Hi(b);return new Pr({user:d,providerId:j,_tokenResponse:b,operationType:p})})()}}function Hi(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}class zi extends _e.ZR{constructor(d,p,b,j){var Y;super(p.code,p.message),this.operationType=b,this.user=j,Object.setPrototypeOf(this,zi.prototype),this.customData={appName:d.name,tenantId:null!==(Y=d.tenantId)&&void 0!==Y?Y:void 0,_serverResponse:p.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(d,p,b,j){return new zi(d,p,b,j)}}function ro(E,d,p,b){return("reauthenticate"===d?p._getReauthenticationResolver(E):p._getIdTokenResponse(E)).catch(Y=>{throw"auth/multi-factor-auth-required"===Y.code?zi._fromErrorAndOperation(E,Y,d,b):Y})}function ts(E,d){return io.apply(this,arguments)}function io(){return(io=(0,ie.Z)(function*(E,d,p=!1){const b=yield dr(E,d._linkToIdToken(E.auth,yield E.getIdToken()),p);return Pr._forOperation(E,"link",b)})).apply(this,arguments)}function wi(E,d){return V.apply(this,arguments)}function V(){return(V=(0,ie.Z)(function*(E,d,p=!1){const{auth:b}=E,j="reauthenticate";try{const Y=yield dr(E,ro(b,j,d,E),p);je(Y.idToken,b,"internal-error");const Me=Ln(Y.idToken);je(Me,b,"internal-error");const{sub:et}=Me;return je(E.uid===et,b,"user-mismatch"),Pr._forOperation(E,j,Y)}catch(Y){throw"auth/user-not-found"===Y?.code&&Ct(b,"user-mismatch"),Y}})).apply(this,arguments)}function B(E,d){return re.apply(this,arguments)}function re(){return(re=(0,ie.Z)(function*(E,d,p=!1){const b="signIn",j=yield ro(E,b,d),Y=yield Pr._fromIdTokenResponse(E,b,j);return p||(yield E._updateCurrentUser(Y.user)),Y})).apply(this,arguments)}function ue(E,d){return xe.apply(this,arguments)}function xe(){return(xe=(0,ie.Z)(function*(E,d){return B(ne(E),d)})).apply(this,arguments)}function Ko(E,d,p){return Fi.apply(this,arguments)}function Fi(){return Fi=(0,ie.Z)(function*(E,d,p){var b;const j=ne(E),Y={returnSecureToken:!0,email:d,password:p,clientType:"CLIENT_TYPE_WEB"};let Me;if(null!==(b=j._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const on=yield Vi(j,Y,"signUpPassword");Me=xo(j,on)}else Me=xo(j,Y).catch(function(){var on=(0,ie.Z)(function*(bn){if("auth/missing-recaptcha-token"===bn.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Er=yield Vi(j,Y,"signUpPassword");return xo(j,Er)}return Promise.reject(bn)});return function(bn){return on.apply(this,arguments)}}());const et=yield Me.catch(on=>Promise.reject(on)),Ht=yield Pr._fromIdTokenResponse(j,"signIn",et);return yield j._updateCurrentUser(Ht.user),Ht}),Fi.apply(this,arguments)}function Yr(E,d,p){return ue((0,_e.m9)(E),Di.credential(d,p))}function st(E,d){return zt.apply(this,arguments)}function zt(){return zt=(0,ie.Z)(function*(E,d){const p=(0,_e.m9)(E),j={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};d&&function yn(E,d,p){var b;je((null===(b=p.url)||void 0===b?void 0:b.length)>0,E,"invalid-continue-uri"),je(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),d.continueUrl=p.url,d.dynamicLinkDomain=p.dynamicLinkDomain,d.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(je(p.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),d.iOSBundleId=p.iOS.bundleId),p.android&&(je(p.android.packageName.length>0,E,"missing-android-pkg-name"),d.androidInstallApp=p.android.installApp,d.androidMinimumVersionCode=p.android.minimumVersion,d.androidPackageName=p.android.packageName)}(p.auth,j,d);const{email:Y}=yield function Xs(E,d){return yr.apply(this,arguments)}(p.auth,j);Y!==E.email&&(yield E.reload())}),zt.apply(this,arguments)}function dn(E){return(0,_e.m9)(E).signOut()}const jt="__sak";class qe{constructor(d,p){this.storageRetriever=d,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(jt,"1"),this.storage.removeItem(jt),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(d,p){return this.storage.setItem(d,JSON.stringify(p)),Promise.resolve()}_get(d){const p=this.storage.getItem(d);return Promise.resolve(p?JSON.parse(p):null)}_remove(d){return this.storage.removeItem(d),Promise.resolve()}get storage(){return this.storageRetriever()}}const va=(()=>{class E extends qe{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,b)=>this.onStorageEvent(p,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Dt(){const E=(0,_e.z$)();return ee(E)||or(E)}()&&function pn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=wt(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const b of Object.keys(this.listeners)){const j=this.storage.getItem(b),Y=this.localCache[b];j!==Y&&p(b,Y,j)}}onStorageEvent(p,b=!1){if(!p.key)return void this.forAllChangedKeys((et,Ht,on)=>{this.notifyListeners(et,on)});const j=p.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const et=this.storage.getItem(j);if(p.newValue!==et)null!==p.newValue?this.storage.setItem(j,p.newValue):this.storage.removeItem(j);else if(this.localCache[j]===p.newValue&&!b)return}const Y=()=>{const et=this.storage.getItem(j);!b&&this.localCache[j]===et||this.notifyListeners(j,et)},Me=this.storage.getItem(j);!function Le(){return(0,_e.w1)()&&10===document.documentMode}()||Me===p.newValue||p.newValue===p.oldValue?Y():setTimeout(Y,10)}notifyListeners(p,b){this.localCache[p]=b;const j=this.listeners[p];if(j)for(const Y of Array.from(j))Y(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,b,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:b,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(b)}_removeListener(p,b){this.listeners[p]&&(this.listeners[p].delete(b),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,b){var j=()=>super._set,Y=this;return(0,ie.Z)(function*(){yield j().call(Y,p,b),Y.localCache[p]=JSON.stringify(b)})()}_get(p){var b=()=>super._get,j=this;return(0,ie.Z)(function*(){const Y=yield b().call(j,p);return j.localCache[p]=JSON.stringify(Y),Y})()}_remove(p){var b=()=>super._remove,j=this;return(0,ie.Z)(function*(){yield b().call(j,p),delete j.localCache[p]})()}}return E.type="LOCAL",E})(),rc=(()=>{class E extends qe{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,b){}_removeListener(p,b){}}return E.type="SESSION",E})();let ic=(()=>{class E{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const b=this.receivers.find(Y=>Y.isListeningto(p));if(b)return b;const j=new E(p);return this.receivers.push(j),j}isListeningto(p){return this.eventTarget===p}handleEvent(p){var b=this;return(0,ie.Z)(function*(){const j=p,{eventId:Y,eventType:Me,data:et}=j.data,Ht=b.handlersMap[Me];if(!Ht?.size)return;j.ports[0].postMessage({status:"ack",eventId:Y,eventType:Me});const on=Array.from(Ht).map(function(){var Er=(0,ie.Z)(function*(Ks){return Ks(j.origin,et)});return function(Ks){return Er.apply(this,arguments)}}()),bn=yield function Xa(E){return Promise.all(E.map(function(){var d=(0,ie.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(b){return{fulfilled:!1,reason:b}}});return function(p){return d.apply(this,arguments)}}()))}(on);j.ports[0].postMessage({status:"done",eventId:Y,eventType:Me,response:bn})})()}_subscribe(p,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(b)}_unsubscribe(p,b){this.handlersMap[p]&&b&&this.handlersMap[p].delete(b),(!b||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Do(E="",d=10){let p="";for(let b=0;b<d;b++)p+=Math.floor(10*Math.random());return E+p}class xu{constructor(d){this.target=d,this.handlers=new Set}removeMessageHandler(d){d.messageChannel&&(d.messageChannel.port1.removeEventListener("message",d.onMessage),d.messageChannel.port1.close()),this.handlers.delete(d)}_send(d,p,b=50){var j=this;return(0,ie.Z)(function*(){const Y=typeof MessageChannel<"u"?new MessageChannel:null;if(!Y)throw new Error("connection_unavailable");let Me,et;return new Promise((Ht,on)=>{const bn=Do("",20);Y.port1.start();const Er=setTimeout(()=>{on(new Error("unsupported_event"))},b);et={messageChannel:Y,onMessage(Ks){const ta=Ks;if(ta.data.eventId===bn)switch(ta.data.status){case"ack":clearTimeout(Er),Me=setTimeout(()=>{on(new Error("timeout"))},3e3);break;case"done":clearTimeout(Me),Ht(ta.data.response);break;default:clearTimeout(Er),clearTimeout(Me),on(new Error("invalid_response"))}}},j.handlers.add(et),Y.port1.addEventListener("message",et.onMessage),j.target.postMessage({eventType:d,eventId:bn,data:p},[Y.port2])}).finally(()=>{et&&j.removeMessageHandler(et)})})()}}function xi(){return window}function vn(){return typeof xi().WorkerGlobalScope<"u"&&"function"==typeof xi().importScripts}function ns(){return(ns=(0,ie.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const rs="firebaseLocalStorageDb",kr=1,ra="firebaseLocalStorage",Ui="fbase_key";class Vt{constructor(d){this.request=d}toPromise(){return new Promise((d,p)=>{this.request.addEventListener("success",()=>{d(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function oo(E,d){return E.transaction([ra],d?"readwrite":"readonly").objectStore(ra)}function Qo(){const E=indexedDB.open(rs,kr);return new Promise((d,p)=>{E.addEventListener("error",()=>{p(E.error)}),E.addEventListener("upgradeneeded",()=>{const b=E.result;try{b.createObjectStore(ra,{keyPath:Ui})}catch(j){p(j)}}),E.addEventListener("success",(0,ie.Z)(function*(){const b=E.result;b.objectStoreNames.contains(ra)?d(b):(b.close(),yield function fu(){const E=indexedDB.deleteDatabase(rs);return new Vt(E).toPromise()}(),d(yield Qo()))}))})}function Pu(E,d,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,ie.Z)(function*(E,d,p){const b=oo(E,!0).put({[Ui]:d,value:p});return new Vt(b).toPromise()})).apply(this,arguments)}function is(){return(is=(0,ie.Z)(function*(E,d){const p=oo(E,!1).get(d),b=yield new Vt(p).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function Ja(E,d){const p=oo(E,!0).delete(d);return new Vt(p).toPromise()}const Ns=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,ie.Z)(function*(){return p.db||(p.db=yield Qo()),p.db})()}_withRetries(p){var b=this;return(0,ie.Z)(function*(){let j=0;for(;;)try{const Y=yield b._openDb();return yield p(Y)}catch(Y){if(j++>3)throw Y;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,ie.Z)(function*(){return vn()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,ie.Z)(function*(){p.receiver=ic._getInstance(function Mn(){return vn()?self:null}()),p.receiver._subscribe("keyChanged",function(){var b=(0,ie.Z)(function*(j,Y){return{keyProcessed:(yield p._poll()).includes(Y.key)}});return function(j,Y){return b.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var b=(0,ie.Z)(function*(j,Y){return["keyChanged"]});return function(j,Y){return b.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,ie.Z)(function*(){var b,j;if(p.activeServiceWorker=yield function na(){return ns.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new xu(p.activeServiceWorker);const Y=yield p.sender._send("ping",{},800);Y&&null!==(b=Y[0])&&void 0!==b&&b.fulfilled&&null!==(j=Y[0])&&void 0!==j&&j.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var b=this;return(0,ie.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Pi(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:p},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,ie.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Qo();return yield Pu(p,jt,"1"),yield Ja(p,jt),!0}catch{}return!1})()}_withPendingWrite(p){var b=this;return(0,ie.Z)(function*(){b.pendingWrites++;try{yield p()}finally{b.pendingWrites--}})()}_set(p,b){var j=this;return(0,ie.Z)(function*(){return j._withPendingWrite((0,ie.Z)(function*(){return yield j._withRetries(Y=>Pu(Y,p,b)),j.localCache[p]=b,j.notifyServiceWorker(p)}))})()}_get(p){var b=this;return(0,ie.Z)(function*(){const j=yield b._withRetries(Y=>function sc(E,d){return is.apply(this,arguments)}(Y,p));return b.localCache[p]=j,j})()}_remove(p){var b=this;return(0,ie.Z)(function*(){return b._withPendingWrite((0,ie.Z)(function*(){return yield b._withRetries(j=>Ja(j,p)),delete b.localCache[p],b.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,ie.Z)(function*(){const b=yield p._withRetries(Me=>{const et=oo(Me,!1).getAll();return new Vt(et).toPromise()});if(!b)return[];if(0!==p.pendingWrites)return[];const j=[],Y=new Set;for(const{fbase_key:Me,value:et}of b)Y.add(Me),JSON.stringify(p.localCache[Me])!==JSON.stringify(et)&&(p.notifyListeners(Me,et),j.push(Me));for(const Me of Object.keys(p.localCache))p.localCache[Me]&&!Y.has(Me)&&(p.notifyListeners(Me,null),j.push(Me));return j})()}notifyListeners(p,b){this.localCache[p]=b;const j=this.listeners[p];if(j)for(const Y of Array.from(j))Y(b)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,ie.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(b)}_removeListener(p,b){this.listeners[p]&&(this.listeners[p].delete(b),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();Wn("rcb"),new Fe(3e4,6e4);class S extends vi{constructor(d){super("custom","custom"),this.params=d}_getIdTokenResponse(d){return Ji(d,this._buildIdpRequest())}_linkToIdToken(d,p){return Ji(d,this._buildIdpRequest(p))}_getReauthenticationResolver(d){return Ji(d,this._buildIdpRequest())}_buildIdpRequest(d){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return d&&(p.idToken=d),p}}function N(E){return B(E.auth,new S(E),E.bypassAuthState)}function z(E){const{auth:d,user:p}=E;return je(p,d,"internal-error"),wi(p,new S(E),E.bypassAuthState)}function K(E){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,ie.Z)(function*(E){const{auth:d,user:p}=E;return je(p,d,"internal-error"),ts(p,new S(E),E.bypassAuthState)})).apply(this,arguments)}class lt{constructor(d,p,b,j,Y=!1){this.auth=d,this.resolver=b,this.user=j,this.bypassAuthState=Y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var d=this;return new Promise(function(){var p=(0,ie.Z)(function*(b,j){d.pendingPromise={resolve:b,reject:j};try{d.eventManager=yield d.resolver._initialize(d.auth),yield d.onExecution(),d.eventManager.registerConsumer(d)}catch(Y){d.reject(Y)}});return function(b,j){return p.apply(this,arguments)}}())}onAuthEvent(d){var p=this;return(0,ie.Z)(function*(){const{urlResponse:b,sessionId:j,postBody:Y,tenantId:Me,error:et,type:Ht}=d;if(et)return void p.reject(et);const on={auth:p.auth,requestUri:b,sessionId:j,tenantId:Me||void 0,postBody:Y||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Ht)(on))}catch(bn){p.reject(bn)}})()}onError(d){this.reject(d)}getIdpTask(d){switch(d){case"signInViaPopup":case"signInViaRedirect":return N;case"linkViaPopup":case"linkViaRedirect":return K;case"reauthViaPopup":case"reauthViaRedirect":return z;default:Ct(this.auth,"internal-error")}}resolve(d){Se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(d),this.unregisterAndCleanUp()}reject(d){Se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(d),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Fe(2e3,1e4);const oc="pendingRedirect",di=new Map;class kc extends lt{constructor(d,p,b=!1){super(d,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,b),this.eventId=null}execute(){var d=()=>super.execute,p=this;return(0,ie.Z)(function*(){let b=di.get(p.auth._key());if(!b){try{const Y=(yield function Va(E,d){return $a.apply(this,arguments)}(p.resolver,p.auth))?yield d().call(p):null;b=()=>Promise.resolve(Y)}catch(j){b=()=>Promise.reject(j)}di.set(p.auth._key(),b)}return p.bypassAuthState||di.set(p.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(d){var p=()=>super.onAuthEvent,b=this;return(0,ie.Z)(function*(){if("signInViaRedirect"===d.type)return p().call(b,d);if("unknown"!==d.type){if(d.eventId){const j=yield b.auth._redirectUserForId(d.eventId);if(j)return b.user=j,p().call(b,d);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,ie.Z)(function*(){})()}cleanUp(){}}function $a(){return($a=(0,ie.Z)(function*(E,d){const p=function Xo(E){return ke(oc,E.config.apiKey,E.name)}(d),b=function Ha(E){return se(E._redirectPersistence)}(E);if(!(yield b._isAvailable()))return!1;const j="true"===(yield b._get(p));return yield b._remove(p),j})).apply(this,arguments)}function Ni(E,d){di.set(E._key(),d)}function Dl(E,d){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,ie.Z)(function*(E,d,p=!1){const b=ne(E),j=function g(E,d){return d?se(d):(je(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}(b,d),Me=yield new kc(b,j,p).execute();return Me&&!p&&(delete Me.user._redirectEventId,yield b._persistUserIfCurrent(Me.user),yield b._setRedirectUser(null,d)),Me})).apply(this,arguments)}class aa{constructor(d){this.auth=d,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(d){this.consumers.add(d),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,d)&&(this.sendToConsumer(this.queuedRedirectEvent,d),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(d){this.consumers.delete(d)}onEvent(d){if(this.hasEventBeenHandled(d))return!1;let p=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(d,b)&&(p=!0,this.sendToConsumer(d,b),this.saveEventToCache(d))}),this.hasHandledPotentialRedirect||!function Lc(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ca(E);default:return!1}}(d)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=d,p=!0)),p}sendToConsumer(d,p){var b;if(d.error&&!ca(d)){const j=(null===(b=d.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";p.onError(gt(this.auth,j))}else p.onAuthEvent(d)}isEventForConsumer(d,p){const b=null===p.eventId||!!d.eventId&&d.eventId===p.eventId;return p.filter.includes(d.type)&&b}hasEventBeenHandled(d){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ua(d))}saveEventToCache(d){this.cachedEventUids.add(ua(d)),this.lastProcessedEventTime=Date.now()}}function ua(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(d=>d).join("-")}function ca({type:E,error:d}){return"unknown"===E&&"auth/no-auth-event"===d?.code}function yu(){return(yu=(0,ie.Z)(function*(E,d={}){return un(E,"GET","/v1/projects",d)})).apply(this,arguments)}const Lu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,za=/^https?/;function Uu(){return Uu=(0,ie.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:d}=yield function la(E){return yu.apply(this,arguments)}(E);for(const p of d)try{if(md(p))return}catch{}Ct(E,"unauthorized-domain")}),Uu.apply(this,arguments)}function md(E){const d=ze(),{protocol:p,hostname:b}=new URL(d);if(E.startsWith("chrome-extension://")){const Me=new URL(E);return""===Me.hostname&&""===b?"chrome-extension:"===p&&E.replace("chrome-extension://","")===d.replace("chrome-extension://",""):"chrome-extension:"===p&&Me.hostname===b}if(!za.test(p))return!1;if(Lu.test(E))return b===E;const j=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(b)}const Uc=new Fe(3e4,6e4);function ru(){const E=xi().___jsl;if(E?.H)for(const d of Object.keys(E.H))if(E.H[d].r=E.H[d].r||[],E.H[d].L=E.H[d].L||[],E.H[d].r=[...E.H[d].L],E.CP)for(let p=0;p<E.CP.length;p++)E.CP[p]=null}let iu=null;const da=new Fe(5e3,15e3),Ga="__/auth/iframe",Sl="emulator/auth/iframe",qi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Si(E){const d=E.config;je(d.authDomain,E,"auth-domain-config-required");const p=d.emulator?dt(d,Sl):`https://${E.config.authDomain}/${Ga}`,b={apiKey:d.apiKey,appName:E.name,v:St.Jn},j=Cl.get(E.config.apiHost);j&&(b.eid=j);const Y=E._getFrameworks();return Y.length&&(b.fw=Y.join(",")),`${p}?${(0,_e.xO)(b).slice(1)}`}function uc(){return uc=(0,ie.Z)(function*(E){const d=yield function bl(E){return iu=iu||function Jo(E){return new Promise((d,p)=>{var b,j,Y;function Me(){ru(),gapi.load("gapi.iframes",{callback:()=>{d(gapi.iframes.getContext())},ontimeout:()=>{ru(),p(gt(E,"network-request-failed"))},timeout:Uc.get()})}if(null!==(j=null===(b=xi().gapi)||void 0===b?void 0:b.iframes)&&void 0!==j&&j.Iframe)d(gapi.iframes.getContext());else{if(null===(Y=xi().gapi)||void 0===Y||!Y.load){const et=Wn("iframefcb");return xi()[et]=()=>{gapi.load?Me():p(gt(E,"network-request-failed"))},ps(`https://apis.google.com/js/api.js?onload=${et}`).catch(Ht=>p(Ht))}Me()}}).catch(d=>{throw iu=null,d})}(E),iu}(E),p=xi().gapi;return je(p,E,"internal-error"),d.open({where:document.body,url:Si(E),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qi,dontclear:!0},b=>new Promise(function(){var j=(0,ie.Z)(function*(Y,Me){yield b.restyle({setHideOnLeave:!1});const et=gt(E,"network-request-failed"),Ht=xi().setTimeout(()=>{Me(et)},da.get());function on(){xi().clearTimeout(Ht),Y(b)}b.ping(on).then(on,()=>{Me(et)})});return function(Y,Me){return j.apply(this,arguments)}}()))}),uc.apply(this,arguments)}const Al={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},su=500,I=600,R="_blank",k="http://localhost";class Z{constructor(d){this.window=d,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const We="__/auth/handler",qt="emulator/auth/handler",Gt=encodeURIComponent("fac");function Sn(E,d,p,b,j,Y){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,ie.Z)(function*(E,d,p,b,j,Y){je(E.config.authDomain,E,"auth-domain-config-required"),je(E.config.apiKey,E,"invalid-api-key");const Me={apiKey:E.config.apiKey,appName:E.name,authType:p,redirectUrl:b,v:St.Jn,eventId:j};if(d instanceof ji){d.setDefaultLanguage(E.languageCode),Me.providerId=d.providerId||"",(0,_e.xb)(d.getCustomParameters())||(Me.customParameters=JSON.stringify(d.getCustomParameters()));for(const[bn,Er]of Object.entries(Y||{}))Me[bn]=Er}if(d instanceof To){const bn=d.getScopes().filter(Er=>""!==Er);bn.length>0&&(Me.scopes=bn.join(","))}E.tenantId&&(Me.tid=E.tenantId);const et=Me;for(const bn of Object.keys(et))void 0===et[bn]&&delete et[bn];const Ht=yield E._getAppCheckToken(),on=Ht?`#${Gt}=${encodeURIComponent(Ht)}`:"";return`${function tr({config:E}){return E.emulator?dt(E,qt):`https://${E.authDomain}/${We}`}(E)}?${(0,_e.xO)(et).slice(1)}${on}`})).apply(this,arguments)}const So="webStorageSupport",cc=class ks{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rc,this._completeRedirectFn=Dl,this._overrideRedirectResult=Ni}_openPopup(d,p,b,j){var Y=this;return(0,ie.Z)(function*(){var Me;Se(null===(Me=Y.eventManagers[d._key()])||void 0===Me?void 0:Me.manager,"_initialize() not called before _openPopup()");const et=yield Sn(d,p,b,ze(),j);return function ye(E,d,p,b=su,j=I){const Y=Math.max((window.screen.availHeight-j)/2,0).toString(),Me=Math.max((window.screen.availWidth-b)/2,0).toString();let et="";const Ht=Object.assign(Object.assign({},Al),{width:b.toString(),height:j.toString(),top:Y,left:Me}),on=(0,_e.z$)().toLowerCase();p&&(et=Ee(on)?R:p),fe(on)&&(d=d||k,Ht.scrollbars="yes");const bn=Object.entries(Ht).reduce((Ks,[ta,au])=>`${Ks}${ta}=${au},`,"");if(function He(E=(0,_e.z$)()){var d;return or(E)&&!(null===(d=window.navigator)||void 0===d||!d.standalone)}(on)&&"_self"!==et)return function Pe(E,d){const p=document.createElement("a");p.href=E,p.target=d;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(b)}(d||"",et),new Z(null);const Er=window.open(d||"",et,bn);je(Er,E,"popup-blocked");try{Er.focus()}catch{}return new Z(Er)}(d,et,Do())})()}_openRedirect(d,p,b,j){var Y=this;return(0,ie.Z)(function*(){return yield Y._originValidation(d),function Fa(E){xi().location.href=E}(yield Sn(d,p,b,ze(),j)),new Promise(()=>{})})()}_initialize(d){const p=d._key();if(this.eventManagers[p]){const{manager:j,promise:Y}=this.eventManagers[p];return j?Promise.resolve(j):(Se(Y,"If manager is not set, promise should be"),Y)}const b=this.initAndGetManager(d);return this.eventManagers[p]={promise:b},b.catch(()=>{delete this.eventManagers[p]}),b}initAndGetManager(d){var p=this;return(0,ie.Z)(function*(){const b=yield function Wa(E){return uc.apply(this,arguments)}(d),j=new aa(d);return b.register("authEvent",Y=>(je(Y?.authEvent,d,"invalid-auth-event"),{status:j.onEvent(Y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[d._key()]={manager:j},p.iframes[d._key()]=b,j})()}_isIframeWebStorageSupported(d,p){this.iframes[d._key()].send(So,{type:So},j=>{var Y;const Me=null===(Y=j?.[0])||void 0===Y?void 0:Y[So];void 0!==Me&&p(!!Me),Ct(d,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(d){const p=d._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function gd(E){return Uu.apply(this,arguments)}(d)),this.originValidationPromises[p]}get _shouldInitProactively(){return wt()||ee()||or()}};var wu="@firebase/auth";class hc{constructor(d){this.auth=d,this.internalListeners=new Map}getUid(){var d;return this.assertAuthConfigured(),(null===(d=this.auth.currentUser)||void 0===d?void 0:d.uid)||null}getToken(d){var p=this;return(0,ie.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(d)}:null})()}addAuthTokenListener(d){if(this.assertAuthConfigured(),this.internalListeners.has(d))return;const p=this.auth.onIdTokenChanged(b=>{d(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(d,p),this.updateProactiveRefresh()}removeAuthTokenListener(d){this.assertAuthConfigured();const p=this.internalListeners.get(d);p&&(this.internalListeners.delete(d),p(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ra=(0,_e.Pz)("authIdTokenMaxAge")||300;let Rl=null;const pc=E=>function(){var d=(0,ie.Z)(function*(p){const b=p&&(yield p.getIdTokenResult()),j=b&&((new Date).getTime()-Date.parse(b.issuedAtTime))/1e3;if(j&&j>Ra)return;const Y=b?.token;Rl!==Y&&(Rl=Y,yield fetch(E,{method:Y?"POST":"DELETE",headers:Y?{Authorization:`Bearer ${Y}`}:{}}))});return function(p){return d.apply(this,arguments)}}();function Ml(E=(0,St.Mq)()){const d=(0,St.qX)(E,"auth");if(d.isInitialized())return d.getImmediate();const p=function Ce(E,d){const p=(0,St.qX)(E,"auth");if(p.isInitialized()){const j=p.getImmediate(),Y=p.getOptions();if((0,_e.vZ)(Y,d??{}))return j;Ct(j,"already-initialized")}return p.initialize({options:d})}(E,{popupRedirectResolver:cc,persistence:[Ns,va,rc]}),b=(0,_e.Pz)("authTokenSyncURL");if(b){const Y=pc(b);(function ot(E,d,p){(0,_e.m9)(E).beforeAuthStateChanged(d,p)})(p,Y,()=>Y(p.currentUser)),function ct(E,d,p,b){(0,_e.m9)(E).onIdTokenChanged(d,p,b)}(p,Me=>Y(Me))}const j=(0,_e.q4)("auth");return j&&function xt(E,d,p){const b=ne(E);je(b._canInitEmulator,b,"emulator-config-failed"),je(/^https?:\/\//.test(d),b,"invalid-emulator-scheme");const j=!!p?.disableWarnings,Y=Xt(d),{host:Me,port:et}=function Jn(E){const d=Xt(E),p=/(\/\/)?([^?#/]+)/.exec(E.substr(d.length));if(!p)return{host:"",port:null};const b=p[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(b);if(j){const Y=j[1];return{host:Y,port:mn(b.substr(Y.length+1))}}{const[Y,Me]=b.split(":");return{host:Y,port:mn(Me)}}}(d);b.config.emulator={url:`${Y}//${Me}${null===et?"":`:${et}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Me,port:et,protocol:Y.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function Vn(){function E(){const d=document.createElement("p"),p=d.style;d.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",d.classList.add("firebase-emulator-warning"),document.body.appendChild(d)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(p,`http://${j}`),p}!function yd(E){(0,St.Xd)(new pe.wA("auth",(d,{options:p})=>{const b=d.getProvider("app").getImmediate(),j=d.getProvider("heartbeat"),Y=d.getProvider("app-check-internal"),{apiKey:Me,authDomain:et}=b.options;je(Me&&!Me.includes(":"),"invalid-api-key",{appName:b.name});const Ht={apiKey:Me,authDomain:et,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gn(E)},on=new Yi(b,j,Y,Ht);return function Ze(E,d){const p=d?.persistence||[],b=(Array.isArray(p)?p:[p]).map(se);d?.errorMap&&E._updateErrorMap(d.errorMap),E._initializeWithPersistence(b,d?.popupRedirectResolver)}(on,p),on},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((d,p,b)=>{d.getProvider("auth-internal").initialize()})),(0,St.Xd)(new pe.wA("auth-internal",d=>{const p=ne(d.getProvider("auth").getImmediate());return new hc(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,St.KN)(wu,"0.23.2",function fc(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,St.KN)(wu,"0.23.2","esm2017")}("Browser");class Vu{constructor(d){return d}}class Pl{constructor(){return(0,C.vb)("auth")}}const Eo=new Q.OlP("angularfire2.auth-instances");function Bc(E){return(d,p)=>{const b=d.runOutsideAngular(()=>E(p));return new Vu(b)}}const $u={provide:Pl,deps:[[new Q.FiY,Eo]]},vd={provide:Vu,useFactory:function _d(E,d){const p=(0,C.JM)("auth",E,d);return p&&new Vu(p)},deps:[[new Q.FiY,Eo],ce.Ot]};let Vc=(()=>{class E{constructor(){(0,Ie.KN)("angularfire",C.q4.full,"auth")}}return E.\u0275fac=function(p){return new(p||E)},E.\u0275mod=Q.oAB({type:E}),E.\u0275inj=Q.cJS({providers:[vd,$u]}),E})();function $c(E,...d){return{ngModule:Vc,providers:[{provide:Eo,useFactory:Bc(E),multi:!0,deps:[Q.R0b,Q.zs3,C.HU,ce.z6,[new Q.FiY,Ue.nm],...d]}]}}const jc=(0,C.u3)(Ko,!0),Sh=(0,C.u3)(Ml,!0),qc=(0,C.u3)(st,!0),Ol=(0,C.u3)(Yr,!0),ko=(0,C.u3)(dn,!0)},4102:(Fn,At,X)=>{X.d(At,{gg:()=>_h,ET:()=>Ky,hJ:()=>Lv,BS:()=>qy,JU:()=>Xy,QT:()=>Jy,ad:()=>e_,Cm:()=>Ug,IO:()=>wh,pl:()=>t_,r7:()=>qv,ar:()=>Kv});var me,C=X(3530),Q=X(8256),ce=X(2309),Ie=X(3692),Ue=X(259),ie=X(2313),_e=X(5861),St=X(6881),yt=X(4859),ve=X(1877),pe=X(2090),Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_t={},Ot=Ot||{},Ke=Ye||self;function Ut(r){var e=typeof r;return"array"==(e="object"!=e?e:r?Array.isArray(r)?"array":e:"null")||"object"==e&&"number"==typeof r.length}function an(r){var e=typeof r;return"object"==e&&null!=r||"function"==e}var kt="closure_uid_"+(1e9*Math.random()>>>0),Xe=0;function Ne(r,e,t){return r.call.apply(r.bind,arguments)}function ut(r,e,t){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,s),r.apply(e,a)}}return function(){return r.apply(e,arguments)}}function Mt(r,e,t){return(Mt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ne:ut).apply(null,arguments)}function tt(r,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Ct(r,e){function t(){}t.prototype=e.prototype,r.$=e.prototype,r.prototype=new t,r.prototype.constructor=r,r.ac=function(s,a,l){for(var f=Array(arguments.length-2),T=2;T<arguments.length;T++)f[T-2]=arguments[T];return e.prototype[a].apply(s,f)}}function gt(){this.s=this.s,this.o=this.o}gt.prototype.s=!1,gt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function zn(r){Object.prototype.hasOwnProperty.call(r,kt)&&r[kt]||(r[kt]=++Xe)}(this)},gt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Qt=Array.prototype.indexOf?function(r,e){return Array.prototype.indexOf.call(r,e,void 0)}:function(r,e){if("string"==typeof r)return"string"!=typeof e||1!=e.length?-1:r.indexOf(e,0);for(let t=0;t<r.length;t++)if(t in r&&r[t]===e)return t;return-1};function Nn(r){const e=r.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=r[s];return t}return[]}function je(r,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Ut(s)){const a=r.length||0,l=s.length||0;r.length=a+l;for(let f=0;f<l;f++)r[a+f]=s[f]}else r.push(s)}}function Pn(r,e){this.type=r,this.g=this.target=e,this.defaultPrevented=!1}Pn.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!Ke.addEventListener||!Object.defineProperty)return!1;var r=!1,e=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Ke.addEventListener("test",()=>{},e),Ke.removeEventListener("test",()=>{},e)}catch{}return r}();function ze(r){return/^[\s\xa0]*$/.test(r)}function it(){var r=Ke.navigator;return r&&(r=r.userAgent)?r:""}function mt(r){return-1!=it().indexOf(r)}function It(r){return It[" "](r),r}It[" "]=function(){};var xn,r,Fe=mt("Opera"),dt=mt("Trident")||mt("MSIE"),Oe=mt("Edge"),be=Oe||dt,bt=mt("Gecko")&&!(-1!=it().toLowerCase().indexOf("webkit")&&!mt("Edge"))&&!(mt("Trident")||mt("MSIE"))&&!mt("Edge"),Rt=-1!=it().toLowerCase().indexOf("webkit")&&!mt("Edge");function un(){var r=Ke.document;return r?r.documentMode:void 0}e:{var cn="",Mr=(r=it(),bt?/rv:([^\);]+)(\)|;)/.exec(r):Oe?/Edge\/([\d\.]+)/.exec(r):dt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):Rt?/WebKit\/(\S+)/.exec(r):Fe?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(Mr&&(cn=Mr?Mr[1]:""),dt){var rr=un();if(null!=rr&&rr>parseFloat(cn)){xn=String(rr);break e}}xn=cn}var gr=Ke.document&&dt&&(un()||parseInt(xn,10))||void 0;function zr(r,e){if(Pn.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var t=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=e,e=r.relatedTarget){if(bt){e:{try{It(e.nodeName);var a=!0;break e}catch{}a=!1}a||(e=null)}}else"mouseover"==t?e=r.fromElement:"mouseout"==t&&(e=r.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:nn[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&zr.$.h.call(this)}}Ct(zr,Pn);var nn={2:"touch",3:"pen",4:"mouse"};zr.prototype.h=function(){zr.$.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var ur="closure_listenable_"+(1e6*Math.random()|0),Oi=0;function yi(r,e,t,s,a){this.listener=r,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.la=a,this.key=++Oi,this.fa=this.ia=!1}function us(r){r.fa=!0,r.listener=null,r.proxy=null,r.src=null,r.la=null}function ai(r,e,t){for(const s in r)e.call(t,r[s],s,r)}function Ci(r){const e={};for(const t in r)e[t]=r[t];return e}const Kn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vt(r,e){let t,s;for(let a=1;a<arguments.length;a++){for(t in s=arguments[a],s)r[t]=s[t];for(let l=0;l<Kn.length;l++)t=Kn[l],Object.prototype.hasOwnProperty.call(s,t)&&(r[t]=s[t])}}function _n(r){this.src=r,this.g={},this.h=0}function Ln(r,e){var t=e.type;if(t in r.g){var l,s=r.g[t],a=Qt(s,e);(l=0<=a)&&Array.prototype.splice.call(s,a,1),l&&(us(e),0==r.g[t].length&&(delete r.g[t],r.h--))}}function Xn(r,e,t,s){for(var a=0;a<r.length;++a){var l=r[a];if(!l.fa&&l.listener==e&&l.capture==!!t&&l.la==s)return a}return-1}_n.prototype.add=function(r,e,t,s,a){var l=r.toString();(r=this.g[l])||(r=this.g[l]=[],this.h++);var f=Xn(r,e,s,a);return-1<f?(e=r[f],t||(e.ia=!1)):((e=new yi(e,this.src,l,!!s,a)).ia=t,r.push(e)),e};var dr="closure_lm_"+(1e6*Math.random()|0),hi={};function Bn(r,e,t,s,a){if(s&&s.once)return Ki(r,e,t,s,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Bn(r,e[l],t,s,a);return null}return t=Fr(t),r&&r[ur]?r.O(e,t,an(s)?!!s.capture:!!s,a):_i(r,e,t,!1,s,a)}function _i(r,e,t,s,a,l){if(!e)throw Error("Invalid event type");var f=an(a)?!!a.capture:!!a,T=Vr(r);if(T||(r[dr]=T=new _n(r)),(t=T.add(e,t,s,f,l)).proxy)return t;if(s=function hr(){const e=Ai;return function r(t){return e.call(r.src,r.listener,t)}}(),t.proxy=s,s.src=r,s.listener=t,r.addEventListener)Se||(a=f),void 0===a&&(a=!1),r.addEventListener(e.toString(),s,a);else if(r.attachEvent)r.attachEvent(Cr(e.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return t}function Ki(r,e,t,s,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Ki(r,e[l],t,s,a);return null}return t=Fr(t),r&&r[ur]?r.P(e,t,an(s)?!!s.capture:!!s,a):_i(r,e,t,!0,s,a)}function Gn(r,e,t,s,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)Gn(r,e[l],t,s,a);else s=an(s)?!!s.capture:!!s,t=Fr(t),r&&r[ur]?(r=r.i,(e=String(e).toString())in r.g&&-1<(t=Xn(l=r.g[e],t,s,a))&&(us(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete r.g[e],r.h--))):r&&(r=Vr(r))&&(e=r.g[e.toString()],r=-1,e&&(r=Xn(e,t,s,a)),(t=-1<r?e[r]:null)&&ui(t))}function ui(r){if("number"!=typeof r&&r&&!r.fa){var e=r.src;if(e&&e[ur])Ln(e.i,r);else{var t=r.type,s=r.proxy;e.removeEventListener?e.removeEventListener(t,s,r.capture):e.detachEvent?e.detachEvent(Cr(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=Vr(e))?(Ln(t,r),0==t.h&&(t.src=null,e[dr]=null)):us(r)}}}function Cr(r){return r in hi?hi[r]:hi[r]="on"+r}function Ai(r,e){if(r.fa)r=!0;else{e=new zr(e,this);var t=r.listener,s=r.la||r.src;r.ia&&ui(r),r=t.call(s,e)}return r}function Vr(r){return(r=r[dr])instanceof _n?r:null}var Cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fr(r){return"function"==typeof r?r:(r[Cn]||(r[Cn]=function(e){return r.handleEvent(e)}),r[Cn])}function sr(){gt.call(this),this.i=new _n(this),this.S=this,this.J=null}function ln(r,e){var t,s=r.J;if(s)for(t=[];s;s=s.J)t.push(s);if(r=r.S,s=e.type||e,"string"==typeof e)e=new Pn(e,r);else if(e instanceof Pn)e.target=e.target||r;else{var a=e;vt(e=new Pn(s,r),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var f=e.g=t[l];a=Ur(f,s,!0,e)&&a}if(a=Ur(f=e.g=r,s,!0,e)&&a,a=Ur(f,s,!1,e)&&a,t)for(l=0;l<t.length;l++)a=Ur(f=e.g=t[l],s,!1,e)&&a}function Ur(r,e,t,s){if(!(e=r.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.fa&&f.capture==t){var T=f.listener,O=f.la||f.src;f.ia&&Ln(r.i,f),a=!1!==T.call(O,s)&&a}}return a&&!s.defaultPrevented}Ct(sr,gt),sr.prototype[ur]=!0,sr.prototype.removeEventListener=function(r,e,t,s){Gn(this,r,e,t,s)},sr.prototype.N=function(){if(sr.$.N.call(this),this.i){var e,r=this.i;for(e in r.g){for(var t=r.g[e],s=0;s<t.length;s++)us(t[s]);delete r.g[e],r.h--}}this.J=null},sr.prototype.O=function(r,e,t,s){return this.i.add(String(r),e,!1,t,s)},sr.prototype.P=function(r,e,t,s){return this.i.add(String(r),e,!0,t,s)};var ae=Ke.JSON.stringify;function Te(){var r=Qe;let e=null;return r.g&&(e=r.g,r.g=r.g.next,r.g||(r.h=null),e.next=null),e}var ke=new class se{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new $t,r=>r.reset());class $t{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function we(r){var e=1;r=r.split(":");const t=[];for(;0<e&&r.length;)t.push(r.shift()),e--;return r.length&&t.push(r.join(":")),t}function fe(r){Ke.setTimeout(()=>{throw r},0)}let ee,Ee=!1,Qe=new class rt{constructor(){this.h=this.g=null}add(e,t){const s=ke.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}},ft=()=>{const r=Ke.Promise.resolve(void 0);ee=()=>{r.then(Kt)}};var Kt=()=>{for(var r;r=Te();){try{r.h.call(r.g)}catch(t){fe(t)}var e=ke;e.j(r),100>e.h&&(e.h++,r.next=e.g,e.g=r)}Ee=!1};function tn(r,e){sr.call(this),this.h=r||1,this.g=e||Ke,this.j=Mt(this.qb,this),this.l=Date.now()}function or(r){r.ga=!1,r.T&&(r.g.clearTimeout(r.T),r.T=null)}function Ii(r,e,t){if("function"==typeof r)t&&(r=Mt(r,t));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Mt(r.handleEvent,r)}return 2147483647<Number(e)?-1:Ke.setTimeout(r,e||0)}function He(r){r.g=Ii(()=>{r.g=null,r.i&&(r.i=!1,He(r))},r.j);const e=r.h;r.h=null,r.m.apply(null,e)}Ct(tn,sr),(me=tn.prototype).ga=!1,me.T=null,me.qb=function(){if(this.ga){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-r):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ln(this,"tick"),this.ga&&(or(this),this.start()))}},me.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},me.N=function(){tn.$.N.call(this),or(this),delete this.g};class Le extends gt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:He(this)}N(){super.N(),this.g&&(Ke.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wt(r){gt.call(this),this.h=r,this.g={}}Ct(wt,gt);var pn=[];function gn(r,e,t,s){Array.isArray(t)||(t&&(pn[0]=t.toString()),t=pn);for(var a=0;a<t.length;a++){var l=Bn(e,t[a],s||r.handleEvent,!1,r.h||r);if(!l)break;r.g[l.key]=l}}function Un(r){ai(r.g,function(e,t){this.g.hasOwnProperty(t)&&ui(e)},r),r.g={}}function jn(){this.g=!0}function Gr(r,e,t,s){r.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Ts(r,e){if(!r.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(r=0;r<t.length;r++)if(Array.isArray(t[r])){var s=t[r];if(!(2>s.length)){var a=s[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<a.length;f++)a[f]=""}}}return ae(t)}catch{return e}}(r,t)+(s?" "+s:"")})}wt.prototype.N=function(){wt.$.N.call(this),Un(this)},wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jn.prototype.Ea=function(){this.g=!1},jn.prototype.info=function(){};var Ds={},ps=null;function Wn(){return ps=ps||new sr}function $r(r){Pn.call(this,Ds.Ta,r)}function Zr(r){const e=Wn();ln(e,new $r(e))}function Zi(r,e){Pn.call(this,Ds.STAT_EVENT,r),this.stat=e}function On(r){const e=Wn();ln(e,new Zi(e,r))}function Vi(r,e){Pn.call(this,Ds.Ua,r),this.size=e}function Ri(r,e){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Ke.setTimeout(function(){r()},e)}Ds.Ta="serverreachability",Ct($r,Pn),Ds.STAT_EVENT="statevent",Ct(Zi,Pn),Ds.Ua="timingevent",Ct(Vi,Pn);var cs={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Yi={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ne(){}function Ce(){}ne.prototype.h=null;var Jn,Ze={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function xt(){Pn.call(this,"d")}function Xt(){Pn.call(this,"c")}function mn(){}function Vn(r,e,t,s){this.l=r,this.j=e,this.m=t,this.W=s||1,this.U=new wt(this),this.P=An,this.V=new tn(r=be?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vi}function vi(){this.i=null,this.g="",this.h=!1}Ct(xt,Pn),Ct(Xt,Pn),Ct(mn,ne),mn.prototype.g=function(){return new XMLHttpRequest},mn.prototype.i=function(){return{}},Jn=new mn;var An=45e3,fi={},Br={};function Qs(r,e,t){r.L=1,r.v=$i(ei(e)),r.s=t,r.S=!0,pi(r,null)}function pi(r,e){r.G=Date.now(),ri(r),r.A=ei(r.v);var t=r.A,s=r.W;Array.isArray(s)||(s=[String(s)]),ma(t.i,"t",s),r.C=0,t=r.l.J,r.h=new vi,r.g=Fi(r.l,t?e:null,!r.s),0<r.O&&(r.M=new Le(Mt(r.Pa,r,r.g),r.O)),gn(r.U,r.g,"readystatechange",r.nb),e=r.I?Ci(r.I):{},r.s?(r.u||(r.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",r.g.ha(r.A,r.u,r.s,e)):(r.u="GET",r.g.ha(r.A,r.u,null,e)),Zr(),function Jr(r,e,t,s,a,l){r.info(function(){if(r.g)if(l)for(var f="",T=l.split("&"),O=0;O<T.length;O++){var U=T[O].split("=");if(1<U.length){var q=U[0];U=U[1];var he=q.split("_");f=2<=he.length&&"type"==he[1]?f+(q+"=")+U+"&":f+(q+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+s+") [attempt "+a+"]: "+e+"\n"+t+"\n"+f})}(r.j,r.u,r.A,r.m,r.W,r.s)}function ni(r){return!!r.g&&"GET"==r.u&&2!=r.L&&r.l.Ha}function ls(r,e,t){let a,s=!0;for(;!r.J&&r.C<t.length;){if(a=Vs(r,t),a==Br){4==e&&(r.o=4,On(14),s=!1),Gr(r.j,r.m,null,"[Incomplete Response]");break}if(a==fi){r.o=4,On(15),Gr(r.j,r.m,t,"[Invalid Chunk]"),s=!1;break}Gr(r.j,r.m,a,null),fo(r,a)}ni(r)&&a!=Br&&a!=fi&&(r.h.g="",r.C=0),4!=e||0!=t.length||r.h.h||(r.o=1,On(16),s=!1),r.i=r.i&&s,s?0<t.length&&!r.ba&&(r.ba=!0,(e=r.l).g==r&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Kr(e),e.M=!0,On(11))):(Gr(r.j,r.m,t,"[Invalid Chunked Response]"),bs(r),yr(r))}function Vs(r,e){var t=r.C,s=e.indexOf("\n",t);return-1==s?Br:(t=Number(e.substring(t,s)),isNaN(t)?fi:(s+=1)+t>e.length?Br:(e=e.slice(s,s+t),r.C=s+t,e))}function ri(r){r.Y=Date.now()+r.P,$s(r,r.P)}function $s(r,e){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Ri(Mt(r.lb,r),e)}function Xs(r){r.B&&(Ke.clearTimeout(r.B),r.B=null)}function yr(r){0==r.l.H||r.J||yo(r.l,r)}function bs(r){Xs(r);var e=r.M;e&&"function"==typeof e.sa&&e.sa(),r.M=null,or(r.V),Un(r.U),r.g&&(e=r.g,r.g=null,e.abort(),e.sa())}function fo(r,e){try{var t=r.l;if(0!=t.H&&(t.g==r||ya(t.i,r)))if(!r.K&&ya(t.i,r)&&3==t.H){try{var s=t.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var a=s;if(0==a[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<r.G))break e;Ar(t),qr(t)}fr(t),On(18)}}else t.Fa=a[1],0<t.Fa-t.V&&37500>a[2]&&t.G&&0==t.A&&!t.v&&(t.v=Ri(Mt(t.ib,t),6e3));if(1>=Lo(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Gs(t,11)}else if((r.K||t.g==r)&&Ar(t),!ze(e))for(a=t.Ja.g.parse(e),e=0;e<a.length;e++){let U=a[e];if(t.V=U[0],U=U[1],2==t.H)if("c"==U[0]){t.K=U[1],t.pa=U[2];const q=U[3];null!=q&&(t.ra=q,t.l.info("VER="+t.ra));const he=U[4];null!=he&&(t.Ga=he,t.l.info("SVER="+t.Ga));const $e=U[5];null!=$e&&"number"==typeof $e&&0<$e&&(t.L=s=1.5*$e,t.l.info("backChannelRequestTimeoutMs_="+s)),s=t;const ht=r.g;if(ht){const Ft=ht.g?ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ft){var l=s.i;l.g||-1==Ft.indexOf("spdy")&&-1==Ft.indexOf("quic")&&-1==Ft.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(ws(l,l.h),l.h=null))}if(s.F){const hn=ht.g?ht.g.getResponseHeader("X-HTTP-Session-Id"):null;hn&&(s.Da=hn,_r(s.I,s.F,hn))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-r.G,t.l.info("Handshake RTT: "+t.S+"ms"));var f=r;if((s=t).wa=Ko(s,s.J?s.pa:null,s.Y),f.K){qo(s.i,f);var T=f,O=s.L;O&&T.setTimeout(O),T.B&&(Xs(T),ri(T)),s.g=f}else Ei(s);0<t.j.length&&ii(t)}else"stop"!=U[0]&&"close"!=U[0]||Gs(t,7);else 3==t.H&&("stop"==U[0]||"close"==U[0]?"stop"==U[0]?Gs(t,7):Zn(t):"noop"!=U[0]&&t.h&&t.h.Aa(U),t.A=0)}Zr()}catch{}}function Wo(r,e){if(r.forEach&&"function"==typeof r.forEach)r.forEach(e,void 0);else if(Ut(r)||"string"==typeof r)Array.prototype.forEach.call(r,e,void 0);else for(var t=function Js(r){if(r.ta&&"function"==typeof r.ta)return r.ta();if(!r.Z||"function"!=typeof r.Z){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(Ut(r)||"string"==typeof r){var e=[];r=r.length;for(var t=0;t<r;t++)e.push(t);return e}e=[],t=0;for(const s in r)e[t++]=s;return e}}}(r),s=function Ao(r){if(r.Z&&"function"==typeof r.Z)return r.Z();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if("string"==typeof r)return r.split("");if(Ut(r)){for(var e=[],t=r.length,s=0;s<t;s++)e.push(r[s]);return e}for(s in e=[],t=0,r)e[t++]=r[s];return e}(r),a=s.length,l=0;l<a;l++)e.call(void 0,s[l],t&&t[l],r)}(me=Vn.prototype).setTimeout=function(r){this.P=r},me.nb=function(r){r=r.target;const e=this.M;e&&3==ue(r)?e.l():this.Pa(r)},me.Pa=function(r){try{if(r==this.g)e:{const q=ue(this.g);var e=this.g.Ia();if(this.g.da(),!(3>q)&&(3!=q||be||this.g&&(this.h.h||this.g.ja()||xe(this.g)))){this.J||4!=q||7==e||Zr(),Xs(this);var t=this.g.da();this.ca=t;t:if(ni(this)){var s=xe(this.g);r="";var a=s.length,l=4==ue(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){bs(this),yr(this);var f="";break t}this.h.i=new Ke.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,r+=this.h.i.decode(s[e],{stream:l&&e==a-1});s.splice(0,a),this.h.g+=r,this.C=0,f=this.h.g}else f=this.g.ja();if(this.i=200==t,function xr(r,e,t,s,a,l,f){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.W,q,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var T,O=this.g;if((T=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ze(T)){var U=T;break t}}U=null}if(!(t=U)){this.i=!1,this.o=3,On(12),bs(this),yr(this);break e}Gr(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fo(this,t)}this.S?(ls(this,q,f),be&&this.i&&3==q&&(gn(this.U,this.V,"tick",this.mb),this.V.start())):(Gr(this.j,this.m,f,null),fo(this,f)),4==q&&bs(this),this.i&&!this.J&&(4==q?yo(this.l,this):(this.i=!1,ri(this)))}else(function nt(r){const e={};r=(r.g&&2<=ue(r)&&r.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<r.length;s++){if(ze(r[s]))continue;var t=we(r[s]);const a=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const l=e[a]||[];e[a]=l,l.push(t)}!function mr(r,e){for(const t in r)e.call(void 0,r[t],t,r)}(e,function(s){return s.join(", ")})})(this.g),400==t&&0<f.indexOf("Unknown SID")?(this.o=3,On(12)):(this.o=0,On(13)),bs(this),yr(this)}}}catch{}},me.mb=function(){if(this.g){var r=ue(this.g),e=this.g.ja();this.C<e.length&&(Xs(this),ls(this,r,e),this.i&&4!=r&&ri(this))}},me.cancel=function(){this.J=!0,bs(this)},me.lb=function(){this.B=null;const r=Date.now();0<=r-this.Y?(function Ys(r,e){r.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Zr(),On(17)),bs(this),this.o=2,yr(this)):$s(this,this.Y-r)};var Ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xi(r){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,r instanceof Xi){this.h=r.h,Ti(this,r.j),this.s=r.s,this.g=r.g,Cs(this,r.m),this.l=r.l;var e=r.i,t=new to;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Ji(this,t),this.o=r.o}else r&&(e=String(r).match(Ss))?(this.h=!1,Ti(this,e[1]||"",!0),this.s=ki(e[2]||""),this.g=ki(e[3]||"",!0),Cs(this,e[4]),this.l=ki(e[5]||"",!0),Ji(this,e[6]||"",!0),this.o=ki(e[7]||"")):(this.h=!1,this.i=new to(null,this.h))}function ei(r){return new Xi(r)}function Ti(r,e,t){r.j=t?ki(e,!0):e,r.j&&(r.j=r.j.replace(/:$/,""))}function Cs(r,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);r.m=e}else r.m=null}function Ji(r,e,t){e instanceof to?(r.i=e,function Oa(r,e){e&&!r.j&&(As(r),r.i=null,r.g.forEach(function(t,s){var a=s.toLowerCase();s!=a&&(go(this,s),ma(this,a,t))},r)),r.j=e}(r.i,r.h)):(t||(e=eo(e,js)),r.i=new to(e,r.h))}function _r(r,e,t){r.i.set(e,t)}function $i(r){return _r(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function ki(r,e){return r?e?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function eo(r,e,t){return"string"==typeof r?(r=encodeURI(r).replace(e,Ro),t&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Ro(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}Xi.prototype.toString=function(){var r=[],e=this.j;e&&r.push(eo(e,Mo,!0),":");var t=this.g;return(t||"file"==e)&&(r.push("//"),(e=this.s)&&r.push(eo(e,Mo,!0),"@"),r.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&r.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&r.push("/"),r.push(eo(t,"/"==t.charAt(0)?po:pa,!0))),(t=this.i.toString())&&r.push("?",t),(t=this.o)&&r.push("#",eo(t,ga)),r.join("")};var Mo=/[#\/\?@]/g,pa=/[#\?:]/g,po=/[#\?]/g,js=/[#\?@]/g,ga=/#/g;function to(r,e){this.h=this.g=null,this.i=r||null,this.j=!!e}function As(r){r.g||(r.g=new Map,r.h=0,r.i&&function Qi(r,e){if(r){r=r.split("&");for(var t=0;t<r.length;t++){var s=r[t].indexOf("="),a=null;if(0<=s){var l=r[t].substring(0,s);a=r[t].substring(s+1)}else l=r[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(r.i,function(e,t){r.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function go(r,e){As(r),e=Rs(r,e),r.g.has(e)&&(r.i=null,r.h-=r.g.get(e).length,r.g.delete(e))}function Na(r,e){return As(r),e=Rs(r,e),r.g.has(e)}function ma(r,e,t){go(r,e),0<t.length&&(r.i=null,r.g.set(Rs(r,e),Nn(t)),r.h+=t.length)}function Rs(r,e){return e=String(e),r.j&&(e=e.toLowerCase()),e}function ji(r){this.l=r||To,r=Ke.PerformanceNavigationTiming?0<(r=Ke.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Ke.g&&Ke.g.Ka&&Ke.g.Ka()&&Ke.g.Ka().ec),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(me=to.prototype).add=function(r,e){As(this),this.i=null,r=Rs(this,r);var t=this.g.get(r);return t||this.g.set(r,t=[]),t.push(e),this.h+=1,this},me.forEach=function(r,e){As(this),this.g.forEach(function(t,s){t.forEach(function(a){r.call(e,a,s,this)},this)},this)},me.ta=function(){As(this);const r=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const a=r[s];for(let l=0;l<a.length;l++)t.push(e[s])}return t},me.Z=function(r){As(this);let e=[];if("string"==typeof r)Na(this,r)&&(e=e.concat(this.g.get(Rs(this,r))));else{r=Array.from(this.g.values());for(let t=0;t<r.length;t++)e=e.concat(r[t])}return e},me.set=function(r,e){return As(this),this.i=null,Na(this,r=Rs(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[e]),this.h+=1,this},me.get=function(r,e){return r&&0<(r=this.Z(r)).length?String(r[0]):e},me.toString=function(){if(this.i)return this.i;if(!this.g)return"";const r=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const l=encodeURIComponent(String(s)),f=this.Z(s);for(s=0;s<f.length;s++){var a=l;""!==f[s]&&(a+="="+encodeURIComponent(String(f[s]))),r.push(a)}}return this.i=r.join("&")};var To=10;function Hs(r){return!!r.h||!!r.g&&r.g.size>=r.j}function Lo(r){return r.h?1:r.g?r.g.size:0}function ya(r,e){return r.h?r.h==e:!!r.g&&r.g.has(e)}function ws(r,e){r.g?r.g.add(e):r.h=e}function qo(r,e){r.h&&r.h==e?r.h=null:r.g&&r.g.has(e)&&r.g.delete(e)}function gs(r){if(null!=r.h)return r.i.concat(r.h.F);if(null!=r.g&&0!==r.g.size){let e=r.i;for(const t of r.g.values())e=e.concat(t.F);return e}return Nn(r.i)}ji.prototype.cancel=function(){if(this.i=gs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const r of this.g.values())r.cancel();this.g.clear()}};var zs=class{stringify(r){return Ke.JSON.stringify(r,void 0)}parse(r){return Ke.JSON.parse(r,void 0)}};function no(){this.g=new zs}function Uo(r,e,t){const s=t||"";try{Wo(r,function(a,l){let f=a;an(a)&&(f=ae(a)),e.push(s+l+"="+encodeURIComponent(f))})}catch(a){throw e.push(s+"type="+encodeURIComponent("_badmap")),a}}function Ms(r,e,t,s,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(s)}catch{}}function Pr(r){this.l=r.fc||null,this.j=r.ob||!1}function Hi(r,e){sr.call(this),this.F=r,this.u=e,this.m=void 0,this.readyState=ka,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ct(Pr,ne),Pr.prototype.g=function(){return new Hi(this.l,this.j)},Pr.prototype.i=function(r){return function(){return r}}({}),Ct(Hi,sr);var ka=0;function es(r){r.j.read().then(r.Xa.bind(r)).catch(r.ka.bind(r))}function zi(r){r.readyState=4,r.l=null,r.j=null,r.A=null,ro(r)}function ro(r){r.onreadystatechange&&r.onreadystatechange.call(r)}(me=Hi.prototype).open=function(r,e){if(this.readyState!=ka)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=e,this.readyState=1,ro(this)},me.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(e.body=r),(this.F||Ke).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zi(this)),this.readyState=ka},me.$a=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,ro(this)),this.g&&(this.readyState=3,ro(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ke.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;es(this)}else r.text().then(this.Za.bind(this),this.ka.bind(this))},me.Xa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var e=r.value?r.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!r.done}))&&(this.response=this.responseText+=e)}r.done?zi(this):ro(this),3==this.readyState&&es(this)}},me.Za=function(r){this.g&&(this.response=this.responseText=r,zi(this))},me.Ya=function(r){this.g&&(this.response=r,zi(this))},me.ka=function(){this.g&&zi(this)},me.setRequestHeader=function(r,e){this.v.append(r,e)},me.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},me.getAllResponseHeaders=function(){if(!this.h)return"";const r=[],e=this.h.entries();for(var t=e.next();!t.done;)r.push((t=t.value)[0]+": "+t[1]),t=e.next();return r.join("\r\n")},Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var ci=Ke.JSON.parse;function Wr(r){sr.call(this),this.headers=new Map,this.u=r||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=mo,this.L=this.M=!1}Ct(Wr,sr);var mo="",ts=/^https?$/i,io=["POST","PUT"];function xs(r,e){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=e,r.m=5,wi(r),B(r)}function wi(r){r.F||(r.F=!0,ln(r,"complete"),ln(r,"error"))}function V(r){if(r.h&&typeof Ot<"u"&&(!r.C[1]||4!=ue(r)||2!=r.da()))if(r.v&&4==ue(r))Ii(r.La,0,r);else if(ln(r,"readystatechange"),4==ue(r)){r.h=!1;try{const f=r.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===f){var a=String(r.I).match(Ss)[1]||null;!a&&Ke.self&&Ke.self.location&&(a=Ke.self.location.protocol.slice(0,-1)),s=!ts.test(a?a.toLowerCase():"")}t=s}if(t)ln(r,"complete"),ln(r,"success");else{r.m=6;try{var l=2<ue(r)?r.g.statusText:""}catch{l=""}r.j=l+" ["+r.da()+"]",wi(r)}}finally{B(r)}}}function B(r,e){if(r.g){re(r);const t=r.g,s=r.C[0]?()=>{}:null;r.g=null,r.C=null,e||ln(r,"ready");try{t.onreadystatechange=s}catch{}}}function re(r){r.g&&r.L&&(r.g.ontimeout=null),r.A&&(Ke.clearTimeout(r.A),r.A=null)}function ue(r){return r.g?r.g.readyState:0}function xe(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.K){case mo:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Je(r){let e="";return ai(r,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function Pt(r,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=Je(t),"string"==typeof r?null!=t&&encodeURIComponent(String(t)):_r(r,e,t))}function Zt(r,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[r]||e}function er(r){this.Ga=0,this.j=[],this.l=new jn,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Zt("failFast",!1,r),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Zt("baseRetryDelayMs",5e3,r),this.hb=Zt("retryDelaySeedMs",1e4,r),this.eb=Zt("forwardChannelMaxRetries",2,r),this.xa=Zt("forwardChannelRequestTimeoutMs",2e4,r),this.va=r&&r.xmlHttpFactory||void 0,this.Ha=r&&r.dc||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.i=new ji(r&&r.concurrentRequestLimit),this.Ja=new no,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=r&&r.bc||!1,r&&r.Ea&&this.l.Ea(),r&&r.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&r&&r.detectBufferingProxy||!1,this.qa=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.qa=r.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Zn(r){if(ti(r),3==r.H){var e=r.W++,t=ei(r.I);if(_r(t,"SID",r.K),_r(t,"RID",e),_r(t,"TYPE","terminate"),yn(r,t),(e=new Vn(r,r.l,e)).L=2,e.v=$i(ei(t)),t=!1,Ke.navigator&&Ke.navigator.sendBeacon)try{t=Ke.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ke.Image&&((new Image).src=e.v,t=!0),t||(e.g=Fi(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ri(e)}Po(r)}function qr(r){r.g&&(Kr(r),r.g.cancel(),r.g=null)}function ti(r){qr(r),r.u&&(Ke.clearTimeout(r.u),r.u=null),Ar(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Ke.clearTimeout(r.m),r.m=null)}function ii(r){if(!Hs(r.i)&&!r.m){r.m=!0;var e=r.Na;ee||ft(),Ee||(ee(),Ee=!0),Qe.add(e,r),r.C=0}}function pt(r,e){var t;t=e?e.m:r.W++;const s=ei(r.I);_r(s,"SID",r.K),_r(s,"RID",t),_r(s,"AID",r.V),yn(r,s),r.o&&r.s&&Pt(s,r.o,r.s),t=new Vn(r,r.l,t,r.C+1),null===r.o&&(t.I=r.s),e&&(r.j=e.F.concat(r.j)),e=Ps(r,t,1e3),t.setTimeout(Math.round(.5*r.xa)+Math.round(.5*r.xa*Math.random())),ws(r.i,t),Qs(t,s,e)}function yn(r,e){r.na&&ai(r.na,function(t,s){_r(e,s,t)}),r.h&&Wo({},function(t,s){_r(e,s,t)})}function Ps(r,e,t){t=Math.min(r.j.length,t);var s=r.h?Mt(r.h.Va,r.h,r):null;e:{var a=r.j;let l=-1;for(;;){const f=["count="+t];-1==l?0<t?(l=a[0].g,f.push("ofs="+l)):l=0:f.push("ofs="+l);let T=!0;for(let O=0;O<t;O++){let U=a[O].g;const q=a[O].map;if(U-=l,0>U)l=Math.max(0,a[O].g-100),T=!1;else try{Uo(q,f,"req"+U+"_")}catch{s&&s(q)}}if(T){s=f.join("&");break e}}}return r=r.j.splice(0,t),e.F=r,s}function Ei(r){if(!r.g&&!r.u){r.ba=1;var e=r.Ma;ee||ft(),Ee||(ee(),Ee=!0),Qe.add(e,r),r.A=0}}function fr(r){return!(r.g||r.u||3<=r.A||(r.ba++,r.u=Ri(Mt(r.Ma,r),ms(r,r.A)),r.A++,0))}function Kr(r){null!=r.B&&(Ke.clearTimeout(r.B),r.B=null)}function Gi(r){r.g=new Vn(r,r.l,"rpc",r.ba),null===r.o&&(r.g.I=r.s),r.g.O=0;var e=ei(r.wa);_r(e,"RID","rpc"),_r(e,"SID",r.K),_r(e,"AID",r.V),_r(e,"CI",r.G?"0":"1"),!r.G&&r.qa&&_r(e,"TO",r.qa),_r(e,"TYPE","xmlhttp"),yn(r,e),r.o&&r.s&&Pt(e,r.o,r.s),r.L&&r.g.setTimeout(r.L);var t=r.g;r=r.pa,t.L=1,t.v=$i(ei(e)),t.s=null,t.S=!0,pi(t,r)}function Ar(r){null!=r.v&&(Ke.clearTimeout(r.v),r.v=null)}function yo(r,e){var t=null;if(r.g==e){Ar(r),Kr(r),r.g=null;var s=2}else{if(!ya(r.i,e))return;t=e.F,qo(r.i,e),s=1}if(0!=r.H)if(e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.G;var a=r.C;ln(s=Wn(),new Vi(s,t)),ii(r)}else Ei(r);else if(3==(a=e.o)||0==a&&0<e.ca||!(1==s&&function si(r,e){return!(Lo(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.j=e.F.concat(r.j),0):1==r.H||2==r.H||r.C>=(r.cb?0:r.eb)||(r.m=Ri(Mt(r.Na,r,e),ms(r,r.C)),r.C++,0)))}(r,e)||2==s&&fr(r)))switch(t&&0<t.length&&(e=r.i,e.i=e.i.concat(t)),a){case 1:Gs(r,5);break;case 4:Gs(r,10);break;case 3:Gs(r,6);break;default:Gs(r,2)}}function ms(r,e){let t=r.ab+Math.floor(Math.random()*r.hb);return r.isActive()||(t*=2),t*e}function Gs(r,e){if(r.l.info("Error code "+e),2==e){var t=null;r.h&&(t=null);var s=Mt(r.pb,r);t||(t=new Xi("//www.google.com/images/cleardot.gif"),Ke.location&&"http"==Ke.location.protocol||Ti(t,"https"),$i(t)),function xo(r,e){const t=new jn;if(Ke.Image){const s=new Image;s.onload=tt(Ms,t,s,"TestLoadImage: loaded",!0,e),s.onerror=tt(Ms,t,s,"TestLoadImage: error",!1,e),s.onabort=tt(Ms,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=tt(Ms,t,s,"TestLoadImage: timeout",!1,e),Ke.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else e(!1)}(t.toString(),s)}else On(2);r.H=0,r.h&&r.h.za(e),Po(r),ti(r)}function Po(r){if(r.H=0,r.ma=[],r.h){const e=gs(r.i);(0!=e.length||0!=r.j.length)&&(je(r.ma,e),je(r.ma,r.j),r.i.i.length=0,Nn(r.j),r.j.length=0),r.h.ya()}}function Ko(r,e,t){var s=t instanceof Xi?ei(t):new Xi(t);if(""!=s.g)e&&(s.g=e+"."+s.g),Cs(s,s.m);else{var a=Ke.location;s=a.protocol,e=e?e+"."+a.hostname:a.hostname,a=+a.port;var l=new Xi(null);s&&Ti(l,s),e&&(l.g=e),a&&Cs(l,a),t&&(l.l=t),s=l}return e=r.Da,(t=r.F)&&e&&_r(s,t,e),_r(s,"VER",r.ra),yn(r,s),s}function Fi(r,e,t){if(e&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Wr(t&&r.Ha&&!r.va?new Pr({ob:!0}):r.va)).Oa(r.J),e}function Yr(){}function $(){if(dt&&!(10<=Number(gr)))throw Error("Environmental error: no available transport.")}function _(r,e){sr.call(this),this.g=new er(e),this.l=r,this.h=e&&e.messageUrlParams||null,r=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(r?r["X-WebChannel-Content-Type"]=e.messageContentType:r={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(r?r["X-WebChannel-Client-Profile"]=e.Ca:r={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=r,(r=e&&e.cc)&&!ze(r)&&(this.g.o=r),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ze(e)&&(this.g.F=e,null!==(r=this.h)&&e in r&&e in(r=this.h)&&delete r[e]),this.j=new H(this)}function w(r){xt.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var e=r.__sm__;if(e){e:{for(const t in e){r=t;break e}r=void 0}(this.i=r)&&(r=this.i,e=null!==e&&r in e?e[r]:void 0),this.data=e}else this.data=r}function P(){Xt.call(this),this.status=1}function H(r){this.g=r}function de(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ge(r,e,t){t||(t=0);var s=Array(16);if("string"==typeof e)for(var a=0;16>a;++a)s[a]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(a=0;16>a;++a)s[a]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var l=r.g[3],f=(e=r.g[0])+(l^(t=r.g[1])&((a=r.g[2])^l))+s[0]+3614090360&4294967295;f=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=(t=(a=(l=(e=t+(f<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+s[1]+3905402710&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+s[2]+606105819&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+s[3]+3250441966&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(a^l))+s[4]+4118548399&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+s[5]+1200080426&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+s[6]+2821735955&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+s[7]+4249261313&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(a^l))+s[8]+1770035416&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+s[9]+2336552879&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+s[10]+4294925233&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+s[11]+2304563134&4294967295)<<22&4294967295|f>>>10))+((f=e+(l^t&(a^l))+s[12]+1804603682&4294967295)<<7&4294967295|f>>>25))+((f=l+(a^e&(t^a))+s[13]+4254626195&4294967295)<<12&4294967295|f>>>20))+((f=a+(t^l&(e^t))+s[14]+2792965006&4294967295)<<17&4294967295|f>>>15))+((f=t+(e^a&(l^e))+s[15]+1236535329&4294967295)<<22&4294967295|f>>>10))+((f=e+(a^l&(t^a))+s[1]+4129170786&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+s[6]+3225465664&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+s[11]+643717713&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+s[0]+3921069994&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(t^a))+s[5]+3593408605&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+s[10]+38016083&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+s[15]+3634488961&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+s[4]+3889429448&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(t^a))+s[9]+568446438&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+s[14]+3275163606&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+s[3]+4107603335&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+s[8]+1163531501&4294967295)<<20&4294967295|f>>>12))+((f=e+(a^l&(t^a))+s[13]+2850285829&4294967295)<<5&4294967295|f>>>27))+((f=l+(t^a&(e^t))+s[2]+4243563512&4294967295)<<9&4294967295|f>>>23))+((f=a+(e^t&(l^e))+s[7]+1735328473&4294967295)<<14&4294967295|f>>>18))+((f=t+(l^e&(a^l))+s[12]+2368359562&4294967295)<<20&4294967295|f>>>12))+((f=e+(t^a^l)+s[5]+4294588738&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+s[8]+2272392833&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+s[11]+1839030562&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+s[14]+4259657740&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^l)+s[1]+2763975236&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+s[4]+1272893353&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+s[7]+4139469664&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+s[10]+3200236656&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^l)+s[13]+681279174&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+s[0]+3936430074&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+s[3]+3572445317&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+s[6]+76029189&4294967295)<<23&4294967295|f>>>9))+((f=e+(t^a^l)+s[9]+3654602809&4294967295)<<4&4294967295|f>>>28))+((f=l+(e^t^a)+s[12]+3873151461&4294967295)<<11&4294967295|f>>>21))+((f=a+(l^e^t)+s[15]+530742520&4294967295)<<16&4294967295|f>>>16))+((f=t+(a^l^e)+s[2]+3299628645&4294967295)<<23&4294967295|f>>>9))+((f=e+(a^(t|~l))+s[0]+4096336452&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+s[7]+1126891415&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~t))+s[14]+2878612391&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(a|~e))+s[5]+4237533241&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~l))+s[12]+1700485571&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+s[3]+2399980690&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~t))+s[10]+4293915773&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(a|~e))+s[1]+2240044497&4294967295)<<21&4294967295|f>>>11))+((f=e+(a^(t|~l))+s[8]+1873313359&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+s[15]+4264355552&4294967295)<<10&4294967295|f>>>22))+((f=a+(e^(l|~t))+s[6]+2734768916&4294967295)<<15&4294967295|f>>>17))+((f=t+(l^(a|~e))+s[13]+1309151649&4294967295)<<21&4294967295|f>>>11))+((l=(e=t+((f=e+(a^(t|~l))+s[4]+4149444226&4294967295)<<6&4294967295|f>>>26))+((f=l+(t^(e|~a))+s[11]+3174756917&4294967295)<<10&4294967295|f>>>22))^((a=l+((f=a+(e^(l|~t))+s[2]+718787259&4294967295)<<15&4294967295|f>>>17))|~e))+s[9]+3951481745&4294967295,r.g[0]=r.g[0]+e&4294967295,r.g[1]=r.g[1]+(a+(f<<21&4294967295|f>>>11))&4294967295,r.g[2]=r.g[2]+a&4294967295,r.g[3]=r.g[3]+l&4294967295}function Re(r,e){this.h=e;for(var t=[],s=!0,a=r.length-1;0<=a;a--){var l=0|r[a];s&&l==e||(t[a]=l,s=!1)}this.g=t}(me=Wr.prototype).Oa=function(r){this.M=r},me.ha=function(r,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+r);e=e?e.toUpperCase():"GET",this.I=r,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Jn.g(),this.C=function le(r){return r.h||(r.h=r.i())}(this.u?this.u:Jn),this.g.onreadystatechange=Mt(this.La,this);try{this.G=!0,this.g.open(e,String(r),!0),this.G=!1}catch(l){return void xs(this,l)}if(r=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var a in s)t.set(a,s[a]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const l of s.keys())t.set(l,s.get(l))}s=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),a=Ke.FormData&&r instanceof Ke.FormData,!(0<=Qt(io,e))||s||a||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,f]of t)this.g.setRequestHeader(l,f);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{re(this),0<this.B&&((this.L=function Mi(r){return dt&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mt(this.ua,this)):this.A=Ii(this.ua,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(l){xs(this,l)}},me.ua=function(){typeof Ot<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ln(this,"timeout"),this.abort(8))},me.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,ln(this,"complete"),ln(this,"abort"),B(this))},me.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),B(this,!0)),Wr.$.N.call(this)},me.La=function(){this.s||(this.G||this.v||this.l?V(this):this.kb())},me.kb=function(){V(this)},me.isActive=function(){return!!this.g},me.da=function(){try{return 2<ue(this)?this.g.status:-1}catch{return-1}},me.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},me.Wa=function(r){if(this.g){var e=this.g.responseText;return r&&0==e.indexOf(r)&&(e=e.substring(r.length)),ci(e)}},me.Ia=function(){return this.m},me.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(me=er.prototype).ra=8,me.H=1,me.Na=function(r){if(this.m)if(this.m=null,1==this.H){if(!r){this.W=Math.floor(1e5*Math.random()),r=this.W++;const a=new Vn(this,this.l,r);let l=this.s;if(this.U&&(l?(l=Ci(l),vt(l,this.U)):l=this.U),null!==this.o||this.O||(a.I=l,l=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var s=this.j[t];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ps(this,a,e),_r(t=ei(this.I),"RID",r),_r(t,"CVER",22),this.F&&_r(t,"X-HTTP-Session-Id",this.F),yn(this,t),l&&(this.O?e="headers="+encodeURIComponent(String(Je(l)))+"&"+e:this.o&&Pt(t,this.o,l)),ws(this.i,a),this.bb&&_r(t,"TYPE","init"),this.P?(_r(t,"$req",e),_r(t,"SID","null"),a.aa=!0,Qs(a,t,null)):Qs(a,t,e),this.H=2}}else 3==this.H&&(r?pt(this,r):0==this.j.length||Hs(this.i)||pt(this))},me.Ma=function(){if(this.u=null,Gi(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var r=2*this.S;this.l.info("BP detection timer enabled: "+r),this.B=Ri(Mt(this.jb,this),r)}},me.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,On(10),qr(this),Gi(this))},me.ib=function(){null!=this.v&&(this.v=null,qr(this),fr(this),On(19))},me.pb=function(r){r?(this.l.info("Successfully pinged google.com"),On(2)):(this.l.info("Failed to ping google.com"),On(1))},me.isActive=function(){return!!this.h&&this.h.isActive(this)},(me=Yr.prototype).Ba=function(){},me.Aa=function(){},me.za=function(){},me.ya=function(){},me.isActive=function(){return!0},me.Va=function(){},$.prototype.g=function(r,e){return new _(r,e)},Ct(_,sr),_.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var r=this.g,e=this.l,t=this.h||void 0;On(0),r.Y=e,r.na=t||{},r.G=r.aa,r.I=Ko(r,null,r.Y),ii(r)},_.prototype.close=function(){Zn(this.g)},_.prototype.u=function(r){var e=this.g;if("string"==typeof r){var t={};t.__data__=r,r=t}else this.v&&((t={}).__data__=ae(r),r=t);e.j.push(new class{constructor(r,e){this.g=r,this.map=e}}(e.fb++,r)),3==e.H&&ii(e)},_.prototype.N=function(){this.g.h=null,delete this.j,Zn(this.g),delete this.g,_.$.N.call(this)},Ct(w,xt),Ct(P,Xt),Ct(H,Yr),H.prototype.Ba=function(){ln(this.g,"a")},H.prototype.Aa=function(r){ln(this.g,new w(r))},H.prototype.za=function(r){ln(this.g,new P)},H.prototype.ya=function(){ln(this.g,"b")},Ct(de,function J(){this.blockSize=-1}),de.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},de.prototype.j=function(r,e){void 0===e&&(e=r.length);for(var t=e-this.blockSize,s=this.m,a=this.h,l=0;l<e;){if(0==a)for(;l<=t;)ge(this,r,l),l+=this.blockSize;if("string"==typeof r){for(;l<e;)if(s[a++]=r.charCodeAt(l++),a==this.blockSize){ge(this,s),a=0;break}}else for(;l<e;)if(s[a++]=r[l++],a==this.blockSize){ge(this,s),a=0;break}}this.h=a,this.i+=e},de.prototype.l=function(){var r=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);r[0]=128;for(var e=1;e<r.length-8;++e)r[e]=0;var t=8*this.i;for(e=r.length-8;e<r.length;++e)r[e]=255&t,t/=256;for(this.j(r),r=Array(16),e=t=0;4>e;++e)for(var s=0;32>s;s+=8)r[t++]=this.g[e]>>>s&255;return r};var st={};function zt(r){return-128<=r&&128>r?function Tt(r,e){var t=st;return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=e(r)}(r,function(e){return new Re([0|e],0>e?-1:0)}):new Re([0|r],0>r?-1:0)}function Yt(r){if(isNaN(r)||!isFinite(r))return In;if(0>r)return Nr(Yt(-r));for(var e=[],t=1,s=0;r>=t;s++)e[s]=r/t|0,t*=$n;return new Re(e,0)}var $n=4294967296,In=zt(0),kn=zt(1),cr=zt(16777216);function vr(r){if(0!=r.h)return!1;for(var e=0;e<r.g.length;e++)if(0!=r.g[e])return!1;return!0}function wr(r){return-1==r.h}function Nr(r){for(var e=r.g.length,t=[],s=0;s<e;s++)t[s]=~r.g[s];return new Re(t,~r.h).add(kn)}function li(r,e){return r.add(Nr(e))}function gi(r,e){for(;(65535&r[e])!=r[e];)r[e+1]+=r[e]>>>16,r[e]&=65535,e++}function mi(r,e){this.g=r,this.h=e}function ar(r,e){if(vr(e))throw Error("division by zero");if(vr(r))return new mi(In,In);if(wr(r))return e=ar(Nr(r),e),new mi(Nr(e.g),Nr(e.h));if(wr(e))return e=ar(r,Nr(e)),new mi(Nr(e.g),e.h);if(30<r.g.length){if(wr(r)||wr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=kn,s=e;0>=s.X(r);)t=_o(t),s=_o(s);var a=A(t,1),l=A(s,1);for(s=A(s,2),t=A(t,2);!vr(s);){var f=l.add(s);0>=f.X(r)&&(a=a.add(t),l=f),s=A(s,1),t=A(t,1)}return e=li(r,a.R(e)),new mi(a,e)}for(a=In;0<=r.X(e);){for(t=Math.max(1,Math.floor(r.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,s-48),f=(l=Yt(t)).R(e);wr(f)||0<f.X(r);)f=(l=Yt(t-=s)).R(e);vr(l)&&(l=kn),a=a.add(l),r=li(r,f)}return new mi(a,r)}function _o(r){for(var e=r.g.length+1,t=[],s=0;s<e;s++)t[s]=r.D(s)<<1|r.D(s-1)>>>31;return new Re(t,r.h)}function A(r,e){var t=e>>5;e%=32;for(var s=r.g.length-t,a=[],l=0;l<s;l++)a[l]=0<e?r.D(l+t)>>>e|r.D(l+t+1)<<32-e:r.D(l+t);return new Re(a,r.h)}(me=Re.prototype).ea=function(){if(wr(this))return-Nr(this).ea();for(var r=0,e=1,t=0;t<this.g.length;t++){var s=this.D(t);r+=(0<=s?s:$n+s)*e,e*=$n}return r},me.toString=function(r){if(2>(r=r||10)||36<r)throw Error("radix out of range: "+r);if(vr(this))return"0";if(wr(this))return"-"+Nr(this).toString(r);for(var e=Yt(Math.pow(r,6)),t=this,s="";;){var a=ar(t,e).g,l=((0<(t=li(t,a.R(e))).g.length?t.g[0]:t.h)>>>0).toString(r);if(vr(t=a))return l+s;for(;6>l.length;)l="0"+l;s=l+s}},me.D=function(r){return 0>r?0:r<this.g.length?this.g[r]:this.h},me.X=function(r){return wr(r=li(this,r))?-1:vr(r)?0:1},me.abs=function(){return wr(this)?Nr(this):this},me.add=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0,a=0;a<=e;a++){var l=s+(65535&this.D(a))+(65535&r.D(a)),f=(l>>>16)+(this.D(a)>>>16)+(r.D(a)>>>16);s=f>>>16,t[a]=(f&=65535)<<16|(l&=65535)}return new Re(t,-2147483648&t[t.length-1]?-1:0)},me.R=function(r){if(vr(this)||vr(r))return In;if(wr(this))return wr(r)?Nr(this).R(Nr(r)):Nr(Nr(this).R(r));if(wr(r))return Nr(this.R(Nr(r)));if(0>this.X(cr)&&0>r.X(cr))return Yt(this.ea()*r.ea());for(var e=this.g.length+r.g.length,t=[],s=0;s<2*e;s++)t[s]=0;for(s=0;s<this.g.length;s++)for(var a=0;a<r.g.length;a++){var l=this.D(s)>>>16,f=65535&this.D(s),T=r.D(a)>>>16,O=65535&r.D(a);t[2*s+2*a]+=f*O,gi(t,2*s+2*a),t[2*s+2*a+1]+=l*O,gi(t,2*s+2*a+1),t[2*s+2*a+1]+=f*T,gi(t,2*s+2*a+1),t[2*s+2*a+2]+=l*T,gi(t,2*s+2*a+2)}for(s=0;s<e;s++)t[s]=t[2*s+1]<<16|t[2*s];for(s=e;s<2*e;s++)t[s]=0;return new Re(t,0)},me.gb=function(r){return ar(this,r).h},me.and=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)&r.D(s);return new Re(t,this.h&r.h)},me.or=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)|r.D(s);return new Re(t,this.h|r.h)},me.xor=function(r){for(var e=Math.max(this.g.length,r.g.length),t=[],s=0;s<e;s++)t[s]=this.D(s)^r.D(s);return new Re(t,this.h^r.h)},$.prototype.createWebChannel=$.prototype.g,_.prototype.send=_.prototype.u,_.prototype.open=_.prototype.m,_.prototype.close=_.prototype.close,cs.NO_ERROR=0,cs.TIMEOUT=8,cs.HTTP_ERROR=6,Yi.COMPLETE="complete",Ce.EventType=Ze,Ze.OPEN="a",Ze.CLOSE="b",Ze.ERROR="c",Ze.MESSAGE="d",sr.prototype.listen=sr.prototype.O,Wr.prototype.listenOnce=Wr.prototype.P,Wr.prototype.getLastError=Wr.prototype.Sa,Wr.prototype.getLastErrorCode=Wr.prototype.Ia,Wr.prototype.getStatus=Wr.prototype.da,Wr.prototype.getResponseJson=Wr.prototype.Wa,Wr.prototype.getResponseText=Wr.prototype.ja,Wr.prototype.send=Wr.prototype.ha,Wr.prototype.setWithCredentials=Wr.prototype.Oa,de.prototype.digest=de.prototype.l,de.prototype.reset=de.prototype.reset,de.prototype.update=de.prototype.j,Re.prototype.add=Re.prototype.add,Re.prototype.multiply=Re.prototype.R,Re.prototype.modulo=Re.prototype.gb,Re.prototype.compare=Re.prototype.X,Re.prototype.toNumber=Re.prototype.ea,Re.prototype.toString=Re.prototype.toString,Re.prototype.getBits=Re.prototype.D,Re.fromNumber=Yt,Re.fromString=function Hn(r,e){if(0==r.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==r.charAt(0))return Nr(Hn(r.substring(1),e));if(0<=r.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Yt(Math.pow(e,8)),s=In,a=0;a<r.length;a+=8){var l=Math.min(8,r.length-a),f=parseInt(r.substring(a,a+l),e);8>l?(l=Yt(Math.pow(e,l)),s=s.R(l).add(Yt(f))):s=(s=s.R(t)).add(Yt(f))}return s};var F=_t.createWebChannelTransport=function(){return new $},x=_t.getStatEventTarget=function(){return Wn()},G=_t.ErrorCode=cs,oe=_t.EventType=Yi,Ge=_t.Event=Ds,ct=_t.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ot=_t.FetchXmlHttpFactory=Pr,Bt=_t.WebChannel=Ce,Wt=_t.XhrIo=Wr,En=_t.Md5=de,dn=_t.Integer=Re;const Dr="@firebase/firestore";class Tn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tn.UNAUTHENTICATED=new Tn(null),Tn.GOOGLE_CREDENTIALS=new Tn("google-credentials-uid"),Tn.FIRST_PARTY=new Tn("first-party-uid"),Tn.MOCK_USER=new Tn("mock-user");let pr="9.22.1";const Yn=new ve.Yd("@firebase/firestore");function so(){return Yn.logLevel}function at(r,...e){if(Yn.logLevel<=ve.in.DEBUG){const t=e.map(ys);Yn.debug(`Firestore (${pr}): ${r}`,...t)}}function Or(r,...e){if(Yn.logLevel<=ve.in.ERROR){const t=e.map(ys);Yn.error(`Firestore (${pr}): ${r}`,...t)}}function jr(r,...e){if(Yn.logLevel<=ve.in.WARN){const t=e.map(ys);Yn.warn(`Firestore (${pr}): ${r}`,...t)}}function ys(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch{return r}}function rn(r="Unexpected state"){const e=`FIRESTORE (${pr}) INTERNAL ASSERTION FAILED: `+r;throw Or(e),new Error(e)}function Dn(r,e){r||rn()}function jt(r,e){return r}const qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dt extends pe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Li{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class _a{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Tn.UNAUTHENTICATED))}shutdown(){}}class va{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ih{constructor(e){this.t=e,this.currentUser=Tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let a=this.i;const l=U=>this.i!==a?(a=this.i,t(U)):Promise.resolve();let f=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Li,e.enqueueRetryable(()=>l(this.currentUser))};const T=()=>{const U=f;e.enqueueRetryable((0,_e.Z)(function*(){yield U.promise,yield l(s.currentUser)}))},O=U=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=U,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(U=>O(U)),setTimeout(()=>{if(!this.auth){const U=this.t.getImmediate({optional:!0});U?O(U):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Li)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Dn("string"==typeof s.accessToken),new _a(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Dn(null===e||"string"==typeof e),new Tn(e)}}class rc{constructor(e,t,s){this.h=e,this.l=t,this.m=s,this.type="FirstParty",this.user=Tn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Xa{constructor(e,t,s){this.h=e,this.l=t,this.m=s}getToken(){return Promise.resolve(new rc(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ic{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Do{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const s=l=>{null!=l.error&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.T;return this.T=l.token,at("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?a(l):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Dn("string"==typeof t.token),this.T=t.token,new ic(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function xi(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}class Fa{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=xi(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%e.length))}return s}}function vn(r,e){return r<e?-1:r>e?1:0}function na(r,e,t){return r.length===e.length&&r.every((s,a)=>t(s,e[a]))}class Pi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Dt(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Dt(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Dt(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Dt(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pi.fromMillis(Date.now())}static fromDate(e){return Pi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Pi(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vn(this.nanoseconds,e.nanoseconds):vn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Mn(e)}static min(){return new Mn(new Pi(0,0))}static max(){return new Mn(new Pi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class rs{constructor(e,t,s){void 0===t?t=0:t>e.length&&rn(),void 0===s?s=e.length-t:s>e.length-t&&rn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===rs.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rs?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=e.get(a),f=t.get(a);if(l<f)return-1;if(l>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class kr extends rs{construct(e,t,s){return new kr(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new Dt(qe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new kr(t)}static emptyPath(){return new kr([])}}const ra=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ui extends rs{construct(e,t,s){return new Ui(e,t,s)}static isValidIdentifier(e){return ra.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ui.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ui(["__name__"])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(0===s.length)throw new Dt(qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let f=!1;for(;a<e.length;){const T=e[a];if("\\"===T){if(a+1===e.length)throw new Dt(qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const O=e[a+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new Dt(qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=O,a+=2}else"`"===T?(f=!f,a++):"."!==T||f?(s+=T,a++):(l(),a++)}if(l(),f)throw new Dt(qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ui(t)}static emptyPath(){return new Ui([])}}class Vt{constructor(e){this.path=e}static fromPath(e){return new Vt(kr.fromString(e))}static fromName(e){return new Vt(kr.fromString(e).popFirst(5))}static empty(){return new Vt(kr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===kr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return kr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Vt(new kr(e.slice()))}}function ia(r){return new wo(r.readTime,r.key,-1)}class wo{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new wo(Mn.min(),Vt.empty(),-1)}static max(){return new wo(Mn.max(),Vt.empty(),-1)}}function eu(r,e){let t=r.readTime.compareTo(e.readTime);return 0!==t?t:(t=Vt.comparator(r.documentKey,e.documentKey),0!==t?t:vn(r.largestBatchId,e.largestBatchId))}const Ns="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ws(r){return pu.apply(this,arguments)}function pu(){return pu=(0,_e.Z)(function*(r){if(r.code!==qe.FAILED_PRECONDITION||r.message!==Ns)throw r;at("LocalStore","Unexpectedly lost primary lease")}),pu.apply(this,arguments)}class Be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Be((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Be?t:Be.resolve(t)}catch(t){return Be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Be.reject(t)}static resolve(e){return new Be((t,s)=>{t(e)})}static reject(e){return new Be((t,s)=>{s(e)})}static waitFor(e){return new Be((t,s)=>{let a=0,l=0,f=!1;e.forEach(T=>{++a,T.next(()=>{++l,f&&l===a&&t()},O=>s(O))}),f=!0,l===a&&t()})}static or(e){let t=Be.resolve(!1);for(const s of e)t=t.next(a=>a?Be.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new Be((s,a)=>{const l=e.length,f=new Array(l);let T=0;for(let O=0;O<l;O++){const U=O;t(e[U]).next(q=>{f[U]=q,++T,T===l&&s(f)},q=>a(q))}})}static doWhile(e,t){return new Be((s,a)=>{const l=()=>{!0===e()?t().next(()=>{l()},a):s()};l()})}}function wa(r){return"IndexedDbTransactionError"===r.name}let bi=(()=>{class r{constructor(t,s){this.previousValue=t,s&&(s.sequenceNumberHandler=a=>this.ot(a),this.ut=a=>s.writeSequenceNumber(a))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return r.ct=-1,r})();function ku(r){return null==r}function La(r){return 0===r&&1/r==-1/0}function kc(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Va(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function $a(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class oi{constructor(e,t){this.comparator=e,this.root=t||qs.EMPTY}insert(e,t){return new oi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qs.BLACK,null,null))}remove(e){return new oi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(0===a)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ja(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ja(this.root,e,this.comparator,!1)}getReverseIterator(){return new ja(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ja(this.root,e,this.comparator,!0)}}class ja{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qs{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??qs.RED,this.left=a??qs.EMPTY,this.right=l??qs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new qs(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return qs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return qs.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw rn();const e=this.left.check();if(e!==this.right.check())throw rn();return e+(this.isRed()?0:1)}}qs.EMPTY=null,qs.RED=!0,qs.BLACK=!1,qs.EMPTY=new class{constructor(){this.size=0}get key(){throw rn()}get value(){throw rn()}get color(){throw rn()}get left(){throw rn()}get right(){throw rn()}copy(r,e,t,s,a){return this}insert(r,e,t){return new qs(r,e)}remove(r,e){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ni{constructor(e){this.comparator=e,this.data=new oi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ha(this.data.getIterator())}getIteratorFrom(e){return new Ha(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ni)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ni(this.comparator);return t.data=e,t}}class Ha{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class co{constructor(e){this.fields=e,e.sort(Ui.comparator)}static empty(){return new co([])}unionWith(e){let t=new Ni(Ui.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new co(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return na(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class fd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Os{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new fd("Invalid base64 string: "+a):a}}(e);return new Os(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Os(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Os.EMPTY_BYTE_STRING=new Os("");const pd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bo(r){if(Dn(!!r),"string"==typeof r){let e=0;const t=pd.exec(r);if(Dn(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:os(r.seconds),nanos:os(r.nanos)}}function os(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function Da(r){return"string"==typeof r?Os.fromBase64String(r):Os.fromUint8Array(r)}function ba(r){var e,t;return"server_timestamp"===(null===(t=((null===(e=r?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Fc(r){const e=r.mapValue.fields.__previous_value__;return ba(e)?Fc(e):e}function nu(r){const e=bo(r.mapValue.fields.__local_write_time__.timestampValue);return new Pi(e.seconds,e.nanos)}class Dl{constructor(e,t,s,a,l,f,T,O,U){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=T,this.longPollingOptions=O,this.useFetchStreams=U}}class Sa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sa&&e.projectId===this.projectId&&e.database===this.database}}const oa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ca(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ba(r)?4:iu(r)?9007199254740991:10:rn()}function aa(r,e){if(r===e)return!0;const t=Ca(r);if(t!==Ca(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nu(r).isEqual(nu(e));case 3:return function(s,a){if("string"==typeof s.timestampValue&&"string"==typeof a.timestampValue&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=bo(s.timestampValue),f=bo(a.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return a=e,Da(r.bytesValue).isEqual(Da(a.bytesValue));case 7:return r.referenceValue===e.referenceValue;case 8:return function(s,a){return os(s.geoPointValue.latitude)===os(a.geoPointValue.latitude)&&os(s.geoPointValue.longitude)===os(a.geoPointValue.longitude)}(r,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return os(s.integerValue)===os(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=os(s.doubleValue),f=os(a.doubleValue);return l===f?La(l)===La(f):isNaN(l)&&isNaN(f)}return!1}(r,e);case 9:return na(r.arrayValue.values||[],e.arrayValue.values||[],aa);case 10:return function(s,a){const l=s.mapValue.fields||{},f=a.mapValue.fields||{};if(kc(l)!==kc(f))return!1;for(const T in l)if(l.hasOwnProperty(T)&&(void 0===f[T]||!aa(l[T],f[T])))return!1;return!0}(r,e);default:return rn()}var a}function ua(r,e){return void 0!==(r.values||[]).find(t=>aa(t,e))}function ca(r,e){if(r===e)return 0;const t=Ca(r),s=Ca(e);if(t!==s)return vn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return vn(r.booleanValue,e.booleanValue);case 2:return function(a,l){const f=os(a.integerValue||a.doubleValue),T=os(l.integerValue||l.doubleValue);return f<T?-1:f>T?1:f===T?0:isNaN(f)?isNaN(T)?0:-1:1}(r,e);case 3:return Lc(r.timestampValue,e.timestampValue);case 4:return Lc(nu(r),nu(e));case 5:return vn(r.stringValue,e.stringValue);case 6:return function(a,l){const f=Da(a),T=Da(l);return f.compareTo(T)}(r.bytesValue,e.bytesValue);case 7:return function(a,l){const f=a.split("/"),T=l.split("/");for(let O=0;O<f.length&&O<T.length;O++){const U=vn(f[O],T[O]);if(0!==U)return U}return vn(f.length,T.length)}(r.referenceValue,e.referenceValue);case 8:return function(a,l){const f=vn(os(a.latitude),os(l.latitude));return 0!==f?f:vn(os(a.longitude),os(l.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return function(a,l){const f=a.values||[],T=l.values||[];for(let O=0;O<f.length&&O<T.length;++O){const U=ca(f[O],T[O]);if(U)return U}return vn(f.length,T.length)}(r.arrayValue,e.arrayValue);case 10:return function(a,l){if(a===oa.mapValue&&l===oa.mapValue)return 0;if(a===oa.mapValue)return 1;if(l===oa.mapValue)return-1;const f=a.fields||{},T=Object.keys(f),O=l.fields||{},U=Object.keys(O);T.sort(),U.sort();for(let q=0;q<T.length&&q<U.length;++q){const he=vn(T[q],U[q]);if(0!==he)return he;const $e=ca(f[T[q]],O[U[q]]);if(0!==$e)return $e}return vn(T.length,U.length)}(r.mapValue,e.mapValue);default:throw rn()}}function Lc(r,e){if("string"==typeof r&&"string"==typeof e&&r.length===e.length)return vn(r,e);const t=bo(r),s=bo(e),a=vn(t.seconds,s.seconds);return 0!==a?a:vn(t.nanos,s.nanos)}function la(r){return yu(r)}function yu(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const a=bo(s);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?Da(r.bytesValue).toBase64():"referenceValue"in r?Vt.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(e=r.geoPointValue).latitude},${e.longitude})`:"arrayValue"in r?function(s){let a="[",l=!0;for(const f of s.values||[])l?l=!1:a+=",",a+=yu(f);return a+"]"}(r.arrayValue):"mapValue"in r?function(s){const a=Object.keys(s.fields||{}).sort();let l="{",f=!0;for(const T of a)f?f=!1:l+=",",l+=`${T}:${yu(s.fields[T])}`;return l+"}"}(r.mapValue):rn();var e}function za(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function gd(r){return!!r&&"integerValue"in r}function Uu(r){return!!r&&"arrayValue"in r}function md(r){return!!r&&"nullValue"in r}function Uc(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ru(r){return!!r&&"mapValue"in r}function Jo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Va(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Jo(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Jo(r.arrayValue.values[t]);return e}return Object.assign({},r)}function iu(r){return"__max__"===(((r.mapValue||{}).fields||{}).__type__||{}).stringValue}class qi{constructor(e){this.value=e}static empty(){return new qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ru(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jo(t)}setAll(e){let t=Ui.emptyPath(),s={},a=[];e.forEach((f,T)=>{if(!t.isImmediateParentOf(T)){const O=this.getFieldsMap(t);this.applyChanges(O,s,a),s={},a=[],t=T.popLast()}f?s[T.lastSegment()]=Jo(f):a.push(T.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());ru(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return aa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];ru(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Va(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new qi(Jo(this.value))}}function Cl(r){const e=[];return Va(r.fields,(t,s)=>{const a=new Ui([t]);if(ru(s)){const l=Cl(s.mapValue).fields;if(0===l.length)e.push(a);else for(const f of l)e.push(a.child(f))}else e.push(a)}),new co(e)}class Si{constructor(e,t,s,a,l,f,T){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=f,this.documentState=T}static newInvalidDocument(e){return new Si(e,0,Mn.min(),Mn.min(),Mn.min(),qi.empty(),0)}static newFoundDocument(e,t,s,a){return new Si(e,1,t,Mn.min(),s,a,0)}static newNoDocument(e,t){return new Si(e,2,t,Mn.min(),Mn.min(),qi.empty(),0)}static newUnknownDocument(e,t){return new Si(e,3,t,Mn.min(),Mn.min(),qi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Mn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Si&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wa{constructor(e,t){this.position=e,this.inclusive=t}}function uc(r,e,t){let s=0;for(let a=0;a<r.position.length;a++){const l=e[a],f=r.position[a];if(s=l.field.isKeyField()?Vt.comparator(Vt.fromName(f.referenceValue),t.key):ca(f,t.data.field(l.field)),"desc"===l.dir&&(s*=-1),0!==s)break}return s}function Al(r,e){if(null===r)return null===e;if(null===e||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!aa(r.position[t],e.position[t]))return!1;return!0}class su{constructor(e,t="asc"){this.field=e,this.dir=t}}function I(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class R{}class k extends R{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,s):new So(e,t,s):"array-contains"===t?new _u(e,s):"in"===t?new ea(e,s):"not-in"===t?new Aa(e,s):"array-contains-any"===t?new vu(e,s):new k(e,t,s)}static createKeyFieldInFilter(e,t,s){return"in"===t?new ks(e,s):new cc(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ca(t,this.value)):null!==t&&Ca(this.value)===Ca(t)&&this.matchesComparison(ca(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Z extends R{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Z(e,t)}matches(e){return ye(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ye(r){return"and"===r.op}function We(r){return function qt(r){for(const e of r.filters)if(e instanceof Z)return!1;return!0}(r)&&ye(r)}function Gt(r){if(r instanceof k)return r.field.canonicalString()+r.op.toString()+la(r.value);if(We(r))return r.filters.map(e=>Gt(e)).join(",");{const e=r.filters.map(t=>Gt(t)).join(",");return`${r.op}(${e})`}}function Sn(r,e){return r instanceof k?(t=r,(s=e)instanceof k&&t.op===s.op&&t.field.isEqual(s.field)&&aa(t.value,s.value)):r instanceof Z?function(t,s){return s instanceof Z&&t.op===s.op&&t.filters.length===s.filters.length&&t.filters.reduce((a,l,f)=>a&&Sn(l,s.filters[f]),!0)}(r,e):void rn();var t,s}function tr(r){return r instanceof k?`${(e=r).field.canonicalString()} ${e.op} ${la(e.value)}`:r instanceof Z?function(e){return e.op.toString()+" {"+e.getFilters().map(tr).join(" ,")+"}"}(r):"Filter";var e}class So extends k{constructor(e,t,s){super(e,t,s),this.key=Vt.fromName(s.referenceValue)}matches(e){const t=Vt.comparator(e.key,this.key);return this.matchesComparison(t)}}class ks extends k{constructor(e,t){super(e,"in",t),this.keys=lc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class cc extends k{constructor(e,t){super(e,"not-in",t),this.keys=lc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function lc(r,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>Vt.fromName(s.referenceValue))}class _u extends k{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Uu(t)&&ua(t.arrayValue,this.value)}}class ea extends k{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ua(this.value.arrayValue,t)}}class Aa extends k{constructor(e,t){super(e,"not-in",t)}matches(e){if(ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ua(this.value.arrayValue,t)}}class vu extends k{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Uu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ua(this.value.arrayValue,s))}}class Th{constructor(e,t=null,s=[],a=[],l=null,f=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=f,this.endAt=T,this.dt=null}}function qa(r,e=null,t=[],s=[],a=null,l=null,f=null){return new Th(r,e,t,s,a,l,f)}function wu(r){const e=jt(r);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Gt(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(a=s).field.canonicalString()+a.dir;var a}).join(","),ku(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>la(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>la(s)).join(",")),e.dt=t}return e.dt}function dc(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!I(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Sn(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Al(r.startAt,e.startAt)&&Al(r.endAt,e.endAt)}function hc(r){return Vt.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class Ra{constructor(e,t=null,s=[],a=[],l=null,f="F",T=null,O=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=f,this.startAt=T,this.endAt=O,this.wt=null,this._t=null}}function pc(r){return new Ra(r)}function Ml(r){return 0===r.filters.length&&null===r.limit&&null==r.startAt&&null==r.endAt&&(0===r.explicitOrderBy.length||1===r.explicitOrderBy.length&&r.explicitOrderBy[0].field.isKeyField())}function xl(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function Vu(r){for(const e of r.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Pl(r){return null!==r.collectionGroup}function gc(r){const e=jt(r);if(null===e.wt){e.wt=[];const t=Vu(e),s=xl(e);if(null!==t&&null===s)t.isKeyField()||e.wt.push(new su(t)),e.wt.push(new su(Ui.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.wt.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new su(Ui.keyField(),l))}}}return e.wt}function Eo(r){const e=jt(r);if(!e._t)if("F"===e.limitType)e._t=qa(e.path,e.collectionGroup,gc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of gc(e))t.push(new su(l.field,"desc"===l.dir?"asc":"desc"));const s=e.endAt?new Wa(e.endAt.position,e.endAt.inclusive):null,a=e.startAt?new Wa(e.startAt.position,e.startAt.inclusive):null;e._t=qa(e.path,e.collectionGroup,t,e.filters,e.limit,s,a)}return e._t}function _d(r,e){e.getFirstInequalityField(),Vu(r);const t=r.filters.concat([e]);return new Ra(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Bc(r,e,t){return new Ra(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function $u(r,e){return dc(Eo(r),Eo(e))&&r.limitType===e.limitType}function vd(r){return`${wu(Eo(r))}|lt:${r.limitType}`}function Vc(r){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(s=>tr(s)).join(", ")}]`),ku(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(s=>{return`${(a=s).field.canonicalString()} (${a.dir})`;var a}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>la(s)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>la(s)).join(",")),`Target(${t})`}(Eo(r))}; limitType=${r.limitType})`}function $c(r,e){return e.isFoundDocument()&&function(t,s){const a=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Vt.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(r,e)&&function(t,s){for(const a of gc(t))if(!a.field.isKeyField()&&null===s.data.field(a.field))return!1;return!0}(r,e)&&function(t,s){for(const a of t.filters)if(!a.matches(s))return!1;return!0}(r,e)&&(s=e,!((t=r).startAt&&!function(a,l,f){const T=uc(a,l,f);return a.inclusive?T<=0:T<0}(t.startAt,gc(t),s)||t.endAt&&!function(a,l,f){const T=uc(a,l,f);return a.inclusive?T>=0:T>0}(t.endAt,gc(t),s)));var t,s}function Dh(r){return(e,t)=>{let s=!1;for(const a of gc(r)){const l=Xf(a,e,t);if(0!==l)return l;s=s||a.field.isKeyField()}return 0}}function Xf(r,e,t){const s=r.field.isKeyField()?Vt.comparator(e.key,t.key):function(a,l,f){const T=l.data.field(a),O=f.data.field(a);return null!==T&&null!==O?ca(T,O):rn()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return rn()}}class jo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[a,l]of s)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(void 0===a)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return 1===s.length?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Va(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return $a(this.inner)}size(){return this.innerSize}}const Jf=new oi(Vt.comparator);function Ho(){return Jf}const ep=new oi(Vt.comparator);function wd(...r){let e=ep;for(const t of r)e=e.insert(t.key,t);return e}function jc(r){let e=ep;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ou(){return Hc()}function bh(){return Hc()}function Hc(){return new jo(r=>r.toString(),(r,e)=>r.isEqual(e))}const Sh=new oi(Vt.comparator),Ch=new Ni(Vt.comparator);function br(...r){let e=Ch;for(const t of r)e=e.add(t);return e}const Ed=new Ni(vn);function Ah(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:La(e)?"-0":e}}function Id(r){return{integerValue:""+r}}function Td(r,e){return function ss(r){return"number"==typeof r&&Number.isInteger(r)&&!La(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}(e)?Id(e):Ah(r,e)}class Gc{constructor(){this._=void 0}}function Nl(r,e,t){return r instanceof Wc?function(s,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&ba(a)&&(a=Fc(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):r instanceof mc?tp(r,e):r instanceof ju?Mh(r,e):function(s,a){const l=Rh(s,a),f=Dd(l)+Dd(s.gt);return gd(l)&&gd(s.gt)?Id(f):Ah(s.serializer,f)}(r,e)}function Vg(r,e,t){return r instanceof mc?tp(r,e):r instanceof ju?Mh(r,e):t}function Rh(r,e){return r instanceof Eu?gd(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Wc extends Gc{}class mc extends Gc{constructor(e){super(),this.elements=e}}function tp(r,e){const t=yc(e);for(const s of r.elements)t.some(a=>aa(a,s))||t.push(s);return{arrayValue:{values:t}}}class ju extends Gc{constructor(e){super(),this.elements=e}}function Mh(r,e){let t=yc(e);for(const s of r.elements)t=t.filter(a=>!aa(a,s));return{arrayValue:{values:t}}}class Eu extends Gc{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Dd(r){return os(r.integerValue||r.doubleValue)}function yc(r){return Uu(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class d_{constructor(e,t){this.version=e,this.transformResults=t}}class hs{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hs}static exists(e){return new hs(void 0,e)}static updateTime(e){return new hs(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(r,e){return void 0!==r.updateTime?e.isFoundDocument()&&e.version.isEqual(r.updateTime):void 0===r.exists||r.exists===e.isFoundDocument()}class bd{}function xh(r,e){if(!r.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return r.isNoDocument()?new Zc(r.key,hs.none()):new vc(r.key,r.data,hs.none());{const t=r.data,s=qi.empty();let a=new Ni(Ui.comparator);for(let l of e.fields)if(!a.has(l)){let f=t.field(l);null===f&&l.length>1&&(l=l.popLast(),f=t.field(l)),null===f?s.delete(l):s.set(l,f),a=a.add(l)}return new ko(r.key,s,new co(a.toArray()),hs.none())}}function Ol(r,e,t){r instanceof vc?function(s,a,l){const f=s.value.clone(),T=ip(s.fieldTransforms,a,l.transformResults);f.setAll(T),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(r,e,t):r instanceof ko?function(s,a,l){if(!Kc(s.precondition,a))return void a.convertToUnknownDocument(l.version);const f=ip(s.fieldTransforms,a,l.transformResults),T=a.data;T.setAll(rp(s)),T.setAll(f),a.convertToFoundDocument(l.version,T).setHasCommittedMutations()}(r,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function _c(r,e,t,s){return r instanceof vc?function(a,l,f,T){if(!Kc(a.precondition,l))return f;const O=a.value.clone(),U=sp(a.fieldTransforms,T,l);return O.setAll(U),l.convertToFoundDocument(l.version,O).setHasLocalMutations(),null}(r,e,t,s):r instanceof ko?function(a,l,f,T){if(!Kc(a.precondition,l))return f;const O=sp(a.fieldTransforms,T,l),U=l.data;return U.setAll(rp(a)),U.setAll(O),l.convertToFoundDocument(l.version,U).setHasLocalMutations(),null===f?null:f.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(q=>q.field))}(r,e,t,s):(f=t,Kc(r.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):f);var l,f}function np(r,e){let t=null;for(const s of r.fieldTransforms){const a=e.data.field(s.field),l=Rh(s.transform,a||null);null!=l&&(null===t&&(t=qi.empty()),t.set(s.field,l))}return t||null}function Ph(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=r.fieldTransforms)&&void 0===s||t&&s&&na(t,s,(a,l)=>function $g(r,e){return r.field.isEqual(e.field)&&(s=e.transform,(t=r.transform)instanceof mc&&s instanceof mc||t instanceof ju&&s instanceof ju?na(t.elements,s.elements,aa):t instanceof Eu&&s instanceof Eu?aa(t.gt,s.gt):t instanceof Wc&&s instanceof Wc);var t,s}(a,l))))&&(0===r.type?r.value.isEqual(e.value):1!==r.type||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask));var t,s}class vc extends bd{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ko extends bd{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function rp(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function ip(r,e,t){const s=new Map;Dn(r.length===t.length);for(let a=0;a<t.length;a++){const l=r[a],f=l.transform,T=e.data.field(l.field);s.set(l.field,Vg(f,T,t[a]))}return s}function sp(r,e,t){const s=new Map;for(const a of r){const l=a.transform,f=t.data.field(a.field);s.set(a.field,Nl(l,f,e))}return s}class Zc extends bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nh extends bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ka{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&Ol(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=_c(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=_c(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=bh();return this.mutations.forEach(a=>{const l=e.get(a.key),f=l.overlayedDocument;let T=this.applyToLocalView(f,l.mutatedFields);T=t.has(a.key)?null:T;const O=xh(f,T);null!==O&&s.set(a.key,O),f.isValidDocument()||f.convertToNoDocument(Mn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),br())}isEqual(e){return this.batchId===e.batchId&&na(this.mutations,e.mutations,(t,s)=>Ph(t,s))&&na(this.baseMutations,e.baseMutations,(t,s)=>Ph(t,s))}}class Hu{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){Dn(e.mutations.length===s.length);let a=Sh;const l=e.mutations;for(let f=0;f<l.length;f++)a=a.insert(l[f].key,s[f].version);return new Hu(e,t,s,a)}}class Oh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class E{constructor(e,t){this.count=e,this.unchangedNames=t}}var d,p;function j(r){if(void 0===r)return Or("GRPC error has no .code"),qe.UNKNOWN;switch(r){case d.OK:return qe.OK;case d.CANCELLED:return qe.CANCELLED;case d.UNKNOWN:return qe.UNKNOWN;case d.DEADLINE_EXCEEDED:return qe.DEADLINE_EXCEEDED;case d.RESOURCE_EXHAUSTED:return qe.RESOURCE_EXHAUSTED;case d.INTERNAL:return qe.INTERNAL;case d.UNAVAILABLE:return qe.UNAVAILABLE;case d.UNAUTHENTICATED:return qe.UNAUTHENTICATED;case d.INVALID_ARGUMENT:return qe.INVALID_ARGUMENT;case d.NOT_FOUND:return qe.NOT_FOUND;case d.ALREADY_EXISTS:return qe.ALREADY_EXISTS;case d.PERMISSION_DENIED:return qe.PERMISSION_DENIED;case d.FAILED_PRECONDITION:return qe.FAILED_PRECONDITION;case d.ABORTED:return qe.ABORTED;case d.OUT_OF_RANGE:return qe.OUT_OF_RANGE;case d.UNIMPLEMENTED:return qe.UNIMPLEMENTED;case d.DATA_LOSS:return qe.DATA_LOSS;default:return rn()}}(p=d||(d={}))[p.OK=0]="OK",p[p.CANCELLED=1]="CANCELLED",p[p.UNKNOWN=2]="UNKNOWN",p[p.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",p[p.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",p[p.NOT_FOUND=5]="NOT_FOUND",p[p.ALREADY_EXISTS=6]="ALREADY_EXISTS",p[p.PERMISSION_DENIED=7]="PERMISSION_DENIED",p[p.UNAUTHENTICATED=16]="UNAUTHENTICATED",p[p.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",p[p.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",p[p.ABORTED=10]="ABORTED",p[p.OUT_OF_RANGE=11]="OUT_OF_RANGE",p[p.UNIMPLEMENTED=12]="UNIMPLEMENTED",p[p.INTERNAL=13]="INTERNAL",p[p.UNAVAILABLE=14]="UNAVAILABLE",p[p.DATA_LOSS=15]="DATA_LOSS";class Y{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Me}static getOrCreateInstance(){return null===Me&&(Me=new Y),Me}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Me=null;const Ht=new dn([4294967295,4294967295],0);function on(r){const e=function et(){return new TextEncoder}().encode(r),t=new En;return t.update(e),new Uint8Array(t.digest())}function bn(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new dn([t,s],0),new dn([a,l],0)]}class Er{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ks(`Invalid padding: ${t}`);if(s<0)throw new Ks(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new Ks(`Invalid hash count: ${s}`);if(0===e.length&&0!==t)throw new Ks(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=dn.fromNumber(this.It)}Et(e,t,s){let a=e.add(t.multiply(dn.fromNumber(s)));return 1===a.compare(Ht)&&(a=new dn([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=on(e),[s,a]=bn(t);for(let l=0;l<this.hashCount;l++){const f=this.Et(s,a,l);if(!this.At(f))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),f=new Er(l,a,t);return s.forEach(T=>f.insert(T)),f}insert(e){if(0===this.It)return;const t=on(e),[s,a]=bn(t);for(let l=0;l<this.hashCount;l++){const f=this.Et(s,a,l);this.Rt(f)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ks extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ta{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ta(Mn.min(),a,new oi(vn),Ho(),br())}}class au{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new au(s,t,br(),br(),br())}}class kl{constructor(e,t,s,a){this.Pt=e,this.removedTargetIds=t,this.key=s,this.bt=a}}class Sd{constructor(e,t){this.targetId=e,this.Vt=t}}class kh{constructor(e,t,s=Os.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class Yc{constructor(){this.St=0,this.Dt=Lh(),this.Ct=Os.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=br(),t=br(),s=br();return this.Dt.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:rn()}}),new au(this.Ct,this.xt,e,t,s)}Ft(){this.Nt=!1,this.Dt=Lh()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class Qc{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Ho(),this.zt=Fh(),this.Wt=new oi(vn)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const s=this.Zt(t);switch(e.state){case 0:this.te(t)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(t);break;case 3:this.te(t)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),s.$t(e.resumeToken));break;default:rn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((s,a)=>{this.te(a)&&t(a)})}ne(e){var t;const s=e.targetId,a=e.Vt.count,l=this.se(s);if(l){const f=l.target;if(hc(f))if(0===a){const T=new Vt(f.path);this.Yt(s,T,Si.newNoDocument(T,Mn.min()))}else Dn(1===a);else{const T=this.ie(s);if(T!==a){const O=this.re(e,T);0!==O&&(this.ee(s),this.Wt=this.Wt.insert(s,2===O?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Y.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(U,q,he){var $e,ht,Ft,hn,wn,Sr;const Xr={localCacheCount:q,existenceFilterCount:he.count},Lr=he.unchangedNames;return Lr&&(Xr.bloomFilter={applied:0===U,hashCount:null!==($e=Lr?.hashCount)&&void 0!==$e?$e:0,bitmapLength:null!==(hn=null===(Ft=null===(ht=Lr?.bits)||void 0===ht?void 0:ht.bitmap)||void 0===Ft?void 0:Ft.length)&&void 0!==hn?hn:0,padding:null!==(Sr=null===(wn=Lr?.bits)||void 0===wn?void 0:wn.padding)&&void 0!==Sr?Sr:0}),Xr}(O,T,e.Vt))}}}}re(e,t){const{unchangedNames:s,count:a}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:l="",padding:f=0},hashCount:T=0}=s;let O,U;try{O=Da(l).toUint8Array()}catch(q){if(q instanceof fd)return jr("Decoding the base64 bloom filter in existence filter failed ("+q.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw q}try{U=new Er(O,f,T)}catch(q){return jr(q instanceof Ks?"BloomFilter error: ":"Applying bloom filter failed: ",q),1}return 0===U.It?1:a!==t-this.oe(e.targetId,U)?2:0}oe(e,t){const s=this.Gt.getRemoteKeysForTarget(e);let a=0;return s.forEach(l=>{const f=this.Gt.ue(),T=`projects/${f.projectId}/databases/${f.database}/documents/${l.path.canonicalString()}`;t.vt(T)||(this.Yt(e,l,null),a++)}),a}ce(e){const t=new Map;this.Qt.forEach((l,f)=>{const T=this.se(f);if(T){if(l.current&&hc(T.target)){const O=new Vt(T.target.path);null!==this.jt.get(O)||this.ae(f,O)||this.Yt(f,O,Si.newNoDocument(O,e))}l.Mt&&(t.set(f,l.Ot()),l.Ft())}});let s=br();this.zt.forEach((l,f)=>{let T=!0;f.forEachWhile(O=>{const U=this.se(O);return!U||"TargetPurposeLimboResolution"===U.purpose||(T=!1,!1)}),T&&(s=s.add(l))}),this.jt.forEach((l,f)=>f.setReadTime(e));const a=new ta(e,t,this.Wt,this.jt,s);return this.jt=Ho(),this.zt=Fh(),this.Wt=new oi(vn),a}Jt(e,t){if(!this.te(e))return;const s=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,s),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,s){if(!this.te(e))return;const a=this.Zt(e);this.ae(e,t)?a.Bt(t,1):a.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),s&&(this.jt=this.jt.insert(t,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Yc,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ni(vn),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||at("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Yc),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function Fh(){return new oi(Vt.comparator)}function Lh(){return new oi(Vt.comparator)}const Fl={asc:"ASCENDING",desc:"DESCENDING"},Uh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},op={and:"AND",or:"OR"};class Cd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ad(r,e){return r.useProto3Json||ku(e)?e:{value:e}}function Xc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rd(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Hg(r,e){return Xc(r,e.toTimestamp())}function Es(r){return Dn(!!r),Mn.fromTimestamp(function(e){const t=bo(e);return new Pi(t.seconds,t.nanos)}(r))}function ap(r,e){return(t=r,new kr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Fs(r){const e=kr.fromString(r);return Dn(pp(e)),e}function Ll(r,e){return ap(r.databaseId,e.path)}function Iu(r,e){const t=Fs(e);if(t.get(1)!==r.databaseId.projectId)throw new Dt(qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Dt(qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Vt(zg(t))}function Md(r,e){return ap(r.databaseId,e)}function xd(r){return new kr(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function zg(r){return Dn(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Gg(r,e,t){return{name:Ll(r,e),fields:t.value.mapValue.fields}}function lp(r,e){return{documents:[Md(r,e.path)]}}function Vh(r,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Md(r,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Md(r,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const a=function(O){if(0!==O.length)return Qg(Z.create(O,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(O){if(0!==O.length)return O.map(U=>{return{field:el((q=U).field),direction:Zg(q.dir)};var q})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const f=Ad(r,e.limit);var T,O;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(O=e.endAt).inclusive,values:O.position}),t}function dp(r){let e=function up(r){const e=Fs(r);return 4===e.length?kr.emptyPath():zg(e)}(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){Dn(1===s);const q=t.from[0];q.allDescendants?a=q.collectionId:e=e.child(q.collectionId)}let l=[];t.where&&(l=function(q){const he=Kg(q);return he instanceof Z&&We(he)?he.getFilters():[he]}(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(q=>{return new su(wc((he=q).field),function($e){switch($e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(he.direction));var he}));let T=null;t.limit&&(T=function(q){let he;return he="object"==typeof q?q.value:q,ku(he)?null:he}(t.limit));let O=null;var q;t.startAt&&(O=new Wa((q=t.startAt).values||[],!!q.before));let U=null;return t.endAt&&(U=function(q){return new Wa(q.values||[],!q.before)}(t.endAt)),function Rl(r,e,t,s,a,l,f,T){return new Ra(r,e,t,s,a,l,f,T)}(e,a,f,l,T,"F",O,U)}function Kg(r){return void 0!==r.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=wc(e.unaryFilter.field);return k.create(t,"==",{doubleValue:NaN});case"IS_NULL":const s=wc(e.unaryFilter.field);return k.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=wc(e.unaryFilter.field);return k.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=wc(e.unaryFilter.field);return k.create(l,"!=",{nullValue:"NULL_VALUE"});default:return rn()}}(r):void 0!==r.fieldFilter?k.create(wc((e=r).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return rn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==r.compositeFilter?function(e){return Z.create(e.compositeFilter.filters.map(t=>Kg(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return rn()}}(e.compositeFilter.op))}(r):rn();var e}function Zg(r){return Fl[r]}function Yg(r){return Uh[r]}function hp(r){return op[r]}function el(r){return{fieldPath:r.canonicalString()}}function wc(r){return Ui.fromServerFormat(r.fieldPath)}function Qg(r){return r instanceof k?function(e){if("=="===e.op){if(Uc(e.value))return{unaryFilter:{field:el(e.field),op:"IS_NAN"}};if(md(e.value))return{unaryFilter:{field:el(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Uc(e.value))return{unaryFilter:{field:el(e.field),op:"IS_NOT_NAN"}};if(md(e.value))return{unaryFilter:{field:el(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(e.field),op:Yg(e.op),value:e.value}}}(r):r instanceof Z?function(e){const t=e.getFilters().map(s=>Qg(s));return 1===t.length?t[0]:{compositeFilter:{op:hp(e.op),filters:t}}}(r):rn()}function fp(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pp(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}class Tu{constructor(e,t,s,a,l=Mn.min(),f=Mn.min(),T=Os.EMPTY_BYTE_STRING,O=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=T,this.expectedCount=O}withSequenceNumber(e){return new Tu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Tu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ec{constructor(e){this.fe=e}}function Pd(r){const e=dp({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?Bc(e,e.limit,"L"):e}class il{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(os(e.integerValue));else if("doubleValue"in e){const s=os(e.doubleValue);isNaN(s)?this.ye(t,13):(this.ye(t,15),La(s)?t.pe(0):t.pe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.ye(t,20),"string"==typeof s?t.Ie(s):(t.Ie(`${s.seconds||""}`),t.pe(s.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Da(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.ye(t,45),t.pe(s.latitude||0),t.pe(s.longitude||0)}else"mapValue"in e?iu(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):rn()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const s=e.fields||{};this.ye(t,55);for(const a of Object.keys(s))this.Te(a,t),this.me(s[a],t)}Pe(e,t){const s=e.values||[];this.ye(t,50);for(const a of s)this.me(a,t)}ve(e,t){this.ye(t,37),Vt.fromName(e).path.forEach(s=>{this.ye(t,60),this.be(s,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}il.Ve=new il;class Ip{constructor(){this.rn=new ol}addToCollectionParentIndex(e,t){return this.rn.add(t),Be.resolve()}getCollectionParents(e,t){return Be.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return Be.resolve()}deleteFieldIndex(e,t){return Be.resolve()}getDocumentsMatchingTarget(e,t){return Be.resolve(null)}getIndexType(e,t){return Be.resolve(0)}getFieldIndexes(e,t){return Be.resolve([])}getNextCollectionGroupToUpdate(e){return Be.resolve(null)}getMinOffset(e,t){return Be.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,t){return Be.resolve(wo.min())}updateCollectionGroup(e,t,s){return Be.resolve()}updateIndexEntries(e,t){return Be.resolve()}}class ol{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Ni(kr.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Ni(kr.comparator)).toArray()}}new Uint8Array(0);class vs{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new vs(e,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}vs.DEFAULT_COLLECTION_PERCENTILE=10,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vs.DEFAULT=new vs(41943040,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vs.DISABLED=new vs(-1,0,0);class Ic{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ic(0)}static Mn(){return new Ic(-1)}}class cm{constructor(){this.changes=new jo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Si.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?Be.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class b_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Cp{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(null!==s&&_c(s.mutation,a,co.empty(),Pi.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,br()).next(()=>s))}getLocalViewOfDocuments(e,t,s=br()){const a=ou();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let f=wd();return l.forEach((T,O)=>{f=f.insert(T,O.overlayedDocument)}),f}))}getOverlayedDocuments(e,t){const s=ou();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,br()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((f,T)=>{t.set(f,T)})})}computeViews(e,t,s,a){let l=Ho();const f=Hc(),T=Hc();return t.forEach((O,U)=>{const q=s.get(U.key);a.has(U.key)&&(void 0===q||q.mutation instanceof ko)?l=l.insert(U.key,U):void 0!==q?(f.set(U.key,q.mutation.getFieldMask()),_c(q.mutation,U,q.mutation.getFieldMask(),Pi.now())):f.set(U.key,co.empty())}),this.recalculateAndSaveOverlays(e,l).next(O=>(O.forEach((U,q)=>f.set(U,q)),t.forEach((U,q)=>{var he;return T.set(U,new b_(q,null!==(he=f.get(U))&&void 0!==he?he:null))}),T))}recalculateAndSaveOverlays(e,t){const s=Hc();let a=new oi((f,T)=>f-T),l=br();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(f=>{for(const T of f)T.keys().forEach(O=>{const U=t.get(O);if(null===U)return;let q=s.get(O)||co.empty();q=T.applyToLocalView(U,q),s.set(O,q);const he=(a.get(T.batchId)||br()).add(O);a=a.insert(T.batchId,he)})}).next(()=>{const f=[],T=a.getReverseIterator();for(;T.hasNext();){const O=T.getNext(),U=O.key,q=O.value,he=bh();q.forEach($e=>{if(!l.has($e)){const ht=xh(t.get($e),s.get($e));null!==ht&&he.set($e,ht),l=l.add($e)}}),f.push(this.documentOverlayCache.saveOverlays(e,U,he))}return Be.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return Vt.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Pl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var a}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const f=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):Be.resolve(ou());let T=-1,O=l;return f.next(U=>Be.forEach(U,(q,he)=>(T<he.largestBatchId&&(T=he.largestBatchId),l.get(q)?Be.resolve():this.remoteDocumentCache.getEntry(e,q).next($e=>{O=O.insert(q,$e)}))).next(()=>this.populateOverlays(e,U,l)).next(()=>this.computeViews(e,O,U,br())).next(q=>({batchId:T,changes:jc(q)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Vt(t)).next(s=>{let a=wd();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const a=t.collectionGroup;let l=wd();return this.indexManager.getCollectionParents(e,a).next(f=>Be.forEach(f,T=>{const O=(U=t,q=T.child(a),new Ra(q,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt));var U,q;return this.getDocumentsMatchingCollectionQuery(e,O,s).next(U=>{U.forEach((q,he)=>{l=l.insert(q,he)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,a))).next(l=>{a.forEach((T,O)=>{const U=O.getKey();null===l.get(U)&&(l=l.insert(U,Si.newInvalidDocument(U)))});let f=wd();return l.forEach((T,O)=>{const U=a.get(T);void 0!==U&&_c(U.mutation,O,co.empty(),Pi.now()),$c(t,O)&&(f=f.insert(T,O))}),f})}}class S_{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return Be.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var s;return this.cs.set(t.id,{id:(s=t).id,version:s.version,createTime:Es(s.createTime)}),Be.resolve()}getNamedQuery(e,t){return Be.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(s=t).name,query:Pd(s.bundledQuery),readTime:Es(s.readTime)}),Be.resolve();var s}}class hm{constructor(){this.overlays=new oi(Vt.comparator),this.ls=new Map}getOverlay(e,t){return Be.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ou();return Be.forEach(t,a=>this.getOverlay(e,a).next(l=>{null!==l&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.we(e,t,l)}),Be.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.ls.get(s);return void 0!==a&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.ls.delete(s)),Be.resolve()}getOverlaysForCollection(e,t,s){const a=ou(),l=t.length+1,f=new Vt(t.child("")),T=this.overlays.getIteratorFrom(f);for(;T.hasNext();){const O=T.getNext().value,U=O.getKey();if(!t.isPrefixOf(U.path))break;U.path.length===l&&O.largestBatchId>s&&a.set(O.getKey(),O)}return Be.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new oi((U,q)=>U-q);const f=this.overlays.getIterator();for(;f.hasNext();){const U=f.getNext().value;if(U.getKey().getCollectionGroup()===t&&U.largestBatchId>s){let q=l.get(U.largestBatchId);null===q&&(q=ou(),l=l.insert(U.largestBatchId,q)),q.set(U.getKey(),U)}}const T=ou(),O=l.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach((U,q)=>T.set(U,q)),!(T.size()>=a)););return Be.resolve(T)}we(e,t,s){const a=this.overlays.get(s.key);if(null!==a){const f=this.ls.get(a.largestBatchId).delete(s.key);this.ls.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Oh(t,s));let l=this.ls.get(t);void 0===l&&(l=br(),this.ls.set(t,l)),this.ls.set(t,l.add(s.key))}}class Ap{constructor(){this.fs=new Ni(Co.ds),this.ws=new Ni(Co._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const s=new Co(e,t);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.ys(new Co(e,t))}ps(e,t){e.forEach(s=>this.removeReference(s,t))}Is(e){const t=new Vt(new kr([])),s=new Co(t,e),a=new Co(t,e+1),l=[];return this.ws.forEachInRange([s,a],f=>{this.ys(f),l.push(f.key)}),l}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Vt(new kr([])),s=new Co(t,e),a=new Co(t,e+1);let l=br();return this.ws.forEachInRange([s,a],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new Co(e,0),s=this.fs.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class Co{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Vt.comparator(e.key,t.key)||vn(e.As,t.As)}static _s(e,t){return vn(e.As,t.As)||Vt.comparator(e.key,t.key)}}class y0{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ni(Co.ds)}checkEmpty(e){return Be.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,a){const l=this.vs;this.vs++;const f=new Ka(l,t,s,a);this.mutationQueue.push(f);for(const T of a)this.Rs=this.Rs.add(new Co(T.key,l)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return Be.resolve(f)}lookupMutationBatch(e,t){return Be.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const a=this.bs(t+1),l=a<0?0:a;return Be.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Co(t,0),a=new Co(t,Number.POSITIVE_INFINITY),l=[];return this.Rs.forEachInRange([s,a],f=>{const T=this.Ps(f.As);l.push(T)}),Be.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ni(vn);return t.forEach(a=>{const l=new Co(a,0),f=new Co(a,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([l,f],T=>{s=s.add(T.As)})}),Be.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;Vt.isDocumentKey(l)||(l=l.child(""));const f=new Co(new Vt(l),0);let T=new Ni(vn);return this.Rs.forEachWhile(O=>{const U=O.key.path;return!!s.isPrefixOf(U)&&(U.length===a&&(T=T.add(O.As)),!0)},f),Be.resolve(this.Vs(T))}Vs(e){const t=[];return e.forEach(s=>{const a=this.Ps(s);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){Dn(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let s=this.Rs;return Be.forEach(t.mutations,a=>{const l=new Co(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,t){const s=new Co(t,0),a=this.Rs.firstAfterOrEqual(s);return Be.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return Be.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class fm{constructor(e){this.Ds=e,this.docs=new oi(Vt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,f=this.Ds(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return Be.resolve(s?s.document.mutableCopy():Si.newInvalidDocument(t))}getEntries(e,t){let s=Ho();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Si.newInvalidDocument(a))}),Be.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=Ho();const f=t.path,T=new Vt(f.child("")),O=this.docs.getIteratorFrom(T);for(;O.hasNext();){const{key:U,value:{document:q}}=O.getNext();if(!f.isPrefixOf(U.path))break;U.path.length>f.length+1||eu(ia(q),s)<=0||(a.has(q.key)||$c(t,q))&&(l=l.insert(q.key,q.mutableCopy()))}return Be.resolve(l)}getAllFromCollectionGroup(e,t,s,a){rn()}Cs(e,t){return Be.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new pm(this)}getSize(e){return Be.resolve(this.size)}}class pm extends cm{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.os.addEntry(e,a)):this.os.removeEntry(s)}),Be.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class cl{constructor(e){this.persistence=e,this.xs=new jo(t=>wu(t),dc),this.lastRemoteSnapshotVersion=Mn.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Ap,this.targetCount=0,this.Ms=Ic.kn()}forEachTarget(e,t){return this.xs.forEach((s,a)=>t(a)),Be.resolve()}getLastRemoteSnapshotVersion(e){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Be.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Ns&&(this.Ns=t),Be.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Ic(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,Be.resolve()}updateTargetData(e,t){return this.Fn(t),Be.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,Be.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.xs.forEach((f,T)=>{T.sequenceNumber<=t&&null===s.get(T.targetId)&&(this.xs.delete(f),l.push(this.removeMatchingKeysForTargetId(e,T.targetId)),a++)}),Be.waitFor(l).next(()=>a)}getTargetCount(e){return Be.resolve(this.targetCount)}getTargetData(e,t){const s=this.xs.get(t)||null;return Be.resolve(s)}addMatchingKeys(e,t,s){return this.ks.gs(t,s),Be.resolve()}removeMatchingKeys(e,t,s){this.ks.ps(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(f=>{l.push(a.markPotentiallyOrphaned(e,f))}),Be.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),Be.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ks.Es(t);return Be.resolve(s)}containsKey(e,t){return Be.resolve(this.ks.containsKey(t))}}class Rp{constructor(e,t){this.$s={},this.overlays={},this.Os=new bi(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new cl(this),this.indexManager=new Ip,this.remoteDocumentCache=new fm(s=>this.referenceDelegate.Ls(s)),this.serializer=new Ec(t),this.qs=new S_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hm,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.$s[e.toKey()];return s||(s=new y0(t,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,s){at("MemoryPersistence","Starting transaction:",e);const a=new Mp(this.Os.next());return this.referenceDelegate.Us(),s(a).next(l=>this.referenceDelegate.Ks(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Gs(e,t){return Be.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,t)))}}class Mp extends sa{constructor(e){super(),this.currentSequenceNumber=e}}class $l{constructor(e){this.persistence=e,this.Qs=new Ap,this.js=null}static zs(e){return new $l(e)}get Ws(){if(this.js)return this.js;throw rn()}addReference(e,t,s){return this.Qs.addReference(s,t),this.Ws.delete(s.toString()),Be.resolve()}removeReference(e,t,s){return this.Qs.removeReference(s,t),this.Ws.add(s.toString()),Be.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),Be.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(a=>this.Ws.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.Ws.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.Ws,s=>{const a=Vt.fromPath(s);return this.Hs(e,a).next(l=>{l||t.removeEntry(a,Mn.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(s=>{s?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return Be.or([()=>Be.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class bc{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Fi=s,this.Bi=a}static Li(e,t){let s=br(),a=br();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new bc(e,t.fromCache,s,a)}}class mm{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,s,a){return this.Ki(e,t).next(l=>l||this.Gi(e,t,a,s)).next(l=>l||this.Qi(e,t))}Ki(e,t){if(Ml(t))return Be.resolve(null);let s=Eo(t);return this.indexManager.getIndexType(e,s).next(a=>0===a?null:(null!==t.limit&&1===a&&(t=Bc(t,null,"F"),s=Eo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const f=br(...l);return this.Ui.getDocuments(e,f).next(T=>this.indexManager.getMinOffset(e,s).next(O=>{const U=this.ji(t,T);return this.zi(t,U,f,O.readTime)?this.Ki(e,Bc(t,null,"F")):this.Wi(e,U,t,O)}))})))}Gi(e,t,s,a){return Ml(t)||a.isEqual(Mn.min())?this.Qi(e,t):this.Ui.getDocuments(e,s).next(l=>{const f=this.ji(t,l);return this.zi(t,f,s,a)?this.Qi(e,t):(so()<=ve.in.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vc(t)),this.Wi(e,f,t,function Ja(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,a=Mn.fromTimestamp(1e9===s?new Pi(t+1,0):new Pi(t,s));return new wo(a,Vt.empty(),e)}(a,-1)))})}ji(e,t){let s=new Ni(Dh(e));return t.forEach((a,l)=>{$c(e,l)&&(s=s.add(l))}),s}zi(e,t,s,a){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Qi(e,t){return so()<=ve.in.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Vc(t)),this.Ui.getDocumentsMatchingQuery(e,t,wo.min())}Wi(e,t,s,a){return this.Ui.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(f=>{l=l.insert(f.key,f)}),l))}}class ym{constructor(e,t,s,a){this.persistence=e,this.Hi=t,this.serializer=a,this.Ji=new oi(vn),this.Yi=new jo(l=>wu(l),dc),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Cp(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function _m(r,e){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,_e.Z)(function*(r,e){const t=jt(r);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.tr(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const f=[],T=[];let O=br();for(const U of a){f.push(U.batchId);for(const q of U.mutations)O=O.add(q.key)}for(const U of l){T.push(U.batchId);for(const q of U.mutations)O=O.add(q.key)}return t.localDocuments.getDocuments(s,O).next(U=>({er:U,removedBatchIds:f,addedBatchIds:T}))})})}),Qh.apply(this,arguments)}function vm(r){const e=jt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function M_(r,e){const t=jt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Hl(r,e,t){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,_e.Z)(function*(r,e,t){const s=jt(r),a=s.Ji.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",l,f=>s.persistence.referenceDelegate.removeTarget(f,a)))}catch(f){if(!wa(f))throw f;at("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(a.target)}),Xh.apply(this,arguments)}function Ud(r,e,t){const s=jt(r);let a=Mn.min(),l=br();return s.persistence.runTransaction("Execute query","readonly",f=>function(T,O,U){const q=jt(T),he=q.Yi.get(U);return void 0!==he?Be.resolve(q.Ji.get(he)):q.Bs.getTargetData(O,U)}(s,f,Eo(e)).next(T=>{if(T)return a=T.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(f,T.targetId).next(O=>{l=O})}).next(()=>s.Hi.getDocumentsMatchingQuery(f,e,t?a:Mn.min(),t?l:br())).next(T=>(function ef(r,e,t){let s=r.Xi.get(e)||Mn.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),r.Xi.set(e,s)}(s,function Qf(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}(e),T),{documents:T,ir:l})))}class dl{constructor(){this.activeTargetIds=function zc(){return Ed}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $d{constructor(){this.Hr=new dl,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,s){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new dl,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Tm{Yr(e){}shutdown(){}}class rf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){at("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){at("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Gl=null;function jd(){return null===Gl?Gl=268435456+Math.round(2147483648*Math.random()):Gl++,"0x"+Gl.toString(16)}const Dm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fp{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const zo="WebChannelConnection";class N_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,s,a,l){const f=jd(),T=this.To(e,t);at("RestConnection",`Sending RPC '${e}' ${f}:`,T,s);const O={};return this.Eo(O,a,l),this.Ao(e,T,O,s).then(U=>(at("RestConnection",`Received RPC '${e}' ${f}: `,U),U),U=>{throw jr("RestConnection",`RPC '${e}' ${f} failed with error: `,U,"url: ",T,"request:",s),U})}vo(e,t,s,a,l,f){return this.Io(e,t,s,a,l)}Eo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+pr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}To(e,t){return`${this.mo}/v1/${t}:${Dm[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,s,a){const l=jd();return new Promise((f,T)=>{const O=new Wt;O.setWithCredentials(!0),O.listenOnce(oe.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case G.NO_ERROR:const q=O.getResponseJson();at(zo,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(q)),f(q);break;case G.TIMEOUT:at(zo,`RPC '${e}' ${l} timed out`),T(new Dt(qe.DEADLINE_EXCEEDED,"Request time out"));break;case G.HTTP_ERROR:const he=O.getStatus();if(at(zo,`RPC '${e}' ${l} failed with status:`,he,"response text:",O.getResponseText()),he>0){let $e=O.getResponseJson();Array.isArray($e)&&($e=$e[0]);const ht=$e?.error;if(ht&&ht.status&&ht.message){const Ft=function(hn){const wn=hn.toLowerCase().replace(/_/g,"-");return Object.values(qe).indexOf(wn)>=0?wn:qe.UNKNOWN}(ht.status);T(new Dt(Ft,ht.message))}else T(new Dt(qe.UNKNOWN,"Server responded with status "+O.getStatus()))}else T(new Dt(qe.UNAVAILABLE,"Connection failed."));break;default:rn()}}finally{at(zo,`RPC '${e}' ${l} completed.`)}});const U=JSON.stringify(a);at(zo,`RPC '${e}' ${l} sending request:`,a),O.send(t,"POST",U,s,15)})}Ro(e,t,s){const a=jd(),l=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=F(),T=x(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},U=this.longPollingOptions.timeoutSeconds;void 0!==U&&(O.longPollingTimeout=Math.round(1e3*U)),this.useFetchStreams&&(O.xmlHttpFactory=new ot({})),this.Eo(O.initMessageHeaders,t,s),O.encodeInitMessageHeaders=!0;const q=l.join("");at(zo,`Creating RPC '${e}' stream ${a}: ${q}`,O);const he=f.createWebChannel(q,O);let $e=!1,ht=!1;const Ft=new Fp({ro:wn=>{ht?at(zo,`Not sending because RPC '${e}' stream ${a} is closed:`,wn):($e||(at(zo,`Opening RPC '${e}' stream ${a} transport.`),he.open(),$e=!0),at(zo,`RPC '${e}' stream ${a} sending:`,wn),he.send(wn))},oo:()=>he.close()}),hn=(wn,Sr,Xr)=>{wn.listen(Sr,Lr=>{try{Xr(Lr)}catch(Zs){setTimeout(()=>{throw Zs},0)}})};return hn(he,Bt.EventType.OPEN,()=>{ht||at(zo,`RPC '${e}' stream ${a} transport opened.`)}),hn(he,Bt.EventType.CLOSE,()=>{ht||(ht=!0,at(zo,`RPC '${e}' stream ${a} transport closed`),Ft.wo())}),hn(he,Bt.EventType.ERROR,wn=>{ht||(ht=!0,jr(zo,`RPC '${e}' stream ${a} transport errored:`,wn),Ft.wo(new Dt(qe.UNAVAILABLE,"The operation could not be completed")))}),hn(he,Bt.EventType.MESSAGE,wn=>{var Sr;if(!ht){const Xr=wn.data[0];Dn(!!Xr);const Zs=Xr.error||(null===(Sr=Xr[0])||void 0===Sr?void 0:Sr.error);if(Zs){at(zo,`RPC '${e}' stream ${a} received error:`,Zs);const Us=Zs.status;let fs=function(Il){const n_=d[Il];if(void 0!==n_)return j(n_)}(Us),fa=Zs.message;void 0===fs&&(fs=qe.INTERNAL,fa="Unknown error status: "+Us+" with message "+Zs.message),ht=!0,Ft.wo(new Dt(fs,fa)),he.close()}else at(zo,`RPC '${e}' stream ${a} received:`,Xr),Ft._o(Xr)}}),hn(T,Ge.STAT_EVENT,wn=>{wn.stat===ct.PROXY?at(zo,`RPC '${e}' stream ${a} detected buffering proxy`):wn.stat===ct.NOPROXY&&at(zo,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{Ft.fo()},0),Ft}}function sf(){return typeof document<"u"?document:null}function Wl(r){return new Cd(r,!0)}class af{constructor(e,t,s=1e3,a=1.5,l=6e4){this.ii=e,this.timerId=t,this.Po=s,this.bo=a,this.Vo=l,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),a=Math.max(0,t-s);a>0&&at("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,a,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class bm{constructor(e,t,s,a,l,f,T,O){this.ii=e,this.$o=s,this.Oo=a,this.connection=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=T,this.listener=O,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new af(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,_e.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,_e.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var s=this;return(0,_e.Z)(function*(){s.Ho(),s.Jo(),s.qo.cancel(),s.Fo++,4!==e?s.qo.reset():t&&t.code===qe.RESOURCE_EXHAUSTED?(Or(t.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),s.qo.xo()):t&&t.code===qe.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.Yo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Fo===t&&this.Zo(s,a)},s=>{e(()=>{const a=new Dt(qe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(a)})})}Zo(e,t){const s=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(a=>{s(()=>this.tu(a))}),this.stream.onMessage(a=>{s(()=>this.onMessage(a))})}Go(){var e=this;this.state=5,this.qo.No((0,_e.Z)(function*(){e.state=0,e.start()}))}tu(e){return at("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(at("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class O_ extends bm{constructor(e,t,s,a,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,f),this.serializer=l}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function g0(r,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(O=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===O?1:"REMOVE"===O?2:"CURRENT"===O?3:"RESET"===O?4:rn(),a=e.targetChange.targetIds||[],l=function(O,U){return O.useProto3Json?(Dn(void 0===U||"string"==typeof U),Os.fromBase64String(U||"")):(Dn(void 0===U||U instanceof Uint8Array),Os.fromUint8Array(U||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,T=f&&function(O){const U=void 0===O.code?qe.UNKNOWN:j(O.code);return new Dt(U,O.message||"")}(f);t=new kh(s,a,l,T||null)}else if("documentChange"in e){const s=e.documentChange,a=Iu(r,s.document.name),l=Es(s.document.updateTime),f=s.document.createTime?Es(s.document.createTime):Mn.min(),T=new qi({mapValue:{fields:s.document.fields}}),O=Si.newFoundDocument(a,l,f,T);t=new kl(s.targetIds||[],s.removedTargetIds||[],O.key,O)}else if("documentDelete"in e){const s=e.documentDelete,a=Iu(r,s.document),l=s.readTime?Es(s.readTime):Mn.min(),f=Si.newNoDocument(a,l);t=new kl([],s.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const s=e.documentRemove,a=Iu(r,s.document);t=new kl([],s.removedTargetIds||[],a,null)}else{if(!("filter"in e))return rn();{const s=e.filter,{count:a=0,unchangedNames:l}=s,f=new E(a,l);t=new Sd(s.targetId,f)}}var O;return t}(this.serializer,e),s=function(a){if(!("targetChange"in a))return Mn.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Mn.min():l.readTime?Es(l.readTime):Mn.min()}(e);return this.listener.nu(t,s)}su(e){const t={};t.database=xd(this.serializer),t.addTarget=function(a,l){let f;const T=l.target;if(f=hc(T)?{documents:lp(a,T)}:{query:Vh(a,T)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){f.resumeToken=Rd(a,l.resumeToken);const O=Ad(a,l.expectedCount);null!==O&&(f.expectedCount=O)}else if(l.snapshotVersion.compareTo(Mn.min())>0){f.readTime=Xc(a,l.snapshotVersion.toTimestamp());const O=Ad(a,l.expectedCount);null!==O&&(f.expectedCount=O)}return f}(this.serializer,e);const s=function h_(r,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rn()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Wo(t)}iu(e){const t={};t.database=xd(this.serializer),t.removeTarget=e,this.Wo(t)}}class xa extends bm{constructor(e,t,s,a,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,f),this.serializer=l,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Dn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function cp(r,e){return r&&r.length>0?(Dn(void 0!==e),r.map(t=>function(s,a){let l=Es(s.updateTime?s.updateTime:a);return l.isEqual(Mn.min())&&(l=Es(a)),new d_(l,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=Es(e.commitTime);return this.listener.cu(s,t)}return Dn(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=xd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>function Bh(r,e){let t;if(e instanceof vc)t={update:Gg(r,e.key,e.value)};else if(e instanceof Zc)t={delete:Ll(r,e.key)};else if(e instanceof ko)t={update:Gg(r,e.key,e.data),updateMask:fp(e.fieldMask)};else{if(!(e instanceof Nh))return rn();t={verify:Ll(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(a,l){const f=l.transform;if(f instanceof Wc)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof mc)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof ju)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Eu)return{fieldPath:l.field.canonicalString(),increment:f.gt};throw rn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:Hg(r,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:rn()),t;var a}(this.serializer,s))};this.Wo(t)}}class k_ extends class{}{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.lu=!1}fu(){if(this.lu)throw new Dt(qe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Io(e,t,s,a,l)).catch(a=>{throw"FirebaseError"===a.name?(a.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Dt(qe.UNKNOWN,a.toString())})}vo(e,t,s,a){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,f])=>this.connection.vo(e,t,s,l,f,a)).catch(l=>{throw"FirebaseError"===l.name?(l.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Dt(qe.UNKNOWN,l.toString())})}terminate(){this.lu=!0}}class Up{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Or(t),this.mu=!1):at("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Cm{constructor(e,t,s,a,l){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=l,this.Pu.Yr(T=>{s.enqueueAndForget((0,_e.Z)(function*(){var O;Cc(f)&&(at("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,_e.Z)(function*(U){const q=jt(U);q.vu.add(4),yield ql(q),q.bu.set("Unknown"),q.vu.delete(4),yield Hd(q)}),function(U){return O.apply(this,arguments)})(f))}))}),this.bu=new Up(s,a)}}function Hd(r){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,_e.Z)(function*(r){if(Cc(r))for(const e of r.Ru)yield e(!0)}),Bp.apply(this,arguments)}function ql(r){return uf.apply(this,arguments)}function uf(){return uf=(0,_e.Z)(function*(r){for(const e of r.Ru)yield e(!1)}),uf.apply(this,arguments)}function cf(r,e){const t=jt(r);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),$p(t)?Vp(t):fl(t).Ko()&&Gd(t,e))}function zd(r,e){const t=jt(r),s=fl(t);t.Au.delete(e),s.Ko()&&Am(t,e),0===t.Au.size&&(s.Ko()?s.jo():Cc(t)&&t.bu.set("Unknown"))}function Gd(r,e){if(r.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Mn.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fl(r).su(e)}function Am(r,e){r.Vu.qt(e),fl(r).iu(e)}function Vp(r){r.Vu=new Qc({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),le:e=>r.Au.get(e)||null,ue:()=>r.datastore.serializer.databaseId}),fl(r).start(),r.bu.gu()}function $p(r){return Cc(r)&&!fl(r).Uo()&&r.Au.size>0}function Cc(r){return 0===jt(r).vu.size}function Rm(r){r.Vu=void 0}function bu(r){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,_e.Z)(function*(r){r.Au.forEach((e,t)=>{Gd(r,e)})}),Wd.apply(this,arguments)}function L_(r,e){return jp.apply(this,arguments)}function jp(){return jp=(0,_e.Z)(function*(r,e){Rm(r),$p(r)?(r.bu.Iu(e),Vp(r)):r.bu.set("Unknown")}),jp.apply(this,arguments)}function Mm(r,e,t){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,_e.Z)(function*(r,e,t){if(r.bu.set("Online"),e instanceof kh&&2===e.state&&e.cause)try{yield(s=(0,_e.Z)(function*(a,l){const f=l.cause;for(const T of l.targetIds)a.Au.has(T)&&(yield a.remoteSyncer.rejectListen(T,f),a.Au.delete(T),a.Vu.removeTarget(T))}),function(a,l){return s.apply(this,arguments)})(r,e)}catch(s){at("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield lf(r,s)}else if(e instanceof kl?r.Vu.Ht(e):e instanceof Sd?r.Vu.ne(e):r.Vu.Xt(e),!t.isEqual(Mn.min()))try{const s=yield vm(r.localStore);t.compareTo(s)>=0&&(yield function(a,l){const f=a.Vu.ce(l);return f.targetChanges.forEach((T,O)=>{if(T.resumeToken.approximateByteSize()>0){const U=a.Au.get(O);U&&a.Au.set(O,U.withResumeToken(T.resumeToken,l))}}),f.targetMismatches.forEach((T,O)=>{const U=a.Au.get(T);if(!U)return;a.Au.set(T,U.withResumeToken(Os.EMPTY_BYTE_STRING,U.snapshotVersion)),Am(a,T);const q=new Tu(U.target,T,O,U.sequenceNumber);Gd(a,q)}),a.remoteSyncer.applyRemoteEvent(f)}(r,t))}catch(s){at("RemoteStore","Failed to raise snapshot:",s),yield lf(r,s)}var s}),Hp.apply(this,arguments)}function lf(r,e,t){return zp.apply(this,arguments)}function zp(){return zp=(0,_e.Z)(function*(r,e,t){if(!wa(e))throw e;r.vu.add(1),yield ql(r),r.bu.set("Offline"),t||(t=()=>vm(r.localStore)),r.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){at("RemoteStore","Retrying IndexedDB access"),yield t(),r.vu.delete(1),yield Hd(r)}))}),zp.apply(this,arguments)}function df(r,e){return e().catch(t=>lf(r,t,e))}function Kl(r){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,_e.Z)(function*(r){const e=jt(r),t=Ku(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;hf(e);)try{const a=yield M_(e.localStore,s);if(null===a){0===e.Eu.length&&t.jo();break}s=a.batchId,ff(e,a)}catch(a){yield lf(e,a)}qd(e)&&U_(e)}),Gp.apply(this,arguments)}function hf(r){return Cc(r)&&r.Eu.length<10}function ff(r,e){r.Eu.push(e);const t=Ku(r);t.Ko()&&t.ou&&t.uu(e.mutations)}function qd(r){return Cc(r)&&!Ku(r).Uo()&&r.Eu.length>0}function U_(r){Ku(r).start()}function Wp(r){return xm.apply(this,arguments)}function xm(){return xm=(0,_e.Z)(function*(r){Ku(r).hu()}),xm.apply(this,arguments)}function Pm(r){return pf.apply(this,arguments)}function pf(){return pf=(0,_e.Z)(function*(r){const e=Ku(r);for(const t of r.Eu)e.uu(t.mutations)}),pf.apply(this,arguments)}function Nm(r,e,t){return gf.apply(this,arguments)}function gf(){return gf=(0,_e.Z)(function*(r,e,t){const s=r.Eu.shift(),a=Hu.from(s,e,t);yield df(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),yield Kl(r)}),gf.apply(this,arguments)}function qp(r,e){return cu.apply(this,arguments)}function cu(){return cu=(0,_e.Z)(function*(r,e){var t;e&&Ku(r).ou&&(yield(t=(0,_e.Z)(function*(s,a){if(function b(r){switch(r){default:return rn();case qe.CANCELLED:case qe.UNKNOWN:case qe.DEADLINE_EXCEEDED:case qe.RESOURCE_EXHAUSTED:case qe.INTERNAL:case qe.UNAVAILABLE:case qe.UNAUTHENTICATED:return!1;case qe.INVALID_ARGUMENT:case qe.NOT_FOUND:case qe.ALREADY_EXISTS:case qe.PERMISSION_DENIED:case qe.FAILED_PRECONDITION:case qe.ABORTED:case qe.OUT_OF_RANGE:case qe.UNIMPLEMENTED:case qe.DATA_LOSS:return!0}}(l=a.code)&&l!==qe.ABORTED){const f=s.Eu.shift();Ku(s).Qo(),yield df(s,()=>s.remoteSyncer.rejectFailedWrite(f.batchId,a)),yield Kl(s)}var l}),function(s,a){return t.apply(this,arguments)})(r,e)),qd(r)&&U_(r)}),cu.apply(this,arguments)}function Kd(r,e){return Zl.apply(this,arguments)}function Zl(){return Zl=(0,_e.Z)(function*(r,e){const t=jt(r);t.asyncQueue.verifyOperationInProgress(),at("RemoteStore","RemoteStore received new credentials");const s=Cc(t);t.vu.add(3),yield ql(t),s&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Hd(t)}),Zl.apply(this,arguments)}function Kp(){return Kp=(0,_e.Z)(function*(r,e){const t=jt(r);e?(t.vu.delete(2),yield Hd(t)):e||(t.vu.add(2),yield ql(t),t.bu.set("Unknown"))}),Kp.apply(this,arguments)}function fl(r){return r.Su||(r.Su=function(e,t,s){const a=jt(e);return a.fu(),new O_(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:bu.bind(null,r),ao:L_.bind(null,r),nu:Mm.bind(null,r)}),r.Ru.push(function(){var e=(0,_e.Z)(function*(t){t?(r.Su.Qo(),$p(r)?Vp(r):r.bu.set("Unknown")):(yield r.Su.stop(),Rm(r))});return function(t){return e.apply(this,arguments)}}())),r.Su}function Ku(r){return r.Du||(r.Du=function(e,t,s){const a=jt(e);return a.fu(),new xa(t,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(r.datastore,r.asyncQueue,{uo:Wp.bind(null,r),ao:qp.bind(null,r),au:Pm.bind(null,r),cu:Nm.bind(null,r)}),r.Ru.push(function(){var e=(0,_e.Z)(function*(t){t?(r.Du.Qo(),yield Kl(r)):(yield r.Du.stop(),r.Eu.length>0&&(at("RemoteStore",`Stopping write stream with ${r.Eu.length} pending writes`),r.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),r.Du}class Zp{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,s,a,l){const f=Date.now()+s,T=new Zp(e,t,f,a,l);return T.start(s),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dt(qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yl(r,e){if(Or("AsyncQueue",`${e}: ${r}`),wa(r))return new Dt(qe.UNAVAILABLE,`${e}: ${r}`);throw r}class Su{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Vt.comparator(t.key,s.key):(t,s)=>Vt.comparator(t.key,s.key),this.keyedMap=wd(),this.sortedSet=new oi(this.comparator)}static emptySet(e){return new Su(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Su)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Su;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class Om{constructor(){this.Cu=new oi(Vt.comparator)}track(e){const t=e.doc.key,s=this.Cu.get(t);s?0!==e.type&&3===s.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==s.type?this.Cu=this.Cu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Cu=this.Cu.remove(t):1===e.type&&2===s.type?this.Cu=this.Cu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):rn():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Zd{constructor(e,t,s,a,l,f,T,O,U){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=T,this.excludesMetadataChanges=O,this.hasCachedResults=U}static fromInitialDocuments(e,t,s,a,l){const f=[];return t.forEach(T=>{f.push({type:0,doc:T})}),new Zd(e,t,Su.emptySet(t),f,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$u(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class B_{constructor(){this.Nu=void 0,this.listeners=[]}}class V_{constructor(){this.queries=new jo(e=>vd(e),$u),this.onlineState="Unknown",this.ku=new Set}}function Yp(r,e){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,_e.Z)(function*(r,e){const t=jt(r),s=e.query;let a=!1,l=t.queries.get(s);if(l||(a=!0,l=new B_),a)try{l.Nu=yield t.onListen(s)}catch(f){const T=Yl(f,`Initialization of query '${Vc(e.query)}' failed`);return void e.onError(T)}t.queries.set(s,l),l.listeners.push(e),e.Mu(t.onlineState),l.Nu&&e.$u(l.Nu)&&Yd(t)}),Qp.apply(this,arguments)}function Xp(r,e){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,_e.Z)(function*(r,e){const t=jt(r),s=e.query;let a=!1;const l=t.queries.get(s);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),a=0===l.listeners.length)}if(a)return t.queries.delete(s),t.onUnlisten(s)}),Jp.apply(this,arguments)}function $_(r,e){const t=jt(r);let s=!1;for(const a of e){const f=t.queries.get(a.query);if(f){for(const T of f.listeners)T.$u(a)&&(s=!0);f.Nu=a}}s&&Yd(t)}function km(r,e,t){const s=jt(r),a=s.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);s.queries.delete(e)}function Yd(r){r.ku.forEach(e=>{e.next()})}class eg{constructor(e,t,s){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)3!==a.type&&s.push(a);e=new Zd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Zd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Um{constructor(e){this.key=e}}class Bm{constructor(e){this.key=e}}class Vm{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=br(),this.mutatedKeys=br(),this.tc=Dh(e),this.ec=new Su(this.tc)}get nc(){return this.Yu}sc(e,t){const s=t?t.ic:new Om,a=t?t.ec:this.ec;let l=t?t.mutatedKeys:this.mutatedKeys,f=a,T=!1;const O="F"===this.query.limitType&&a.size===this.query.limit?a.last():null,U="L"===this.query.limitType&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((q,he)=>{const $e=a.get(q),ht=$c(this.query,he)?he:null,Ft=!!$e&&this.mutatedKeys.has($e.key),hn=!!ht&&(ht.hasLocalMutations||this.mutatedKeys.has(ht.key)&&ht.hasCommittedMutations);let wn=!1;$e&&ht?$e.data.isEqual(ht.data)?Ft!==hn&&(s.track({type:3,doc:ht}),wn=!0):this.rc($e,ht)||(s.track({type:2,doc:ht}),wn=!0,(O&&this.tc(ht,O)>0||U&&this.tc(ht,U)<0)&&(T=!0)):!$e&&ht?(s.track({type:0,doc:ht}),wn=!0):$e&&!ht&&(s.track({type:1,doc:$e}),wn=!0,(O||U)&&(T=!0)),wn&&(ht?(f=f.add(ht),l=hn?l.add(q):l.delete(q)):(f=f.delete(q),l=l.delete(q)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const q="F"===this.query.limitType?f.last():f.first();f=f.delete(q.key),l=l.delete(q.key),s.track({type:1,doc:q})}return{ec:f,ic:s,zi:T,mutatedKeys:l}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const a=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const l=e.ic.xu();l.sort((U,q)=>function(he,$e){const ht=Ft=>{switch(Ft){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rn()}};return ht(he)-ht($e)}(U.type,q.type)||this.tc(U.doc,q.doc)),this.oc(s);const f=t?this.uc():[],T=0===this.Zu.size&&this.current?1:0,O=T!==this.Xu;return this.Xu=T,0!==l.length||O?{snapshot:new Zd(this.query,e.ec,a,l,e.mutatedKeys,0===T,O,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:f}:{cc:f}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Om,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=br(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const t=[];return e.forEach(s=>{this.Zu.has(s)||t.push(new Bm(s))}),this.Zu.forEach(s=>{e.has(s)||t.push(new Um(s))}),t}hc(e){this.Yu=e.ir,this.Zu=br();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Zd.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class H_{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class $m{constructor(e){this.key=e,this.fc=!1}}class jm{constructor(e,t,s,a,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.dc={},this.wc=new jo(T=>vd(T),$u),this._c=new Map,this.mc=new Set,this.gc=new oi(Vt.comparator),this.yc=new Map,this.Ic=new Ap,this.Tc={},this.Ec=new Map,this.Ac=Ic.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function z_(r,e){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,_e.Z)(function*(r,e){const t=function td(r){const e=jt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Go.bind(null,e),e.dc.nu=$_.bind(null,e.eventManager),e.dc.Pc=km.bind(null,e.eventManager),e}(r);let s,a;const l=t.wc.get(e);if(l)s=l.targetId,t.sharedClientState.addLocalQueryTarget(s),a=l.view.lc();else{const f=yield function ll(r,e){const t=jt(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Bs.getTargetData(s,e).next(l=>l?(a=l,Be.resolve(a)):t.Bs.allocateTargetId(s).next(f=>(a=new Tu(e,f,"TargetPurposeListen",s.currentSequenceNumber),t.Bs.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ji.get(s.targetId);return(null===a||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(s.targetId,s),t.Yi.set(e,s.targetId)),s})}(t.localStore,Eo(e)),T=t.sharedClientState.addLocalQueryTarget(f.targetId);s=f.targetId,a=yield function mf(r,e,t,s,a){return zm.apply(this,arguments)}(t,e,s,"current"===T,f.resumeToken),t.isPrimaryClient&&cf(t.remoteStore,f)}return a}),Hm.apply(this,arguments)}function zm(){return zm=(0,_e.Z)(function*(r,e,t,s,a){r.Rc=(he,$e,ht)=>{return(Ft=(0,_e.Z)(function*(hn,wn,Sr,Xr){let Lr=wn.view.sc(Sr);Lr.zi&&(Lr=yield Ud(hn.localStore,wn.query,!1).then(({documents:fs})=>wn.view.sc(fs,Lr)));const Zs=Xr&&Xr.targetChanges.get(wn.targetId),Us=wn.view.applyChanges(Lr,hn.isPrimaryClient,Zs);return Pc(hn,wn.targetId,Us.cc),Us.snapshot}),function(hn,wn,Sr,Xr){return Ft.apply(this,arguments)})(r,he,$e,ht);var Ft};const l=yield Ud(r.localStore,e,!0),f=new Vm(e,l.ir),T=f.sc(l.documents),O=au.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==r.onlineState,a),U=f.applyChanges(T,r.isPrimaryClient,O);Pc(r,t,U.cc);const q=new H_(e,t,f);return r.wc.set(e,q),r._c.has(t)?r._c.get(t).push(e):r._c.set(t,[e]),U.snapshot}),zm.apply(this,arguments)}function yf(r,e){return ng.apply(this,arguments)}function ng(){return ng=(0,_e.Z)(function*(r,e){const t=jt(r),s=t.wc.get(e),a=t._c.get(s.targetId);if(a.length>1)return t._c.set(s.targetId,a.filter(l=>!$u(l,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Hl(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),zd(t.remoteStore,s.targetId),lu(t,s.targetId)}).catch(Ws))):(lu(t,s.targetId),yield Hl(t.localStore,s.targetId,!0))}),ng.apply(this,arguments)}function Qd(){return Qd=(0,_e.Z)(function*(r,e,t){const s=function Cf(r){const e=jt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_f.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rg.bind(null,e),e}(r);try{const a=yield function(l,f){const T=jt(l),O=Pi.now(),U=f.reduce(($e,ht)=>$e.add(ht.key),br());let q,he;return T.persistence.runTransaction("Locally write mutations","readwrite",$e=>{let ht=Ho(),Ft=br();return T.Zi.getEntries($e,U).next(hn=>{ht=hn,ht.forEach((wn,Sr)=>{Sr.isValidDocument()||(Ft=Ft.add(wn))})}).next(()=>T.localDocuments.getOverlayedDocuments($e,ht)).next(hn=>{q=hn;const wn=[];for(const Sr of f){const Xr=np(Sr,q.get(Sr.key).overlayedDocument);null!=Xr&&wn.push(new ko(Sr.key,Xr,Cl(Xr.value.mapValue),hs.exists(!0)))}return T.mutationQueue.addMutationBatch($e,O,wn,f)}).next(hn=>{he=hn;const wn=hn.applyToLocalDocumentSet(q,Ft);return T.documentOverlayCache.saveOverlays($e,hn.batchId,wn)})}).then(()=>({batchId:he.batchId,changes:jc(q)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(l,f,T){let O=l.Tc[l.currentUser.toKey()];O||(O=new oi(vn)),O=O.insert(f,T),l.Tc[l.currentUser.toKey()]=O}(s,a.batchId,t),yield Cu(s,a.changes),yield Kl(s.remoteStore)}catch(a){const l=Yl(a,"Failed to persist write");t.reject(l)}}),Qd.apply(this,arguments)}function Gm(r,e){return Ya.apply(this,arguments)}function Ya(){return Ya=(0,_e.Z)(function*(r,e){const t=jt(r);try{const s=yield function R_(r,e){const t=jt(r),s=e.snapshotVersion;let a=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.Zi.newChangeBuffer({trackRemovals:!0});a=t.Ji;const T=[];e.targetChanges.forEach((q,he)=>{const $e=a.get(he);if(!$e)return;T.push(t.Bs.removeMatchingKeys(l,q.removedDocuments,he).next(()=>t.Bs.addMatchingKeys(l,q.addedDocuments,he)));let ht=$e.withSequenceNumber(l.currentSequenceNumber);var Ft,hn,wn;null!==e.targetMismatches.get(he)?ht=ht.withResumeToken(Os.EMPTY_BYTE_STRING,Mn.min()).withLastLimboFreeSnapshotVersion(Mn.min()):q.resumeToken.approximateByteSize()>0&&(ht=ht.withResumeToken(q.resumeToken,s)),a=a.insert(he,ht),hn=ht,wn=q,(0===(Ft=$e).resumeToken.approximateByteSize()||hn.snapshotVersion.toMicroseconds()-Ft.snapshotVersion.toMicroseconds()>=3e8||wn.addedDocuments.size+wn.modifiedDocuments.size+wn.removedDocuments.size>0)&&T.push(t.Bs.updateTargetData(l,ht))});let O=Ho(),U=br();if(e.documentUpdates.forEach(q=>{e.resolvedLimboDocuments.has(q)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(l,q))}),T.push(function wm(r,e,t){let s=br(),a=br();return t.forEach(l=>s=s.add(l)),e.getEntries(r,s).next(l=>{let f=Ho();return t.forEach((T,O)=>{const U=l.get(T);O.isFoundDocument()!==U.isFoundDocument()&&(a=a.add(T)),O.isNoDocument()&&O.version.isEqual(Mn.min())?(e.removeEntry(T,O.readTime),f=f.insert(T,O)):!U.isValidDocument()||O.version.compareTo(U.version)>0||0===O.version.compareTo(U.version)&&U.hasPendingWrites?(e.addEntry(O),f=f.insert(T,O)):at("LocalStore","Ignoring outdated watch update for ",T,". Current version:",U.version," Watch version:",O.version)}),{nr:f,sr:a}})}(l,f,e.documentUpdates).next(q=>{O=q.nr,U=q.sr})),!s.isEqual(Mn.min())){const q=t.Bs.getLastRemoteSnapshotVersion(l).next(he=>t.Bs.setTargetsMetadata(l,l.currentSequenceNumber,s));T.push(q)}return Be.waitFor(T).next(()=>f.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,O,U)).next(()=>O)}).then(l=>(t.Ji=a,l))}(t.localStore,e);e.targetChanges.forEach((a,l)=>{const f=t.yc.get(l);f&&(Dn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.fc=!0:a.modifiedDocuments.size>0?Dn(f.fc):a.removedDocuments.size>0&&(Dn(f.fc),f.fc=!1))}),yield Cu(t,s,e)}catch(s){yield Ws(s)}}),Ya.apply(this,arguments)}function Ql(r,e,t){const s=jt(r);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const a=[];s.wc.forEach((l,f)=>{const T=f.view.Mu(e);T.snapshot&&a.push(T.snapshot)}),function(l,f){const T=jt(l);T.onlineState=f;let O=!1;T.queries.forEach((U,q)=>{for(const he of q.listeners)he.Mu(f)&&(O=!0)}),O&&Yd(T)}(s.eventManager,e),a.length&&s.dc.nu(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function Go(r,e,t){return Zu.apply(this,arguments)}function Zu(){return Zu=(0,_e.Z)(function*(r,e,t){const s=jt(r);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.yc.get(e),l=a&&a.key;if(l){let f=new oi(Vt.comparator);f=f.insert(l,Si.newNoDocument(l,Mn.min()));const T=br().add(l),O=new ta(Mn.min(),new Map,new oi(vn),f,T);yield Gm(s,O),s.gc=s.gc.remove(l),s.yc.delete(e),vf(s)}else yield Hl(s.localStore,e,!1).then(()=>lu(s,e,t)).catch(Ws)}),Zu.apply(this,arguments)}function _f(r,e){return ha.apply(this,arguments)}function ha(){return ha=(0,_e.Z)(function*(r,e){const t=jt(r),s=e.batch.batchId;try{const a=yield function A_(r,e){const t=jt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.Zi.newChangeBuffer({trackRemovals:!0});return function(f,T,O,U){const q=O.batch,he=q.keys();let $e=Be.resolve();return he.forEach(ht=>{$e=$e.next(()=>U.getEntry(T,ht)).next(Ft=>{const hn=O.docVersions.get(ht);Dn(null!==hn),Ft.version.compareTo(hn)<0&&(q.applyToRemoteDocument(Ft,O),Ft.isValidDocument()&&(Ft.setReadTime(O.commitVersion),U.addEntry(Ft)))})}),$e.next(()=>f.mutationQueue.removeMutationBatch(T,q))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let T=br();for(let O=0;O<f.mutationResults.length;++O)f.mutationResults[O].transformResults.length>0&&(T=T.add(f.batch.mutations[O].key));return T}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}(t.localStore,e);xc(t,s,null),Mc(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield Cu(t,a)}catch(a){yield Ws(a)}}),ha.apply(this,arguments)}function rg(r,e,t){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,_e.Z)(function*(r,e,t){const s=jt(r);try{const a=yield function(l,f){const T=jt(l);return T.persistence.runTransaction("Reject batch","readwrite-primary",O=>{let U;return T.mutationQueue.lookupMutationBatch(O,f).next(q=>(Dn(null!==q),U=q.keys(),T.mutationQueue.removeMutationBatch(O,q))).next(()=>T.mutationQueue.performConsistencyCheck(O)).next(()=>T.documentOverlayCache.removeOverlaysForBatchId(O,U,f)).next(()=>T.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(O,U)).next(()=>T.localDocuments.getDocuments(O,U))})}(s.localStore,e);xc(s,e,t),Mc(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield Cu(s,a)}catch(a){yield Ws(a)}}),Ac.apply(this,arguments)}function Mc(r,e){(r.Ec.get(e)||[]).forEach(t=>{t.resolve()}),r.Ec.delete(e)}function xc(r,e,t){const s=jt(r);let a=s.Tc[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Tc[s.currentUser.toKey()]=a}}function lu(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r._c.get(e))r.wc.delete(s),t&&r.dc.Pc(s,t);r._c.delete(e),r.isPrimaryClient&&r.Ic.Is(e).forEach(s=>{r.Ic.containsKey(s)||pl(r,s)})}function pl(r,e){r.mc.delete(e.path.canonicalString());const t=r.gc.get(e);null!==t&&(zd(r.remoteStore,t),r.gc=r.gc.remove(e),r.yc.delete(t),vf(r))}function Pc(r,e,t){for(const s of t)s instanceof Um?(r.Ic.addReference(s.key,e),Jl(r,s)):s instanceof Bm?(at("SyncEngine","Document no longer in limbo: "+s.key),r.Ic.removeReference(s.key,e),r.Ic.containsKey(s.key)||pl(r,s.key)):rn()}function Jl(r,e){const t=e.key,s=t.path.canonicalString();r.gc.get(t)||r.mc.has(s)||(at("SyncEngine","New document in limbo: "+t),r.mc.add(s),vf(r))}function vf(r){for(;r.mc.size>0&&r.gc.size<r.maxConcurrentLimboResolutions;){const e=r.mc.values().next().value;r.mc.delete(e);const t=new Vt(kr.fromString(e)),s=r.Ac.next();r.yc.set(s,new $m(t)),r.gc=r.gc.insert(t,s),cf(r.remoteStore,new Tu(Eo(pc(t.path)),s,"TargetPurposeLimboResolution",bi.ct))}}function Cu(r,e,t){return wf.apply(this,arguments)}function wf(){return wf=(0,_e.Z)(function*(r,e,t){const s=jt(r),a=[],l=[],f=[];var T;s.wc.isEmpty()||(s.wc.forEach((T,O)=>{f.push(s.Rc(O,e,t).then(U=>{if((U||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(O.targetId,U?.fromCache?"not-current":"current"),U){a.push(U);const q=bc.Li(O.targetId,U);l.push(q)}}))}),yield Promise.all(f),s.dc.nu(a),yield(T=(0,_e.Z)(function*(O,U){const q=jt(O);try{yield q.persistence.runTransaction("notifyLocalViewChanges","readwrite",he=>Be.forEach(U,$e=>Be.forEach($e.Fi,ht=>q.persistence.referenceDelegate.addReference(he,$e.targetId,ht)).next(()=>Be.forEach($e.Bi,ht=>q.persistence.referenceDelegate.removeReference(he,$e.targetId,ht)))))}catch(he){if(!wa(he))throw he;at("LocalStore","Failed to update sequence numbers: "+he)}for(const he of U){const $e=he.targetId;if(!he.fromCache){const ht=q.Ji.get($e),hn=ht.withLastLimboFreeSnapshotVersion(ht.snapshotVersion);q.Ji=q.Ji.insert($e,hn)}}}),function(O,U){return T.apply(this,arguments)})(s.localStore,l))}),wf.apply(this,arguments)}function Wm(r,e){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,_e.Z)(function*(r,e){const t=jt(r);if(!t.currentUser.isEqual(e)){at("SyncEngine","User change. New user:",e.toKey());const s=yield _m(t.localStore,e);t.currentUser=e,(a=t).Ec.forEach(f=>{f.forEach(T=>{T.reject(new Dt(qe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ec.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield Cu(t,s.er)}var a}),Ef.apply(this,arguments)}function qm(r,e){const t=jt(r),s=t.yc.get(e);if(s&&s.fc)return br().add(s.key);{let a=br();const l=t._c.get(e);if(!l)return a;for(const f of l){const T=t.wc.get(f);a=a.unionWith(T.view.nc)}return a}}class nd{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.serializer=Wl(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Ld(r,e,t,s){return new ym(r,e,t,s)}(this.persistence,new mm,e.initialUser,this.serializer)}createPersistence(e){return new Rp($l.zs,this.serializer)}createSharedClientState(e){return new $d}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class gl{initialize(e,t){var s=this;return(0,_e.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=a=>Ql(s.syncEngine,a,1),s.remoteStore.remoteSyncer.handleCredentialChange=Wm.bind(null,s.syncEngine),yield function hl(r,e){return Kp.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new V_}createDatastore(e){const t=Wl(e.databaseInfo.databaseId),s=new N_(e.databaseInfo);return new k_(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,a=e.asyncQueue,l=T=>Ql(this.syncEngine,T,0),f=rf.D()?new rf:new Tm,new Cm(t,s,a,l,f);var t,s,a,l,f}createSyncEngine(e,t){return function(s,a,l,f,T,O,U){const q=new jm(s,a,l,f,T,O);return U&&(q.vc=!0),q}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const s=jt(t);at("RemoteStore","RemoteStore shutting down."),s.vu.add(5),yield ql(s),s.Pu.shutdown(),s.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class eh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class Z_{constructor(e,t,s,a){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=Tn.UNAUTHENTICATED,this.clientId=Fa.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var f=(0,_e.Z)(function*(T){at("FirestoreClient","Received user=",T.uid),yield l.authCredentialListener(T),l.user=T});return function(T){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(s,f=>(at("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Dt(qe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const a=Yl(s,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function th(r,e){return Rf.apply(this,arguments)}function Rf(){return Rf=(0,_e.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress(),at("FirestoreClient","Initializing OfflineComponentProvider");const t=yield r.getConfiguration();yield e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(function(){var a=(0,_e.Z)(function*(l){s.isEqual(l)||(yield _m(e.localStore,l),s=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}),Rf.apply(this,arguments)}function nh(r,e){return rh.apply(this,arguments)}function rh(){return rh=(0,_e.Z)(function*(r,e){r.asyncQueue.verifyOperationInProgress();const t=yield function Mf(r){return xf.apply(this,arguments)}(r);at("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield e.initialize(t,s),r.setCredentialChangeListener(a=>Kd(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,l)=>Kd(e.remoteStore,l)),r._onlineComponents=e}),rh.apply(this,arguments)}function xf(){return xf=(0,_e.Z)(function*(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at("FirestoreClient","Using user provided OfflineComponentProvider");try{yield th(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function ag(r){return"FirebaseError"===r.name?r.code===qe.FAILED_PRECONDITION||r.code===qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||22===r.code||20===r.code||11===r.code}(t))throw t;jr("Error using user provided cache. Falling back to memory cache: "+t),yield th(r,new nd)}}else at("FirestoreClient","Using default OfflineComponentProvider"),yield th(r,new nd);return r._offlineComponents}),xf.apply(this,arguments)}function ih(r){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,_e.Z)(function*(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at("FirestoreClient","Using user provided OnlineComponentProvider"),yield nh(r,r._uninitializedComponentsProvider._online)):(at("FirestoreClient","Using default OnlineComponentProvider"),yield nh(r,new gl))),r._onlineComponents}),Pf.apply(this,arguments)}function id(r){return lg.apply(this,arguments)}function lg(){return lg=(0,_e.Z)(function*(r){const e=yield ih(r),t=e.eventManager;return t.onListen=z_.bind(null,e.syncEngine),t.onUnlisten=yf.bind(null,e.syncEngine),t}),lg.apply(this,arguments)}function sy(r){const e={};return void 0!==r.timeoutSeconds&&(e.timeoutSeconds=r.timeoutSeconds),e}const lo=new Map;function Nf(r,e,t){if(!t)throw new Dt(qe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function oy(r){if(!Vt.isDocumentKey(r))throw new Dt(qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function pg(r){if(Vt.isDocumentKey(r))throw new Dt(qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Of(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const e=(t=r).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof r?"a function":rn()}function Qr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Dt(qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Of(r);throw new Dt(qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}class yl{constructor(e){var t,s;if(void 0===e.host){if(void 0!==e.ssl)throw new Dt(qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Dt(qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function J_(r,e,t,s){if(!0===e&&!0===s)throw new Dt(qe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=sy(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(a){if(void 0!==a.timeoutSeconds){if(isNaN(a.timeoutSeconds))throw new Dt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Dt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Dt(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oh{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Dt(qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Dt(qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yl(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new nc;switch(t.type){case"firstParty":return new Xa(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Dt(qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=lo.get(e);t&&(at("ComponentProvider","Removing Datastore"),lo.delete(e),t.terminate())}(this),Promise.resolve()}}class Ls{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new du(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ls(this.firestore,e,this._key)}}class Fo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Fo(this.firestore,e,this._query)}}class du extends Fo{constructor(e,t,s){super(e,t,pc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ls(this.firestore,null,new Vt(e))}withConverter(e){return new du(this.firestore,e,this._path)}}function w0(r,e,...t){if(r=(0,pe.m9)(r),Nf("collection","path",e),r instanceof oh){const s=kr.fromString(e,...t);return pg(s),new du(r,null,s)}{if(!(r instanceof Ls||r instanceof du))throw new Dt(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(kr.fromString(e,...t));return pg(s),new du(r.firestore,null,s)}}function kf(r,e,...t){if(r=(0,pe.m9)(r),1===arguments.length&&(e=Fa.A()),Nf("doc","path",e),r instanceof oh){const s=kr.fromString(e,...t);return oy(s),new Ls(r,null,new Vt(s))}{if(!(r instanceof Ls||r instanceof du))throw new Dt(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(kr.fromString(e,...t));return oy(s),new Ls(r.firestore,r instanceof du?r.converter:null,new Vt(s))}}class cy{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new af(this,"async_queue_retry"),this.Xc=()=>{const t=sf();t&&at("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=sf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=sf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Li;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,_e.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!wa(t))throw t;at("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{throw this.Wc=s,this.Hc=!1,Or("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(s)),s}).then(s=>(this.Hc=!1,s))));return this.Gc=t,t}enqueueAfterDelay(e,t,s){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const a=Zp.createAndSchedule(this,e,t,s,l=>this.na(l));return this.zc.push(a),a}Zc(){this.Wc&&rn()}verifyOperationInProgress(){}sa(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function Qa(r){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const a of["next","error","complete"])if(a in s&&"function"==typeof s[a])return!0;return!1}(r)}class as extends oh{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new cy,this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ly(this),this._firestoreClient.terminate()}}function nv(r,e){const t="object"==typeof r?r:(0,St.Mq)(),s="string"==typeof r?r:e||"(default)",a=(0,St.qX)(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=(0,pe.P0)("firestore");l&&function ev(r,e,t,s={}){var a;const l=(r=Qr(r,oh))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&jr("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let f,T;if("string"==typeof s.mockUserToken)f=s.mockUserToken,T=Tn.MOCK_USER;else{f=(0,pe.Sg)(s.mockUserToken,null===(a=r._app)||void 0===a?void 0:a.options.projectId);const O=s.mockUserToken.sub||s.mockUserToken.user_id;if(!O)throw new Dt(qe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Tn(O)}r._authCredentials=new va(new _a(f,T))}}(a,...l)}return a}function ho(r){return r._firestoreClient||ly(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function ly(r){var e,t,s;const a=r._freezeSettings(),l=(T=(null===(e=r._app)||void 0===e?void 0:e.options.appId)||"",new Dl(r._databaseId,T,r._persistenceKey,(U=a).host,U.ssl,U.experimentalForceLongPolling,U.experimentalAutoDetectLongPolling,sy(U.experimentalLongPollingOptions),U.useFetchStreams));var T,U;r._firestoreClient=new Z_(r._authCredentials,r._appCheckCredentials,r._queue,l),null!==(t=a.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(s=a.cache)&&void 0!==s&&s._onlineComponentProvider&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.cache.kind,_offline:a.cache._offlineComponentProvider,_online:a.cache._onlineComponentProvider})}class Xu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xu(Os.fromBase64String(e))}catch(t){throw new Dt(qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xu(Os.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ju{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Dt(qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ui(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ff{constructor(e){this._methodName=e}}class Lf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Dt(qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Dt(qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vn(this._lat,e._lat)||vn(this._long,e._long)}}const gy=/^__.*__$/;class my{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new ko(e,this.data,this.fieldMask,t,this.fieldTransforms):new vc(e,this.data,t,this.fieldTransforms)}}class yg{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ko(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _g(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rn()}}class ah{constructor(e,t,s,a,l,f){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,void 0===l&&this.ua(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new ah(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.fa(e),a}da(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.aa({path:s,la:!1});return a.ua(),a}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return dh(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(_g(this.ca)&&gy.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class yy{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Wl(e)}ya(e,t,s,a=!1){return new ah({ca:e,methodName:t,ga:s,path:Ui.emptyPath(),la:!1,ma:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ad(r){const e=r._freezeSettings(),t=Wl(r._databaseId);return new yy(r._databaseId,!!e.ignoreUndefinedProperties,t)}function vg(r,e,t,s,a,l={}){const f=r.ya(l.merge||l.mergeFields?2:0,e,t,a);Eg("Data must be an object, but it was:",f,s);const T=Iy(s,f);let O,U;if(l.merge)O=new co(f.fieldMask),U=f.fieldTransforms;else if(l.mergeFields){const q=[];for(const he of l.mergeFields){const $e=ch(e,he,t);if(!f.contains($e))throw new Dt(qe.INVALID_ARGUMENT,`Field '${$e}' is specified in your field mask but missing from your input data.`);Ig(q,$e)||q.push($e)}O=new co(q),U=f.fieldTransforms.filter(he=>O.covers(he.field))}else O=null,U=f.fieldTransforms;return new my(new qi(T),O,U)}class uh extends Ff{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uh}}function _l(r,e){if(Ty(r=(0,pe.m9)(r)))return Eg("Unsupported field value:",e,r),Iy(r,e);if(r instanceof Ff)return function(t,s){if(!_g(s.ca))throw s._a(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(r,e),null;if(void 0===r&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,s){const a=[];let l=0;for(const f of t){let T=_l(f,s.wa(l));null==T&&(T={nullValue:"NULL_VALUE"}),a.push(T),l++}return{arrayValue:{values:a}}}(r,e)}return function(t,s){if(null===(t=(0,pe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Td(s.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=Pi.fromDate(t);return{timestampValue:Xc(s.serializer,a)}}if(t instanceof Pi){const a=new Pi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Xc(s.serializer,a)}}if(t instanceof Lf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xu)return{bytesValue:Rd(s.serializer,t._byteString)};if(t instanceof Ls){const a=s.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw s._a(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ap(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s._a(`Unsupported field value: ${Of(t)}`)}(r,e)}function Iy(r,e){const t={};return $a(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Va(r,(s,a)=>{const l=_l(a,e.ha(s));null!=l&&(t[s]=l)}),{mapValue:{fields:t}}}function Ty(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Pi||r instanceof Lf||r instanceof Xu||r instanceof Ls||r instanceof Ff)}function Eg(r,e,t){if(!Ty(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Of(t);throw e._a("an object"===s?r+" a custom object":r+" "+s)}var s}function ch(r,e,t){if((e=(0,pe.m9)(e))instanceof Ju)return e._internalPath;if("string"==typeof e)return lh(r,e);throw dh("Field path arguments must be of type string or ",r,!1,void 0,t)}const cv=new RegExp("[~\\*/\\[\\]]");function lh(r,e,t){if(e.search(cv)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Ju(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function dh(r,e,t,s,a){const l=s&&!s.isEmpty(),f=void 0!==a;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let O="";return(l||f)&&(O+=" (found",l&&(O+=` in field ${s}`),f&&(O+=` in document ${a}`),O+=")"),new Dt(qe.INVALID_ARGUMENT,T+r+O)}function Ig(r,e){return r.some(t=>t.isEqual(e))}class Uf{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ls(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Dy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Dy extends Uf{data(){return super.data()}}function hh(r,e){return"string"==typeof e?lh(r,e):e instanceof Ju?e._internalPath:e._delegate._internalPath}class Bf{}class by extends Bf{}function Sy(r,e,...t){let s=[];e instanceof Bf&&s.push(e),s=s.concat(t),function(a){const l=a.filter(T=>T instanceof ud).length,f=a.filter(T=>T instanceof vl).length;if(l>1||l>0&&f>0)throw new Dt(qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)r=a._apply(r);return r}class vl extends by{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new vl(e,t,s)}_apply(e){const t=this._parse(e);return Is(e._query,t),new Fo(e.firestore,e.converter,_d(e._query,t))}_parse(e){const t=ad(e.firestore);return function(a,l,f,T,O,U,q){let he;if(O.isKeyField()){if("array-contains"===U||"array-contains-any"===U)throw new Dt(qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${U}' queries on documentId().`);if("in"===U||"not-in"===U){mh(q,U);const $e=[];for(const ht of q)$e.push(gh(T,a,ht));he={arrayValue:{values:$e}}}else he=gh(T,a,q)}else"in"!==U&&"not-in"!==U&&"array-contains-any"!==U||mh(q,U),he=function Ey(r,e,t,s=!1){return _l(t,r.ya(s?4:3,e))}(f,"where",q,"in"===U||"not-in"===U);return k.create(O,U,he)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function wl(r,e,t){const s=e,a=hh("where",r);return vl._create(a,s,t)}class ud extends Bf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ud(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===t.length?t[0]:Z.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(s,a){let l=s;const f=a.getFlattenedFilters();for(const T of f)Is(l,T),l=_d(l,T)}(e._query,t),new Fo(e.firestore,e.converter,_d(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function gh(r,e,t){if("string"==typeof(t=(0,pe.m9)(t))){if(""===t)throw new Dt(qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Pl(e)&&-1!==t.indexOf("/"))throw new Dt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(kr.fromString(t));if(!Vt.isDocumentKey(s))throw new Dt(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return za(r,new Vt(s))}if(t instanceof Ls)return za(r,t._key);throw new Dt(qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Of(t)}.`)}function mh(r,e){if(!Array.isArray(r)||0===r.length)throw new Dt(qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Is(r,e){if(e.isInequality()){const s=Vu(r),a=e.field;if(null!==s&&!s.isEqual(a))throw new Dt(qe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${a.toString()}'`);const l=xl(r);null!==l&&function hv(r,e,t){if(!t.isEqual(e))throw new Dt(qe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}(0,a,l)}const t=function(s,a){for(const l of s)for(const f of l.getFlattenedFilters())if(a.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Dt(qe.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class My{convertValue(e,t="none"){switch(Ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return os(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw rn()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Va(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertGeoPoint(e){return new Lf(os(e.latitude),os(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Fc(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const t=bo(e);return new Pi(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=kr.fromString(e);Dn(pp(s));const a=new Sa(s.get(1),s.get(3)),l=new Vt(s.popFirst(5));return a.isEqual(t)||Or(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Cg(r,e,t){let s;return s=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,s}class El{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ru extends Uf{constructor(e,t,s,a,l,f){super(e,t,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new $f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(hh("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class $f extends Ru{data(e={}){return super.data(e)}}class cd{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new El(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new $f(this._firestore,this._userDataWriter,s.key,s,new El(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Dt(qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(f=>({type:"added",doc:new $f(s._firestore,s._userDataWriter,f.doc.key,f.doc,new El(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:l++}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>a||3!==f.type).map(f=>{const T=new $f(s._firestore,s._userDataWriter,f.doc.key,f.doc,new El(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let O=-1,U=-1;return 0!==f.type&&(O=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),U=l.indexOf(f.doc.key)),{type:mv(f.type),doc:T,oldIndex:O,newIndex:U}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function mv(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rn()}}function Py(r){r=Qr(r,Ls);const e=Qr(r.firestore,as);return function ry(r,e,t={}){const s=new Li;return r.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(a,l,f,T,O){const U=new eh({next:he=>{l.enqueueAndForget(()=>Xp(a,q));const $e=he.docs.has(f);!$e&&he.fromCache?O.reject(new Dt(qe.UNAVAILABLE,"Failed to get document because the client is offline.")):$e&&he.fromCache&&T&&"server"===T.source?O.reject(new Dt(qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):O.resolve(he)},error:he=>O.reject(he)}),q=new eg(pc(f.path),U,{includeMetadataChanges:!0,Ku:!0});return Yp(a,q)}(yield id(r),r.asyncQueue,e,t,s)})),s.promise}(ho(e),r._key).then(t=>Rg(e,r,t))}class ec extends My{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ls(this.firestore,null,t)}}function _v(r,e,t){r=Qr(r,Ls);const s=Qr(r.firestore,as),a=Cg(r.converter,e,t);return ld(s,[vg(ad(s),"setDoc",r._key,a,null!==r.converter,t).toMutation(r._key,hs.none())])}function vv(r,e,t,...s){r=Qr(r,Ls);const a=Qr(r.firestore,as),l=ad(a);let f;return f="string"==typeof(e=(0,pe.m9)(e))||e instanceof Ju?function wy(r,e,t,s,a,l){const f=r.ya(1,e,t),T=[ch(e,s,t)],O=[a];if(l.length%2!=0)throw new Dt(qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $e=0;$e<l.length;$e+=2)T.push(ch(e,l[$e])),O.push(l[$e+1]);const U=[],q=qi.empty();for(let $e=T.length-1;$e>=0;--$e)if(!Ig(U,T[$e])){const ht=T[$e];let Ft=O[$e];Ft=(0,pe.m9)(Ft);const hn=f.da(ht);if(Ft instanceof uh)U.push(ht);else{const wn=_l(Ft,hn);null!=wn&&(U.push(ht),q.set(ht,wn))}}const he=new co(U);return new yg(q,he,f.fieldTransforms)}(l,"updateDoc",r._key,e,t,s):function vy(r,e,t,s){const a=r.ya(1,e,t);Eg("Data must be an object, but it was:",a,s);const l=[],f=qi.empty();Va(s,(O,U)=>{const q=lh(e,O,t);U=(0,pe.m9)(U);const he=a.da(q);if(U instanceof uh)l.push(q);else{const $e=_l(U,he);null!=$e&&(l.push(q),f.set(q,$e))}});const T=new co(l);return new yg(f,T,a.fieldTransforms)}(l,"updateDoc",r._key,e),ld(a,[f.toMutation(r._key,hs.exists(!0))])}function Ny(r,e){const t=Qr(r.firestore,as),s=kf(r),a=Cg(r.converter,e);return ld(t,[vg(ad(r.firestore),"addDoc",s._key,a,null!==r.converter,{}).toMutation(s._key,hs.exists(!1))]).then(()=>s)}function ld(r,e){return function(t,s){const a=new Li;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function G_(r,e,t){return Qd.apply(this,arguments)}(yield function rd(r){return ih(r).then(e=>e.syncEngine)}(t),s,a)})),a.promise}(ho(r),e)}function Rg(r,e,t){const s=t.docs.get(e._key),a=new ec(r);return new Ru(r,a,e._key,s,new El(t.hasPendingWrites,t.fromCache),e.converter)}!function(r,e=!0){pr=St.Jn,(0,St.Xd)(new yt.wA("firestore",(t,{instanceIdentifier:s,options:a})=>{const l=t.getProvider("app").getImmediate(),f=new as(new Ih(t.getProvider("auth-internal")),new Do(t.getProvider("app-check-internal")),function(T,O){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new Dt(qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sa(T.options.projectId,O)}(l,s),l);return a=Object.assign({useFetchStreams:e},a),f._setSettings(a),f},"PUBLIC").setMultipleInstances(!0)),(0,St.KN)(Dr,"3.12.1",r),(0,St.KN)(Dr,"3.12.1","esm2017")}();var Cv=X(9751),Wf=X(4004),Av={includeMetadataChanges:!1};function qf(r,e){return void 0===e&&(e=Av),new Cv.y(function(t){var s=function Oy(r,...e){var t,s,a;r=(0,pe.m9)(r);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||Qa(e[f])||(l=e[f],f++);const T={includeMetadataChanges:l.includeMetadataChanges};if(Qa(e[f])){const he=e[f];e[f]=null===(t=he.next)||void 0===t?void 0:t.bind(he),e[f+1]=null===(s=he.error)||void 0===s?void 0:s.bind(he),e[f+2]=null===(a=he.complete)||void 0===a?void 0:a.bind(he)}let O,U,q;if(r instanceof Ls)U=Qr(r.firestore,as),q=pc(r._key.path),O={next:he=>{e[f]&&e[f](Rg(U,r,he))},error:e[f+1],complete:e[f+2]};else{const he=Qr(r,Fo);U=Qr(he.firestore,as),q=he._query;const $e=new ec(U);O={next:ht=>{e[f]&&e[f](new cd(U,$e,he,ht))},error:e[f+1],complete:e[f+2]},function Tg(r){if("L"===r.limitType&&0===r.explicitOrderBy.length)throw new Dt(qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(r._query)}return function(he,$e,ht,Ft){const hn=new eh(Ft),wn=new eg($e,hn,ht);return he.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return Yp(yield id(he),wn)})),()=>{hn.Dc(),he.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return Xp(yield id(he),wn)}))}}(ho(U),q,T,O)}(r,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:s}})}function Hy(r,e){return void 0===e&&(e={}),function xv(r){return qf(r,{includeMetadataChanges:!0}).pipe((0,Wf.U)(function(e){return e.docs}))}(r).pipe((0,Wf.U)(function(t){return t.map(function(s){return function Uy(r,e){void 0===e&&(e={});var t=r.data();return!r.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=r.id),t}(s,e)})}))}class _h{constructor(e){return e}}const zy="firestore",kg=new Q.OlP("angularfire2.firestore-instances");function kv(r){return(e,t)=>{const s=e.runOutsideAngular(()=>r(t));return new _h(s)}}const Fg={provide:class Pv{constructor(){return(0,C.vb)(zy)}},deps:[[new Q.FiY,kg]]},Lg={provide:_h,useFactory:function Ov(r,e){const t=(0,C.JM)(zy,r,e);return t&&new _h(t)},deps:[[new Q.FiY,kg],Ie.Ot]};let Gy=(()=>{class r{constructor(){(0,Ue.KN)("angularfire",C.q4.full,"fst")}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=Q.oAB({type:r}),r.\u0275inj=Q.cJS({providers:[Lg,Fg]}),r})();function Ug(r,...e){return{ngModule:Gy,providers:[{provide:kg,useFactory:kv(r),multi:!0,deps:[Q.R0b,Q.zs3,C.HU,Ie.z6,[new Q.FiY,ce.dh],[new Q.FiY,ie.nm],...e]}]}}const qy=(0,C.u3)(Hy,!0),Ky=(0,C.u3)(Ny,!0),Lv=(0,C.u3)(w0,!0),Xy=(0,C.u3)(kf,!0),Jy=(0,C.u3)(Py,!0),e_=(0,C.u3)(nv,!0),wh=(0,C.u3)(Sy,!0),t_=(0,C.u3)(_v,!0),qv=(0,C.u3)(vv,!0),Kv=(0,C.u3)(wl,!0)},8032:(Fn,At,X)=>{X.d(At,{Ke:()=>Di,Jt:()=>es,cF:()=>ro,aF:()=>mo,Vq:()=>no,iH:()=>ts,KV:()=>Mi});var C=X(3530),Q=X(8256),ce=X(3692),Ie=X(2309),Ue=X(259),ie=X(2313),_e=X(5861),St=X(6881),yt=X(2090),ve=X(4859);const pe="firebasestorage.googleapis.com",Ye="storageBucket";class Ke extends yt.ZR{constructor(B,re,ue=0){super(an(B),`Firebase Storage: ${re} (${an(B)})`),this.status_=ue,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ke.prototype)}get status(){return this.status_}set status(B){this.status_=B}_codeEquals(B){return an(B)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(B){this.customData.serverResponse=B,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ut=(()=>{return(V=Ut||(Ut={})).UNKNOWN="unknown",V.OBJECT_NOT_FOUND="object-not-found",V.BUCKET_NOT_FOUND="bucket-not-found",V.PROJECT_NOT_FOUND="project-not-found",V.QUOTA_EXCEEDED="quota-exceeded",V.UNAUTHENTICATED="unauthenticated",V.UNAUTHORIZED="unauthorized",V.UNAUTHORIZED_APP="unauthorized-app",V.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",V.INVALID_CHECKSUM="invalid-checksum",V.CANCELED="canceled",V.INVALID_EVENT_NAME="invalid-event-name",V.INVALID_URL="invalid-url",V.INVALID_DEFAULT_BUCKET="invalid-default-bucket",V.NO_DEFAULT_BUCKET="no-default-bucket",V.CANNOT_SLICE_BLOB="cannot-slice-blob",V.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",V.NO_DOWNLOAD_URL="no-download-url",V.INVALID_ARGUMENT="invalid-argument",V.INVALID_ARGUMENT_COUNT="invalid-argument-count",V.APP_DELETED="app-deleted",V.INVALID_ROOT_OPERATION="invalid-root-operation",V.INVALID_FORMAT="invalid-format",V.INTERNAL_ERROR="internal-error",V.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Ut;var V})();function an(V){return"storage/"+V}function zn(){return new Ke(Ut.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ze(V){return new Ke(Ut.INVALID_ARGUMENT,V)}function it(){return new Ke(Ut.APP_DELETED,"The Firebase app was deleted.")}function It(V,B){return new Ke(Ut.INVALID_FORMAT,"String does not match format '"+V+"': "+B)}function Tt(V){throw new Ke(Ut.INTERNAL_ERROR,"Internal error: "+V)}class Fe{constructor(B,re){this.bucket=B,this.path_=re}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const B=encodeURIComponent;return"/b/"+B(this.bucket)+"/o/"+B(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(B,re){let ue;try{ue=Fe.makeFromUrl(B,re)}catch{return new Fe(B,"")}if(""===ue.path)return ue;throw function en(V){return new Ke(Ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+V+"'.")}(B)}static makeFromUrl(B,re){let ue=null;const xe="([A-Za-z0-9.\\-_]+)",Pt=new RegExp("^gs://"+xe+"(/(.*))?$","i");function er(Kr){Kr.path_=decodeURIComponent(Kr.path)}const qr=re.replace(/[.]/g,"\\."),fr=[{regex:Pt,indices:{bucket:1,path:3},postModify:function nt(Kr){"/"===Kr.path.charAt(Kr.path.length-1)&&(Kr.path_=Kr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${qr}/v[A-Za-z0-9_]+/b/${xe}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:er},{regex:new RegExp(`^https?://${re===pe?"(?:storage.googleapis.com|storage.cloud.google.com)":re}/${xe}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:er}];for(let Kr=0;Kr<fr.length;Kr++){const Gi=fr[Kr],Ar=Gi.regex.exec(B);if(Ar){let ms=Ar[Gi.indices.path];ms||(ms=""),ue=new Fe(Ar[Gi.indices.bucket],ms),Gi.postModify(ue);break}}if(null==ue)throw function gt(V){return new Ke(Ut.INVALID_URL,"Invalid URL '"+V+"'.")}(B);return ue}}class dt{constructor(B){this.promise_=Promise.reject(B)}getPromise(){return this.promise_}cancel(B=!1){}}function xn(V){return"string"==typeof V||V instanceof String}function cn(V){return Mr()&&V instanceof Blob}function Mr(){return typeof Blob<"u"&&!(0,yt.UG)()}function rr(V,B,re,ue){if(ue<B)throw ze(`Invalid value for '${V}'. Expected ${B} or greater.`);if(ue>re)throw ze(`Invalid value for '${V}'. Expected ${re} or less.`)}function ir(V,B,re){let ue=B;return null==re&&(ue=`https://${B}`),`${re}://${ue}/v0${V}`}function Tr(V){const B=encodeURIComponent;let re="?";for(const ue in V)V.hasOwnProperty(ue)&&(re=re+(B(ue)+"=")+B(V[ue])+"&");return re=re.slice(0,-1),re}var gr=(()=>{return(V=gr||(gr={}))[V.NO_ERROR=0]="NO_ERROR",V[V.NETWORK_ERROR=1]="NETWORK_ERROR",V[V.ABORT=2]="ABORT",gr;var V})();class nn{constructor(B,re,ue,xe,nt,Je,Pt,Zt,er,Zn,qr,ti=!0){this.url_=B,this.method_=re,this.headers_=ue,this.body_=xe,this.successCodes_=nt,this.additionalRetryCodes_=Je,this.callback_=Pt,this.errorCallback_=Zt,this.timeout_=er,this.progressCallback_=Zn,this.connectionFactory_=qr,this.retry=ti,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ii,si)=>{this.resolve_=ii,this.reject_=si,this.start_()})}start_(){const re=(ue,xe)=>{const nt=this.resolve_,Je=this.reject_,Pt=xe.connection;if(xe.wasSuccessCode)try{const Zt=this.callback_(Pt,Pt.getResponse());!function bt(V){return void 0!==V}(Zt)?nt():nt(Zt)}catch(Zt){Je(Zt)}else if(null!==Pt){const Zt=zn();Zt.serverResponse=Pt.getErrorText(),Je(this.errorCallback_?this.errorCallback_(Pt,Zt):Zt)}else Je(xe.canceled?this.appDelete_?it():function Ct(){return new Ke(Ut.CANCELED,"User canceled the upload/download.")}():function tt(){return new Ke(Ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?re(0,new ur(!1,null,!0)):this.backoffId_=function Oe(V,B,re){let ue=1,xe=null,nt=null,Je=!1,Pt=0;function Zt(){return 2===Pt}let er=!1;function Zn(...yn){er||(er=!0,B.apply(null,yn))}function qr(yn){xe=setTimeout(()=>{xe=null,V(ii,Zt())},yn)}function ti(){nt&&clearTimeout(nt)}function ii(yn,...Ps){if(er)return void ti();if(yn)return ti(),void Zn.call(null,yn,...Ps);if(Zt()||Je)return ti(),void Zn.call(null,yn,...Ps);let fr;ue<64&&(ue*=2),1===Pt?(Pt=2,fr=0):fr=1e3*(ue+Math.random()),qr(fr)}let si=!1;function pt(yn){si||(si=!0,ti(),!er&&(null!==xe?(yn||(Pt=2),clearTimeout(xe),qr(0)):yn||(Pt=1)))}return qr(0),nt=setTimeout(()=>{Je=!0,pt(!0)},re),pt}((ue,xe)=>{if(xe)return void ue(!1,new ur(!1,null,!0));const nt=this.connectionFactory_();this.pendingConnection_=nt;const Je=Pt=>{null!==this.progressCallback_&&this.progressCallback_(Pt.loaded,Pt.lengthComputable?Pt.total:-1)};null!==this.progressCallback_&&nt.addUploadProgressListener(Je),nt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&nt.removeUploadProgressListener(Je),this.pendingConnection_=null;const Pt=nt.getErrorCode()===gr.NO_ERROR,Zt=nt.getStatus();if(!Pt||function zr(V,B){const re=V>=500&&V<600,xe=-1!==[408,429].indexOf(V),nt=-1!==B.indexOf(V);return re||xe||nt}(Zt,this.additionalRetryCodes_)&&this.retry){const Zn=nt.getErrorCode()===gr.ABORT;return void ue(!1,new ur(!1,null,Zn))}const er=-1!==this.successCodes_.indexOf(Zt);ue(!0,new ur(er,nt))})},re,this.timeout_)}getPromise(){return this.promise_}cancel(B){this.canceled_=!0,this.appDelete_=B||!1,null!==this.backoffId_&&function be(V){V(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class ur{constructor(B,re,ue){this.wasSuccessCode=B,this.connection=re,this.canceled=!!ue}}function Kn(...V){const B=function Ci(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==B){const re=new B;for(let ue=0;ue<V.length;ue++)re.append(V[ue]);return re.getBlob()}if(Mr())return new Blob(V);throw new Ke(Ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ln={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xn{constructor(B,re){this.data=B,this.contentType=re||null}}function hi(V){const B=[];for(let re=0;re<V.length;re++){let ue=V.charCodeAt(re);ue<=127?B.push(ue):ue<=2047?B.push(192|ue>>6,128|63&ue):55296==(64512&ue)?re<V.length-1&&56320==(64512&V.charCodeAt(re+1))?(ue=65536|(1023&ue)<<10|1023&V.charCodeAt(++re),B.push(240|ue>>18,128|ue>>12&63,128|ue>>6&63,128|63&ue)):B.push(239,191,189):56320==(64512&ue)?B.push(239,191,189):B.push(224|ue>>12,128|ue>>6&63,128|63&ue)}return new Uint8Array(B)}function _i(V,B){switch(V){case Ln.BASE64:{const xe=-1!==B.indexOf("-"),nt=-1!==B.indexOf("_");if(xe||nt)throw It(V,"Invalid character '"+(xe?"-":"_")+"' found: is it base64url encoded?");break}case Ln.BASE64URL:{const xe=-1!==B.indexOf("+"),nt=-1!==B.indexOf("/");if(xe||nt)throw It(V,"Invalid character '"+(xe?"+":"/")+"' found: is it base64 encoded?");B=B.replace(/-/g,"+").replace(/_/g,"/");break}}let re;try{re=function _n(V){if(typeof atob>"u")throw function Se(V){return new Ke(Ut.UNSUPPORTED_ENVIRONMENT,`${V} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(V)}(B)}catch(xe){throw xe.message.includes("polyfill")?xe:It(V,"Invalid character found")}const ue=new Uint8Array(re.length);for(let xe=0;xe<re.length;xe++)ue[xe]=re.charCodeAt(xe);return ue}class hr{constructor(B){this.base64=!1,this.contentType=null;const re=B.match(/^data:([^,]+)?,/);if(null===re)throw It(Ln.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ue=re[1]||null;null!=ue&&(this.base64=function ui(V,B){return V.length>=B.length&&V.substring(V.length-B.length)===B}(ue,";base64"),this.contentType=this.base64?ue.substring(0,ue.length-7):ue),this.rest=B.substring(B.indexOf(",")+1)}}class Cr{constructor(B,re){let ue=0,xe="";cn(B)?(this.data_=B,ue=B.size,xe=B.type):B instanceof ArrayBuffer?(re?this.data_=new Uint8Array(B):(this.data_=new Uint8Array(B.byteLength),this.data_.set(new Uint8Array(B))),ue=this.data_.length):B instanceof Uint8Array&&(re?this.data_=B:(this.data_=new Uint8Array(B.length),this.data_.set(B)),ue=B.length),this.size_=ue,this.type_=xe}size(){return this.size_}type(){return this.type_}slice(B,re){if(cn(this.data_)){const xe=function vt(V,B,re){return V.webkitSlice?V.webkitSlice(B,re):V.mozSlice?V.mozSlice(B,re):V.slice?V.slice(B,re):null}(this.data_,B,re);return null===xe?null:new Cr(xe)}{const ue=new Uint8Array(this.data_.buffer,B,re-B);return new Cr(ue,!0)}}static getBlob(...B){if(Mr()){const re=B.map(ue=>ue instanceof Cr?ue.data_:ue);return new Cr(Kn.apply(null,re))}{const re=B.map(Je=>xn(Je)?function dr(V,B){switch(V){case Ln.RAW:return new Xn(hi(B));case Ln.BASE64:case Ln.BASE64URL:return new Xn(_i(V,B));case Ln.DATA_URL:return new Xn(function Ki(V){const B=new hr(V);return B.base64?_i(Ln.BASE64,B.rest):function Bn(V){let B;try{B=decodeURIComponent(V)}catch{throw It(Ln.DATA_URL,"Malformed data URL.")}return hi(B)}(B.rest)}(B),function Gn(V){return new hr(V).contentType}(B))}throw zn()}(Ln.RAW,Je).data:Je.data_);let ue=0;re.forEach(Je=>{ue+=Je.byteLength});const xe=new Uint8Array(ue);let nt=0;return re.forEach(Je=>{for(let Pt=0;Pt<Je.length;Pt++)xe[nt++]=Je[Pt]}),new Cr(xe,!0)}}uploadData(){return this.data_}}function Ai(V){let B;try{B=JSON.parse(V)}catch{return null}return function un(V){return"object"==typeof V&&!Array.isArray(V)}(B)?B:null}function Fr(V){const B=V.lastIndexOf("/",V.length-2);return-1===B?V:V.slice(B+1)}function sr(V,B){return B}class ln{constructor(B,re,ue,xe){this.server=B,this.local=re||B,this.writable=!!ue,this.xform=xe||sr}}let Ur=null;function se(){if(Ur)return Ur;const V=[];V.push(new ln("bucket")),V.push(new ln("generation")),V.push(new ln("metageneration")),V.push(new ln("name","fullPath",!0));const re=new ln("name");re.xform=function B(nt,Je){return function ae(V){return!xn(V)||V.length<2?V:Fr(V)}(Je)},V.push(re);const xe=new ln("size");return xe.xform=function ue(nt,Je){return void 0!==Je?Number(Je):Je},V.push(xe),V.push(new ln("timeCreated")),V.push(new ln("updated")),V.push(new ln("md5Hash",null,!0)),V.push(new ln("cacheControl",null,!0)),V.push(new ln("contentDisposition",null,!0)),V.push(new ln("contentEncoding",null,!0)),V.push(new ln("contentLanguage",null,!0)),V.push(new ln("contentType",null,!0)),V.push(new ln("metadata","customMetadata",!0)),Ur=V,Ur}function ke(V,B,re){const ue=Ai(B);return null===ue?null:function rt(V,B,re){const ue={type:"file"},xe=re.length;for(let nt=0;nt<xe;nt++){const Je=re[nt];ue[Je.local]=Je.xform(ue,B[Je.server])}return function Te(V,B){Object.defineProperty(V,"ref",{get:function re(){const nt=new Fe(V.bucket,V.fullPath);return B._makeStorageReference(nt)}})}(ue,V),ue}(V,ue,re)}const fe="prefixes",ee="items";class ft{constructor(B,re,ue,xe){this.url=B,this.method=re,this.handler=ue,this.timeout=xe,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Kt(V){if(!V)throw zn()}function He(V){return function B(re,ue){let xe;return xe=401===re.getStatus()?re.getErrorText().includes("Firebase App Check token is invalid")?function ut(){return new Ke(Ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function Ne(){return new Ke(Ut.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===re.getStatus()?function Xe(V){return new Ke(Ut.QUOTA_EXCEEDED,"Quota for bucket '"+V+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(V.bucket):403===re.getStatus()?function Mt(V){return new Ke(Ut.UNAUTHORIZED,"User does not have permission to access '"+V+"'.")}(V.path):ue,xe.status=re.getStatus(),xe.serverResponse=ue.serverResponse,xe}}function pn(V,B,re,ue,xe){const nt={};nt.prefix=B.isRoot?"":B.path+"/",re&&re.length>0&&(nt.delimiter=re),ue&&(nt.pageToken=ue),xe&&(nt.maxResults=xe);const Pt=ir(B.bucketOnlyServerUrl(),V.host,V._protocol),er=V.maxOperationRetryTime,Zn=new ft(Pt,"GET",function or(V,B){return function re(ue,xe){const nt=function Qe(V,B,re){const ue=Ai(re);return null===ue?null:function Ee(V,B,re){const ue={prefixes:[],items:[],nextPageToken:re.nextPageToken};if(re[fe])for(const xe of re[fe]){const nt=xe.replace(/\/$/,""),Je=V._makeStorageReference(new Fe(B,nt));ue.prefixes.push(Je)}if(re[ee])for(const xe of re[ee]){const nt=V._makeStorageReference(new Fe(B,xe.name));ue.items.push(nt)}return ue}(V,B,ue)}(V,B,xe);return Kt(null!==nt),nt}}(V,B.bucket),er);return Zn.urlParams=nt,Zn.errorHandler=He(B),Zn}function Ys(V,B,re,ue,xe){const nt=B.bucketOnlyServerUrl(),Je={"X-Goog-Upload-Protocol":"multipart"},Zt=function Pt(){let fr="";for(let Kr=0;Kr<2;Kr++)fr+=Math.random().toString().slice(2);return fr}();Je["Content-Type"]="multipart/related; boundary="+Zt;const er=function Gr(V,B,re){const ue=Object.assign({},re);return ue.fullPath=V.path,ue.size=B.size(),ue.contentType||(ue.contentType=function xr(V,B){return V&&V.contentType||B&&B.type()||"application/octet-stream"}(null,B)),ue}(B,ue,xe),Zn=function we(V,B){const re={},ue=B.length;for(let xe=0;xe<ue;xe++){const nt=B[xe];nt.writable&&(re[nt.server]=V[nt.local])}return JSON.stringify(re)}(er,re),ii=Cr.getBlob("--"+Zt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Zn+"\r\n--"+Zt+"\r\nContent-Type: "+er.contentType+"\r\n\r\n",ue,"\r\n--"+Zt+"--");if(null===ii)throw function Nn(){return new Ke(Ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const si={name:er.fullPath},pt=ir(nt,V.host,V._protocol),Ps=V.maxUploadRetryTime,Ei=new ft(pt,"POST",function tn(V,B){return function re(ue,xe){const nt=ke(V,xe,B);return Kt(null!==nt),nt}}(V,re),Ps);return Ei.urlParams=si,Ei.headers=Je,Ei.body=ii.uploadData(),Ei.errorHandler=He(B),Ei}let Yi=null;class ne{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gr.NO_ERROR,this.sendPromise_=new Promise(B=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gr.ABORT,B()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gr.NETWORK_ERROR,B()}),this.xhr_.addEventListener("load",()=>{B()})})}send(B,re,ue,xe){if(this.sent_)throw Tt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(re,B,!0),void 0!==xe)for(const nt in xe)xe.hasOwnProperty(nt)&&this.xhr_.setRequestHeader(nt,xe[nt].toString());return void 0!==ue?this.xhr_.send(ue):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(B){return this.xhr_.getResponseHeader(B)}addUploadProgressListener(B){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",B)}removeUploadProgressListener(B){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",B)}}class le extends ne{initXhr(){this.xhr_.responseType="text"}}function Ce(){return Yi?Yi():new le}class Vn{constructor(B,re){this._service=B,this._location=re instanceof Fe?re:Fe.makeFromUrl(re,B.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(B,re){return new Vn(B,re)}get root(){const B=new Fe(this._location.bucket,"");return this._newRef(this._service,B)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Fr(this._location.path)}get storage(){return this._service}get parent(){const B=function Vr(V){if(0===V.length)return null;const B=V.lastIndexOf("/");return-1===B?"":V.slice(0,B)}(this._location.path);if(null===B)return null;const re=new Fe(this._location.bucket,B);return new Vn(this._service,re)}_throwIfRoot(B){if(""===this._location.path)throw function mt(V){return new Ke(Ut.INVALID_ROOT_OPERATION,"The operation '"+V+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(B)}}function ni(V,B,re){return ls.apply(this,arguments)}function ls(){return(ls=(0,_e.Z)(function*(V,B,re){const xe=yield function Vs(V,B){null!=B&&"number"==typeof B.maxResults&&rr("options.maxResults",1,1e3,B.maxResults);const re=B||{},ue=pn(V.storage,V._location,"/",re.pageToken,re.maxResults);return V.storage.makeRequestWithTokens(ue,Ce)}(V,{pageToken:re});B.prefixes.push(...xe.prefixes),B.items.push(...xe.items),null!=xe.nextPageToken&&(yield ni(V,B,xe.nextPageToken))})).apply(this,arguments)}function Xs(V){V._throwIfRoot("getDownloadURL");const B=function Un(V,B,re){const xe=ir(B.fullServerUrl(),V.host,V._protocol),Je=V.maxOperationRetryTime,Pt=new ft(xe,"GET",function Ii(V,B){return function re(ue,xe){const nt=ke(V,xe,B);return Kt(null!==nt),function $t(V,B,re,ue){const xe=Ai(B);if(null===xe||!xn(xe.downloadTokens))return null;const nt=xe.downloadTokens;if(0===nt.length)return null;const Je=encodeURIComponent;return nt.split(",").map(er=>{const qr=V.fullPath;return ir("/b/"+Je(V.bucket)+"/o/"+Je(qr),re,ue)+Tr({alt:"media",token:er})})[0]}(nt,xe,V.host,V._protocol)}}(V,re),Je);return Pt.errorHandler=function Le(V){const B=He(V);return function re(ue,xe){let nt=B(ue,xe);return 404===ue.getStatus()&&(nt=function kt(V){return new Ke(Ut.OBJECT_NOT_FOUND,"Object '"+V+"' does not exist.")}(V.path)),nt.serverResponse=xe.serverResponse,nt}}(B),Pt}(V.storage,V._location,se());return V.storage.makeRequestWithTokens(B,Ce).then(re=>{if(null===re)throw function Pn(){return new Ke(Ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return re})}function Js(V,B){if(V instanceof Xi){const re=V;if(null==re._bucket)throw function Qt(){return new Ke(Ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Ye+"' property when initializing the app?")}();const ue=new Vn(re,re._bucket);return null!=B?Js(ue,B):ue}return void 0!==B?function bs(V,B){const re=function Cn(V,B){const re=B.split("/").filter(ue=>ue.length>0).join("/");return 0===V.length?re:V+"/"+re}(V._location.path,B),ue=new Fe(V._location.bucket,re);return new Vn(V.storage,ue)}(V,B):V}function Ss(V,B){const re=B?.[Ye];return null==re?null:Fe.makeFromBucketSpec(re,V)}class Xi{constructor(B,re,ue,xe,nt){this.app=B,this._authProvider=re,this._appCheckProvider=ue,this._url=xe,this._firebaseVersion=nt,this._bucket=null,this._host=pe,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=xe?Fe.makeFromBucketSpec(xe,this._host):Ss(this._host,this.app.options)}get host(){return this._host}set host(B){this._host=B,this._bucket=null!=this._url?Fe.makeFromBucketSpec(this._url,B):Ss(B,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(B){rr("time",0,Number.POSITIVE_INFINITY,B),this._maxUploadRetryTime=B}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(B){rr("time",0,Number.POSITIVE_INFINITY,B),this._maxOperationRetryTime=B}_getAuthToken(){var B=this;return(0,_e.Z)(function*(){if(B._overrideAuthToken)return B._overrideAuthToken;const re=B._authProvider.getImmediate({optional:!0});if(re){const ue=yield re.getToken();if(null!==ue)return ue.accessToken}return null})()}_getAppCheckToken(){var B=this;return(0,_e.Z)(function*(){const re=B._appCheckProvider.getImmediate({optional:!0});return re?(yield re.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(B=>B.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(B){return new Vn(this,B)}_makeRequest(B,re,ue,xe,nt=!0){if(this._deleted)return new dt(it());{const Je=function mr(V,B,re,ue,xe,nt,Je=!0){const Pt=Tr(V.urlParams),Zt=V.url+Pt,er=Object.assign({},V.headers);return function us(V,B){B&&(V["X-Firebase-GMPID"]=B)}(er,B),function Oi(V,B){null!==B&&B.length>0&&(V.Authorization="Firebase "+B)}(er,re),function yi(V,B){V["X-Firebase-Storage-Version"]="webjs/"+(B??"AppManager")}(er,nt),function ai(V,B){null!==B&&(V["X-Firebase-AppCheck"]=B)}(er,ue),new nn(Zt,V.method,er,V.body,V.successCodes,V.additionalRetryCodes,V.handler,V.errorHandler,V.timeout,V.progressCallback,xe,Je)}(B,this._appId,ue,xe,re,this._firebaseVersion,nt);return this._requests.add(Je),Je.getPromise().then(()=>this._requests.delete(Je),()=>this._requests.delete(Je)),Je}}makeRequestWithTokens(B,re){var ue=this;return(0,_e.Z)(function*(){const[xe,nt]=yield Promise.all([ue._getAuthToken(),ue._getAppCheckToken()]);return ue._makeRequest(B,re,xe,nt).getPromise()})()}}const ei="@firebase/storage",Cs="storage";function _r(V,B,re){return function fi(V,B,re){V._throwIfRoot("uploadBytes");const ue=Ys(V.storage,V._location,se(),new Cr(B,!0),re);return V.storage.makeRequestWithTokens(ue,Ce).then(xe=>({metadata:xe,ref:V}))}(V=(0,yt.m9)(V),B,re)}function pa(V){return function pi(V){const B={prefixes:[],items:[]};return ni(V,B).then(()=>B)}(V=(0,yt.m9)(V))}function po(V){return Xs(V=(0,yt.m9)(V))}function ga(V,B){return function Wo(V,B){if(B&&function fo(V){return/^[A-Za-z]+:\/\//.test(V)}(B)){if(V instanceof Xi)return function Ao(V,B){return new Vn(V,B)}(V,B);throw ze("To use ref(service, url), the first argument must be a Storage instance.")}return Js(V,B)}(V=(0,yt.m9)(V),B)}function As(V=(0,St.Mq)(),B){V=(0,yt.m9)(V);const ue=(0,St.qX)(V,Cs).getImmediate({identifier:B}),xe=(0,yt.P0)("storage");return xe&&function go(V,B,re,ue={}){!function Qi(V,B,re,ue={}){V.host=`${B}:${re}`,V._protocol="http";const{mockUserToken:xe}=ue;xe&&(V._overrideAuthToken="string"==typeof xe?xe:(0,yt.Sg)(xe,V.app.options.projectId))}(V,B,re,ue)}(ue,...xe),ue}function Rs(V,{instanceIdentifier:B}){const re=V.getProvider("app").getImmediate(),ue=V.getProvider("auth-internal"),xe=V.getProvider("app-check-internal");return new Xi(re,ue,xe,B,St.Jn)}!function Oa(){(0,St.Xd)(new ve.wA(Cs,Rs,"PUBLIC").setMultipleInstances(!0)),(0,St.KN)(ei,"0.11.2",""),(0,St.KN)(ei,"0.11.2","esm2017")}();class Di{constructor(B){return B}}const ji="storage",Lo=new Q.OlP("angularfire2.storage-instances");function ws(V){return(B,re)=>{const ue=B.runOutsideAngular(()=>V(re));return new Di(ue)}}const qo={provide:class To{constructor(){return(0,C.vb)(ji)}},deps:[[new Q.FiY,Lo]]},gs={provide:Di,useFactory:function ya(V,B){const re=(0,C.JM)(ji,V,B);return re&&new Di(re)},deps:[[new Q.FiY,Lo],ce.Ot]};let zs=(()=>{class V{constructor(){(0,Ue.KN)("angularfire",C.q4.full,"gcs")}}return V.\u0275fac=function(re){return new(re||V)},V.\u0275mod=Q.oAB({type:V}),V.\u0275inj=Q.cJS({providers:[gs,qo]}),V})();function no(V,...B){return{ngModule:zs,providers:[{provide:Lo,useFactory:ws(V),multi:!0,deps:[Q.R0b,Q.zs3,C.HU,ce.z6,[new Q.FiY,Ie.dh],[new Q.FiY,ie.nm],...B]}]}}const es=(0,C.u3)(po,!0),ro=(0,C.u3)(As,!0),mo=(0,C.u3)(pa,!0),ts=(0,C.u3)(ga,!0),Mi=(0,C.u3)(_r,!0)},3530:(Fn,At,X)=>{X.d(At,{q4:()=>aa,HU:()=>da,vb:()=>ru,JM:()=>Uc,u3:()=>su});var C=X(8256),Q=X(259),ce=X(5861),Ie=X(6881),Ue=X(2090),ie=X(4859),_e=X(1877);const St=(I,R)=>R.some(k=>I instanceof k);let yt,ve;const _t=new WeakMap,me=new WeakMap,Ot=new WeakMap,Ke=new WeakMap,Ut=new WeakMap;let kt={get(I,R,k){if(I instanceof IDBTransaction){if("done"===R)return me.get(I);if("objectStoreNames"===R)return I.objectStoreNames||Ot.get(I);if("store"===R)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return Mt(I[R])},set:(I,R,k)=>(I[R]=k,!0),has:(I,R)=>I instanceof IDBTransaction&&("done"===R||"store"===R)||R in I};function ut(I){return"function"==typeof I?function Ne(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ye(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...R){return I.apply(tt(this),R),Mt(_t.get(this))}:function(...R){return Mt(I.apply(tt(this),R))}:function(R,...k){const Z=I.call(tt(this),R,...k);return Ot.set(Z,R.sort?R.sort():[R]),Mt(Z)}}(I):(I instanceof IDBTransaction&&function zn(I){if(me.has(I))return;const R=new Promise((k,Z)=>{const ye=()=>{I.removeEventListener("complete",Pe),I.removeEventListener("error",We),I.removeEventListener("abort",We)},Pe=()=>{k(),ye()},We=()=>{Z(I.error||new DOMException("AbortError","AbortError")),ye()};I.addEventListener("complete",Pe),I.addEventListener("error",We),I.addEventListener("abort",We)});me.set(I,R)}(I),St(I,function pe(){return yt||(yt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,kt):I)}function Mt(I){if(I instanceof IDBRequest)return function an(I){const R=new Promise((k,Z)=>{const ye=()=>{I.removeEventListener("success",Pe),I.removeEventListener("error",We)},Pe=()=>{k(Mt(I.result)),ye()},We=()=>{Z(I.error),ye()};I.addEventListener("success",Pe),I.addEventListener("error",We)});return R.then(k=>{k instanceof IDBCursor&&_t.set(k,I)}).catch(()=>{}),Ut.set(R,I),R}(I);if(Ke.has(I))return Ke.get(I);const R=ut(I);return R!==I&&(Ke.set(I,R),Ut.set(R,I)),R}const tt=I=>Ut.get(I),en=["get","getKey","getAll","getAllKeys","count"],Qt=["put","add","delete","clear"],Nn=new Map;function je(I,R){if(!(I instanceof IDBDatabase)||R in I||"string"!=typeof R)return;if(Nn.get(R))return Nn.get(R);const k=R.replace(/FromIndex$/,""),Z=R!==k,ye=Qt.includes(k);if(!(k in(Z?IDBIndex:IDBObjectStore).prototype)||!ye&&!en.includes(k))return;const Pe=function(){var We=(0,ce.Z)(function*(qt,...Gt){const Sn=this.transaction(qt,ye?"readwrite":"readonly");let Qn=Sn.store;return Z&&(Qn=Qn.index(Gt.shift())),(yield Promise.all([Qn[k](...Gt),ye&&Sn.done]))[0]});return function(Gt){return We.apply(this,arguments)}}();return Nn.set(R,Pe),Pe}!function Xe(I){kt=I(kt)}(I=>({...I,get:(R,k,Z)=>je(R,k)||I.get(R,k,Z),has:(R,k)=>!!je(R,k)||I.has(R,k)}));const Pn="@firebase/installations",Se="0.6.4",ze=1e4,it=`w:${Se}`,mt="FIS_v2",It="https://firebaseinstallations.googleapis.com/v1",Tt=36e5,be=new Ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function bt(I){return I instanceof Ue.ZR&&I.code.includes("request-failed")}function Rt({projectId:I}){return`${It}/projects/${I}/installations`}function un(I){return{token:I.token,requestStatus:2,expiresIn:gr(I.expiresIn),creationTime:Date.now()}}function xn(I,R){return cn.apply(this,arguments)}function cn(){return(cn=(0,ce.Z)(function*(I,R){const Z=(yield R.json()).error;return be.create("request-failed",{requestName:I,serverCode:Z.code,serverMessage:Z.message,serverStatus:Z.status})})).apply(this,arguments)}function Mr({apiKey:I}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I})}function ir(I){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,ce.Z)(function*(I){const R=yield I();return R.status>=500&&R.status<600?I():R})).apply(this,arguments)}function gr(I){return Number(I.replace("s","000"))}function ur(){return(ur=(0,ce.Z)(function*({appConfig:I,heartbeatServiceProvider:R},{fid:k}){const Z=Rt(I),ye=Mr(I),Pe=R.getImmediate({optional:!0});if(Pe){const Sn=yield Pe.getHeartbeatsHeader();Sn&&ye.append("x-firebase-client",Sn)}const qt={method:"POST",headers:ye,body:JSON.stringify({fid:k,authVersion:mt,appId:I.appId,sdkVersion:it})},Gt=yield ir(()=>fetch(Z,qt));if(Gt.ok){const Sn=yield Gt.json();return{fid:Sn.fid||k,registrationStatus:2,refreshToken:Sn.refreshToken,authToken:un(Sn.authToken)}}throw yield xn("Create Installation",Gt)})).apply(this,arguments)}function Oi(I){return new Promise(R=>{setTimeout(R,I)})}const us=/^[cdef][\w-]{21}$/,ai="";function mr(){try{const I=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(I),I[0]=112+I[0]%16;const k=function Ci(I){return function yi(I){return btoa(String.fromCharCode(...I)).replace(/\+/g,"-").replace(/\//g,"_")}(I).substr(0,22)}(I);return us.test(k)?k:ai}catch{return ai}}function Kn(I){return`${I.appName}!${I.appId}`}const vt=new Map;function _n(I,R){const k=Kn(I);dr(k,R),function hi(I,R){const k=function _i(){return!Bn&&"BroadcastChannel"in self&&(Bn=new BroadcastChannel("[Firebase] FID Change"),Bn.onmessage=I=>{dr(I.data.key,I.data.fid)}),Bn}();k&&k.postMessage({key:I,fid:R}),function hr(){0===vt.size&&Bn&&(Bn.close(),Bn=null)}()}(k,R)}function dr(I,R){const k=vt.get(I);if(k)for(const Z of k)Z(R)}let Bn=null;const Ki="firebase-installations-database",Gn=1,ui="firebase-installations-store";let Cr=null;function Ai(){return Cr||(Cr=function Ct(I,R,{blocked:k,upgrade:Z,blocking:ye,terminated:Pe}={}){const We=indexedDB.open(I,R),qt=Mt(We);return Z&&We.addEventListener("upgradeneeded",Gt=>{Z(Mt(We.result),Gt.oldVersion,Gt.newVersion,Mt(We.transaction))}),k&&We.addEventListener("blocked",()=>k()),qt.then(Gt=>{Pe&&Gt.addEventListener("close",()=>Pe()),ye&&Gt.addEventListener("versionchange",()=>ye())}).catch(()=>{}),qt}(Ki,Gn,{upgrade:(I,R)=>{0===R&&I.createObjectStore(ui)}})),Cr}function Vr(I,R){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,ce.Z)(function*(I,R){const k=Kn(I),ye=(yield Ai()).transaction(ui,"readwrite"),Pe=ye.objectStore(ui),We=yield Pe.get(k);return yield Pe.put(R,k),yield ye.done,(!We||We.fid!==R.fid)&&_n(I,R.fid),R})).apply(this,arguments)}function Fr(I){return sr.apply(this,arguments)}function sr(){return(sr=(0,ce.Z)(function*(I){const R=Kn(I),Z=(yield Ai()).transaction(ui,"readwrite");yield Z.objectStore(ui).delete(R),yield Z.done})).apply(this,arguments)}function ln(I,R){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,ce.Z)(function*(I,R){const k=Kn(I),ye=(yield Ai()).transaction(ui,"readwrite"),Pe=ye.objectStore(ui),We=yield Pe.get(k),qt=R(We);return void 0===qt?yield Pe.delete(k):yield Pe.put(qt,k),yield ye.done,qt&&(!We||We.fid!==qt.fid)&&_n(I,qt.fid),qt})).apply(this,arguments)}function ae(I){return se.apply(this,arguments)}function se(){return se=(0,ce.Z)(function*(I){let R;const k=yield ln(I.appConfig,Z=>{const ye=function Te(I){return Ee(I||{fid:mr(),registrationStatus:0})}(Z),Pe=function rt(I,R){if(0===R.registrationStatus){if(!navigator.onLine)return{installationEntry:R,registrationPromise:Promise.reject(be.create("app-offline"))};const k={fid:R.fid,registrationStatus:1,registrationTime:Date.now()},Z=function ke(I,R){return $t.apply(this,arguments)}(I,k);return{installationEntry:k,registrationPromise:Z}}return 1===R.registrationStatus?{installationEntry:R,registrationPromise:we(I)}:{installationEntry:R}}(I,ye);return R=Pe.registrationPromise,Pe.installationEntry});return k.fid===ai?{installationEntry:yield R}:{installationEntry:k,registrationPromise:R}}),se.apply(this,arguments)}function $t(){return $t=(0,ce.Z)(function*(I,R){try{const k=yield function nn(I,R){return ur.apply(this,arguments)}(I,R);return Vr(I.appConfig,k)}catch(k){throw bt(k)&&409===k.customData.serverCode?yield Fr(I.appConfig):yield Vr(I.appConfig,{fid:R.fid,registrationStatus:0}),k}}),$t.apply(this,arguments)}function we(I){return fe.apply(this,arguments)}function fe(){return(fe=(0,ce.Z)(function*(I){let R=yield ee(I.appConfig);for(;1===R.registrationStatus;)yield Oi(100),R=yield ee(I.appConfig);if(0===R.registrationStatus){const{installationEntry:k,registrationPromise:Z}=yield ae(I);return Z||k}return R})).apply(this,arguments)}function ee(I){return ln(I,R=>{if(!R)throw be.create("installation-not-found");return Ee(R)})}function Ee(I){return function Qe(I){return 1===I.registrationStatus&&I.registrationTime+ze<Date.now()}(I)?{fid:I.fid,registrationStatus:0}:I}function Kt(){return(Kt=(0,ce.Z)(function*({appConfig:I,heartbeatServiceProvider:R},k){const Z=function tn(I,{fid:R}){return`${Rt(I)}/${R}/authTokens:generate`}(I,k),ye=function rr(I,{refreshToken:R}){const k=Mr(I);return k.append("Authorization",function zr(I){return`${mt} ${I}`}(R)),k}(I,k),Pe=R.getImmediate({optional:!0});if(Pe){const Sn=yield Pe.getHeartbeatsHeader();Sn&&ye.append("x-firebase-client",Sn)}const qt={method:"POST",headers:ye,body:JSON.stringify({installation:{sdkVersion:it,appId:I.appId}})},Gt=yield ir(()=>fetch(Z,qt));if(Gt.ok)return un(yield Gt.json());throw yield xn("Generate Auth Token",Gt)})).apply(this,arguments)}function or(I){return Ii.apply(this,arguments)}function Ii(){return Ii=(0,ce.Z)(function*(I,R=!1){let k;const Z=yield ln(I.appConfig,Pe=>{if(!Un(Pe))throw be.create("not-registered");const We=Pe.authToken;if(!R&&function jn(I){return 2===I.requestStatus&&!function Jr(I){const R=Date.now();return R<I.creationTime||I.creationTime+I.expiresIn<R+Tt}(I)}(We))return Pe;if(1===We.requestStatus)return k=function He(I,R){return Le.apply(this,arguments)}(I,R),Pe;{if(!navigator.onLine)throw be.create("app-offline");const qt=function xr(I){const R={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},I),{authToken:R})}(Pe);return k=function pn(I,R){return gn.apply(this,arguments)}(I,qt),qt}});return k?yield k:Z.authToken}),Ii.apply(this,arguments)}function Le(){return(Le=(0,ce.Z)(function*(I,R){let k=yield wt(I.appConfig);for(;1===k.authToken.requestStatus;)yield Oi(100),k=yield wt(I.appConfig);const Z=k.authToken;return 0===Z.requestStatus?or(I,R):Z})).apply(this,arguments)}function wt(I){return ln(I,R=>{if(!Un(R))throw be.create("not-registered");return function Gr(I){return 1===I.requestStatus&&I.requestTime+ze<Date.now()}(R.authToken)?Object.assign(Object.assign({},R),{authToken:{requestStatus:0}}):R})}function gn(){return gn=(0,ce.Z)(function*(I,R){try{const k=yield function ft(I,R){return Kt.apply(this,arguments)}(I,R),Z=Object.assign(Object.assign({},R),{authToken:k});return yield Vr(I.appConfig,Z),k}catch(k){if(!bt(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const Z=Object.assign(Object.assign({},R),{authToken:{requestStatus:0}});yield Vr(I.appConfig,Z)}else yield Fr(I.appConfig);throw k}}),gn.apply(this,arguments)}function Un(I){return void 0!==I&&2===I.registrationStatus}function Ts(){return(Ts=(0,ce.Z)(function*(I){const R=I,{installationEntry:k,registrationPromise:Z}=yield ae(R);return Z?Z.catch(console.error):or(R).catch(console.error),k.fid})).apply(this,arguments)}function ps(){return ps=(0,ce.Z)(function*(I,R=!1){const k=I;return yield function Wn(I){return $r.apply(this,arguments)}(k),(yield or(k,R)).token}),ps.apply(this,arguments)}function $r(){return($r=(0,ce.Z)(function*(I){const{registrationPromise:R}=yield ae(I);R&&(yield R)})).apply(this,arguments)}function le(I){return be.create("missing-app-config-values",{valueName:I})}const Ce="installations",xt=I=>{const R=I.getProvider("app").getImmediate(),k=function ne(I){if(!I||!I.options)throw le("App Configuration");if(!I.name)throw le("App Name");const R=["projectId","apiKey","appId"];for(const k of R)if(!I.options[k])throw le(k);return{appName:I.name,projectId:I.options.projectId,apiKey:I.options.apiKey,appId:I.options.appId}}(R);return{app:R,appConfig:k,heartbeatServiceProvider:(0,Ie.qX)(R,"heartbeat"),_delete:()=>Promise.resolve()}},Xt=I=>{const R=I.getProvider("app").getImmediate(),k=(0,Ie.qX)(R,Ce).getImmediate();return{getId:()=>function Ys(I){return Ts.apply(this,arguments)}(k),getToken:ye=>function Ds(I){return ps.apply(this,arguments)}(k,ye)}};(function Jn(){(0,Ie.Xd)(new ie.wA(Ce,xt,"PUBLIC")),(0,Ie.Xd)(new ie.wA("installations-internal",Xt,"PRIVATE"))})(),(0,Ie.KN)(Pn,Se),(0,Ie.KN)(Pn,Se,"esm2017");const mn="@firebase/remote-config",Br=new Ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Cs{constructor(R,k,Z,ye){this.client=R,this.storage=k,this.storageCache=Z,this.logger=ye}isCachedDataFresh(R,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Z=Date.now()-k,ye=Z<=R;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Z}. Cache max age millis (minimumFetchIntervalMillis setting): ${R}. Is cache hit: ${ye}.`),ye}fetch(R){var k=this;return(0,ce.Z)(function*(){const[Z,ye]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(ye&&k.isCachedDataFresh(R.cacheMaxAgeMillis,Z))return ye;R.eTag=ye&&ye.eTag;const Pe=yield k.client.fetch(R),We=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Pe.status&&We.push(k.storage.setLastSuccessfulFetchResponse(Pe)),yield Promise.all(We),Pe})()}}function Ji(I=navigator){return I.languages&&I.languages[0]||I.language}class _r{constructor(R,k,Z,ye,Pe,We){this.firebaseInstallations=R,this.sdkVersion=k,this.namespace=Z,this.projectId=ye,this.apiKey=Pe,this.appId=We}fetch(R){var k=this;return(0,ce.Z)(function*(){const[Z,ye]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),We=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,qt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":R.eTag||"*"},Gt={sdk_version:k.sdkVersion,app_instance_id:Z,app_instance_id_token:ye,app_id:k.appId,language_code:Ji()},Sn={method:"POST",headers:qt,body:JSON.stringify(Gt)},Qn=fetch(We,Sn),tr=new Promise((ea,Aa)=>{R.signal.addEventListener(()=>{const vu=new Error("The operation was aborted.");vu.name="AbortError",Aa(vu)})});let So;try{yield Promise.race([Qn,tr]),So=yield Qn}catch(ea){let Aa="fetch-client-network";throw"AbortError"===ea?.name&&(Aa="fetch-timeout"),Br.create(Aa,{originalErrorMessage:ea?.message})}let ks=So.status;const cc=So.headers.get("ETag")||void 0;let lc,_u;if(200===So.status){let ea;try{ea=yield So.json()}catch(Aa){throw Br.create("fetch-client-parse",{originalErrorMessage:Aa?.message})}lc=ea.entries,_u=ea.state}if("INSTANCE_STATE_UNSPECIFIED"===_u?ks=500:"NO_CHANGE"===_u?ks=304:("NO_TEMPLATE"===_u||"EMPTY_CONFIG"===_u)&&(lc={}),304!==ks&&200!==ks)throw Br.create("fetch-status",{httpStatus:ks});return{status:ks,eTag:cc,config:lc}})()}}class eo{constructor(R,k){this.client=R,this.storage=k}fetch(R){var k=this;return(0,ce.Z)(function*(){const Z=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(R,Z)})()}attemptFetch(R,{throttleEndTimeMillis:k,backoffCount:Z}){var ye=this;return(0,ce.Z)(function*(){yield function $i(I,R){return new Promise((k,Z)=>{const ye=Math.max(R-Date.now(),0),Pe=setTimeout(k,ye);I.addEventListener(()=>{clearTimeout(Pe),Z(Br.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(R.signal,k);try{const Pe=yield ye.client.fetch(R);return yield ye.storage.deleteThrottleMetadata(),Pe}catch(Pe){if(!function ki(I){if(!(I instanceof Ue.ZR&&I.customData))return!1;const R=Number(I.customData.httpStatus);return 429===R||500===R||503===R||504===R}(Pe))throw Pe;const We={throttleEndTimeMillis:Date.now()+(0,Ue.$s)(Z),backoffCount:Z+1};return yield ye.storage.setThrottleMetadata(We),ye.attemptFetch(R,We)}})()}}class pa{constructor(R,k,Z,ye,Pe){this.app=R,this._client=k,this._storageCache=Z,this._storage=ye,this._logger=Pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function po(I,R){const k=I.target.error||void 0;return Br.create(R,{originalErrorMessage:k&&k?.message})}const js="app_namespace_store";class go{constructor(R,k,Z,ye=function As(){return new Promise((I,R)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=Z=>{R(po(Z,"storage-open"))},k.onsuccess=Z=>{I(Z.target.result)},k.onupgradeneeded=Z=>{0===Z.oldVersion&&Z.target.result.createObjectStore(js,{keyPath:"compositeKey"})}}catch(k){R(Br.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=R,this.appName=k,this.namespace=Z,this.openDbPromise=ye}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(R){return this.set("last_fetch_status",R)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(R){return this.set("last_successful_fetch_timestamp_millis",R)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(R){return this.set("last_successful_fetch_response",R)}getActiveConfig(){return this.get("active_config")}setActiveConfig(R){return this.set("active_config",R)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(R){return this.set("active_config_etag",R)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(R){return this.set("throttle_metadata",R)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(R){var k=this;return(0,ce.Z)(function*(){const Z=yield k.openDbPromise;return new Promise((ye,Pe)=>{const qt=Z.transaction([js],"readonly").objectStore(js),Gt=k.createCompositeKey(R);try{const Sn=qt.get(Gt);Sn.onerror=Qn=>{Pe(po(Qn,"storage-get"))},Sn.onsuccess=Qn=>{const tr=Qn.target.result;ye(tr?tr.value:void 0)}}catch(Sn){Pe(Br.create("storage-get",{originalErrorMessage:Sn?.message}))}})})()}set(R,k){var Z=this;return(0,ce.Z)(function*(){const ye=yield Z.openDbPromise;return new Promise((Pe,We)=>{const Gt=ye.transaction([js],"readwrite").objectStore(js),Sn=Z.createCompositeKey(R);try{const Qn=Gt.put({compositeKey:Sn,value:k});Qn.onerror=tr=>{We(po(tr,"storage-set"))},Qn.onsuccess=()=>{Pe()}}catch(Qn){We(Br.create("storage-set",{originalErrorMessage:Qn?.message}))}})})()}delete(R){var k=this;return(0,ce.Z)(function*(){const Z=yield k.openDbPromise;return new Promise((ye,Pe)=>{const qt=Z.transaction([js],"readwrite").objectStore(js),Gt=k.createCompositeKey(R);try{const Sn=qt.delete(Gt);Sn.onerror=Qn=>{Pe(po(Qn,"storage-delete"))},Sn.onsuccess=()=>{ye()}}catch(Sn){Pe(Br.create("storage-delete",{originalErrorMessage:Sn?.message}))}})})()}createCompositeKey(R){return[this.appId,this.appName,this.namespace,R].join()}}class Na{constructor(R){this.storage=R}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var R=this;return(0,ce.Z)(function*(){const k=R.storage.getLastFetchStatus(),Z=R.storage.getLastSuccessfulFetchTimestampMillis(),ye=R.storage.getActiveConfig(),Pe=yield k;Pe&&(R.lastFetchStatus=Pe);const We=yield Z;We&&(R.lastSuccessfulFetchTimestampMillis=We);const qt=yield ye;qt&&(R.activeConfig=qt)})()}setLastFetchStatus(R){return this.lastFetchStatus=R,this.storage.setLastFetchStatus(R)}setLastSuccessfulFetchTimestampMillis(R){return this.lastSuccessfulFetchTimestampMillis=R,this.storage.setLastSuccessfulFetchTimestampMillis(R)}setActiveConfig(R){return this.activeConfig=R,this.storage.setActiveConfig(R)}}function Di(){return ji.apply(this,arguments)}function ji(){return(ji=(0,ce.Z)(function*(){if(!(0,Ue.hl)())return!1;try{return yield(0,Ue.eu)()}catch{return!1}})).apply(this,arguments)}!function ma(){(0,Ie.Xd)(new ie.wA("remote-config",function I(R,{instanceIdentifier:k}){const Z=R.getProvider("app").getImmediate(),ye=R.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Br.create("registration-window");if(!(0,Ue.hl)())throw Br.create("indexed-db-unavailable");const{projectId:Pe,apiKey:We,appId:qt}=Z.options;if(!Pe)throw Br.create("registration-project-id");if(!We)throw Br.create("registration-api-key");if(!qt)throw Br.create("registration-app-id");const Gt=new go(qt,Z.name,k=k||"firebase"),Sn=new Na(Gt),Qn=new _e.Yd(mn);Qn.logLevel=_e.in.ERROR;const tr=new _r(ye,Ie.Jn,k,Pe,We,qt),So=new eo(tr,Gt),ks=new Cs(So,Gt,Sn,Qn),cc=new pa(Z,ks,Sn,Gt,Qn);return function bs(I){const R=(0,Ue.m9)(I);R._initializePromise||(R._initializePromise=R._storageCache.loadFromStorage().then(()=>{R._isInitializationComplete=!0}))}(cc),cc},"PUBLIC").setMultipleInstances(!0)),(0,Ie.KN)(mn,"0.4.4"),(0,Ie.KN)(mn,"0.4.4","esm2017")}();const To=(I,R)=>R.some(k=>I instanceof k);let Hs,Lo;const qo=new WeakMap,gs=new WeakMap,zs=new WeakMap,no=new WeakMap,Uo=new WeakMap;let Pr={get(I,R,k){if(I instanceof IDBTransaction){if("done"===R)return gs.get(I);if("objectStoreNames"===R)return I.objectStoreNames||zs.get(I);if("store"===R)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return zi(I[R])},set:(I,R,k)=>(I[R]=k,!0),has:(I,R)=>I instanceof IDBTransaction&&("done"===R||"store"===R)||R in I};function es(I){return"function"==typeof I?function ka(I){return I!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ws(){return Lo||(Lo=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(I)?function(...R){return I.apply(ro(this),R),zi(qo.get(this))}:function(...R){return zi(I.apply(ro(this),R))}:function(R,...k){const Z=I.call(ro(this),R,...k);return zs.set(Z,R.sort?R.sort():[R]),zi(Z)}}(I):(I instanceof IDBTransaction&&function Ms(I){if(gs.has(I))return;const R=new Promise((k,Z)=>{const ye=()=>{I.removeEventListener("complete",Pe),I.removeEventListener("error",We),I.removeEventListener("abort",We)},Pe=()=>{k(),ye()},We=()=>{Z(I.error||new DOMException("AbortError","AbortError")),ye()};I.addEventListener("complete",Pe),I.addEventListener("error",We),I.addEventListener("abort",We)});gs.set(I,R)}(I),To(I,function ya(){return Hs||(Hs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(I,Pr):I)}function zi(I){if(I instanceof IDBRequest)return function xo(I){const R=new Promise((k,Z)=>{const ye=()=>{I.removeEventListener("success",Pe),I.removeEventListener("error",We)},Pe=()=>{k(zi(I.result)),ye()},We=()=>{Z(I.error),ye()};I.addEventListener("success",Pe),I.addEventListener("error",We)});return R.then(k=>{k instanceof IDBCursor&&qo.set(k,I)}).catch(()=>{}),Uo.set(R,I),R}(I);if(no.has(I))return no.get(I);const R=es(I);return R!==I&&(no.set(I,R),Uo.set(R,I)),R}const ro=I=>Uo.get(I);function ci(I,R,{blocked:k,upgrade:Z,blocking:ye,terminated:Pe}={}){const We=indexedDB.open(I,R),qt=zi(We);return Z&&We.addEventListener("upgradeneeded",Gt=>{Z(zi(We.result),Gt.oldVersion,Gt.newVersion,zi(We.transaction))}),k&&We.addEventListener("blocked",()=>k()),qt.then(Gt=>{Pe&&Gt.addEventListener("close",()=>Pe()),ye&&Gt.addEventListener("versionchange",()=>ye())}).catch(()=>{}),qt}function Wr(I,{blocked:R}={}){const k=indexedDB.deleteDatabase(I);return R&&k.addEventListener("blocked",()=>R()),zi(k).then(()=>{})}const mo=["get","getKey","getAll","getAllKeys","count"],ts=["put","add","delete","clear"],io=new Map;function Mi(I,R){if(!(I instanceof IDBDatabase)||R in I||"string"!=typeof R)return;if(io.get(R))return io.get(R);const k=R.replace(/FromIndex$/,""),Z=R!==k,ye=ts.includes(k);if(!(k in(Z?IDBIndex:IDBObjectStore).prototype)||!ye&&!mo.includes(k))return;const Pe=function(){var We=(0,ce.Z)(function*(qt,...Gt){const Sn=this.transaction(qt,ye?"readwrite":"readonly");let Qn=Sn.store;return Z&&(Qn=Qn.index(Gt.shift())),(yield Promise.all([Qn[k](...Gt),ye&&Sn.done]))[0]});return function(Gt){return We.apply(this,arguments)}}();return io.set(R,Pe),Pe}!function Hi(I){Pr=I(Pr)}(I=>({...I,get:(R,k,Z)=>Mi(R,k)||I.get(R,k,Z),has:(R,k)=>!!Mi(R,k)||I.has(R,k)}));const xs="/firebase-messaging-sw.js",wi="/firebase-cloud-messaging-push-scope",V="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",B="https://fcmregistrations.googleapis.com/v1",re="google.c.a.c_id",ue="google.c.a.c_l",xe="google.c.a.ts",nt="google.c.a.e";var Pt=(()=>{return(I=Pt||(Pt={})).PUSH_RECEIVED="push-received",I.NOTIFICATION_CLICKED="notification-clicked",Pt;var I})();function Zt(I){const R=new Uint8Array(I);return btoa(String.fromCharCode(...R)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function er(I){const k=(I+"=".repeat((4-I.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Z=atob(k),ye=new Uint8Array(Z.length);for(let Pe=0;Pe<Z.length;++Pe)ye[Pe]=Z.charCodeAt(Pe);return ye}const Zn="fcm_token_details_db",qr=5,ti="fcm_token_object_Store";function si(){return si=(0,ce.Z)(function*(I){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Pe=>Pe.name).includes(Zn))return null;let R=null;return(yield ci(Zn,qr,{upgrade:(Z=(0,ce.Z)(function*(ye,Pe,We,qt){var Gt;if(Pe<2||!ye.objectStoreNames.contains(ti))return;const Sn=qt.objectStore(ti),Qn=yield Sn.index("fcmSenderId").get(I);if(yield Sn.clear(),Qn)if(2===Pe){const tr=Qn;if(!tr.auth||!tr.p256dh||!tr.endpoint)return;R={token:tr.fcmToken,createTime:null!==(Gt=tr.createTime)&&void 0!==Gt?Gt:Date.now(),subscriptionOptions:{auth:tr.auth,p256dh:tr.p256dh,endpoint:tr.endpoint,swScope:tr.swScope,vapidKey:"string"==typeof tr.vapidKey?tr.vapidKey:Zt(tr.vapidKey)}}}else if(3===Pe){const tr=Qn;R={token:tr.fcmToken,createTime:tr.createTime,subscriptionOptions:{auth:Zt(tr.auth),p256dh:Zt(tr.p256dh),endpoint:tr.endpoint,swScope:tr.swScope,vapidKey:Zt(tr.vapidKey)}}}else if(4===Pe){const tr=Qn;R={token:tr.fcmToken,createTime:tr.createTime,subscriptionOptions:{auth:Zt(tr.auth),p256dh:Zt(tr.p256dh),endpoint:tr.endpoint,swScope:tr.swScope,vapidKey:Zt(tr.vapidKey)}}}}),function(Pe,We,qt,Gt){return Z.apply(this,arguments)})})).close(),yield Wr(Zn),yield Wr("fcm_vapid_details_db"),yield Wr("undefined"),function pt(I){if(!I||!I.subscriptionOptions)return!1;const{subscriptionOptions:R}=I;return"number"==typeof I.createTime&&I.createTime>0&&"string"==typeof I.token&&I.token.length>0&&"string"==typeof R.auth&&R.auth.length>0&&"string"==typeof R.p256dh&&R.p256dh.length>0&&"string"==typeof R.endpoint&&R.endpoint.length>0&&"string"==typeof R.swScope&&R.swScope.length>0&&"string"==typeof R.vapidKey&&R.vapidKey.length>0}(R)?R:null;var Z}),si.apply(this,arguments)}const yn="firebase-messaging-database",Ps=1,Ei="firebase-messaging-store";let fr=null;function Kr(){return fr||(fr=ci(yn,Ps,{upgrade:(I,R)=>{0===R&&I.createObjectStore(Ei)}})),fr}function Gi(I){return Ar.apply(this,arguments)}function Ar(){return Ar=(0,ce.Z)(function*(I){const R=Ko(I),Z=yield(yield Kr()).transaction(Ei).objectStore(Ei).get(R);if(Z)return Z;{const ye=yield function ii(I){return si.apply(this,arguments)}(I.appConfig.senderId);if(ye)return yield yo(I,ye),ye}}),Ar.apply(this,arguments)}function yo(I,R){return ms.apply(this,arguments)}function ms(){return(ms=(0,ce.Z)(function*(I,R){const k=Ko(I),ye=(yield Kr()).transaction(Ei,"readwrite");return yield ye.objectStore(Ei).put(R,k),yield ye.done,R})).apply(this,arguments)}function Po(){return(Po=(0,ce.Z)(function*(I){const R=Ko(I),Z=(yield Kr()).transaction(Ei,"readwrite");yield Z.objectStore(Ei).delete(R),yield Z.done})).apply(this,arguments)}function Ko({appConfig:I}){return I.appId}const Yr=new Ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $(I,R){return _.apply(this,arguments)}function _(){return(_=(0,ce.Z)(function*(I,R){const k=yield ge(I),Z=st(R),ye={method:"POST",headers:k,body:JSON.stringify(Z)};let Pe;try{Pe=yield(yield fetch(de(I.appConfig),ye)).json()}catch(We){throw Yr.create("token-subscribe-failed",{errorInfo:We?.toString()})}if(Pe.error)throw Yr.create("token-subscribe-failed",{errorInfo:Pe.error.message});if(!Pe.token)throw Yr.create("token-subscribe-no-token");return Pe.token})).apply(this,arguments)}function P(){return(P=(0,ce.Z)(function*(I,R){const k=yield ge(I),Z=st(R.subscriptionOptions),ye={method:"PATCH",headers:k,body:JSON.stringify(Z)};let Pe;try{Pe=yield(yield fetch(`${de(I.appConfig)}/${R.token}`,ye)).json()}catch(We){throw Yr.create("token-update-failed",{errorInfo:We?.toString()})}if(Pe.error)throw Yr.create("token-update-failed",{errorInfo:Pe.error.message});if(!Pe.token)throw Yr.create("token-update-no-token");return Pe.token})).apply(this,arguments)}function H(I,R){return J.apply(this,arguments)}function J(){return(J=(0,ce.Z)(function*(I,R){const Z={method:"DELETE",headers:yield ge(I)};try{const Pe=yield(yield fetch(`${de(I.appConfig)}/${R}`,Z)).json();if(Pe.error)throw Yr.create("token-unsubscribe-failed",{errorInfo:Pe.error.message})}catch(ye){throw Yr.create("token-unsubscribe-failed",{errorInfo:ye?.toString()})}})).apply(this,arguments)}function de({projectId:I}){return`${B}/projects/${I}/registrations`}function ge(I){return Re.apply(this,arguments)}function Re(){return(Re=(0,ce.Z)(function*({appConfig:I,installations:R}){const k=yield R.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":I.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function st({p256dh:I,auth:R,endpoint:k,vapidKey:Z}){const ye={web:{endpoint:k,auth:R,p256dh:I}};return Z!==V&&(ye.web.applicationPubKey=Z),ye}const zt=6048e5;function Hn(){return Hn=(0,ce.Z)(function*(I){const R=yield function Nr(I,R){return li.apply(this,arguments)}(I.swRegistration,I.vapidKey),k={vapidKey:I.vapidKey,swScope:I.swRegistration.scope,endpoint:R.endpoint,auth:Zt(R.getKey("auth")),p256dh:Zt(R.getKey("p256dh"))},Z=yield Gi(I.firebaseDependencies);if(Z){if(function gi(I,R){return R.vapidKey===I.vapidKey&&R.endpoint===I.endpoint&&R.auth===I.auth&&R.p256dh===I.p256dh}(Z.subscriptionOptions,k))return Date.now()>=Z.createTime+zt?function kn(I,R){return cr.apply(this,arguments)}(I,{token:Z.token,createTime:Date.now(),subscriptionOptions:k}):Z.token;try{yield H(I.firebaseDependencies,Z.token)}catch(ye){console.warn(ye)}return vr(I.firebaseDependencies,k)}return vr(I.firebaseDependencies,k)}),Hn.apply(this,arguments)}function In(){return In=(0,ce.Z)(function*(I){const R=yield Gi(I.firebaseDependencies);R&&(yield H(I.firebaseDependencies,R.token),yield function Gs(I){return Po.apply(this,arguments)}(I.firebaseDependencies));const k=yield I.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()}),In.apply(this,arguments)}function cr(){return cr=(0,ce.Z)(function*(I,R){try{const k=yield function w(I,R){return P.apply(this,arguments)}(I.firebaseDependencies,R),Z=Object.assign(Object.assign({},R),{token:k,createTime:Date.now()});return yield yo(I.firebaseDependencies,Z),k}catch(k){throw yield function $n(I){return In.apply(this,arguments)}(I),k}}),cr.apply(this,arguments)}function vr(I,R){return wr.apply(this,arguments)}function wr(){return(wr=(0,ce.Z)(function*(I,R){const Z={token:yield $(I,R),createTime:Date.now(),subscriptionOptions:R};return yield yo(I,Z),Z.token})).apply(this,arguments)}function li(){return(li=(0,ce.Z)(function*(I,R){return(yield I.pushManager.getSubscription())||I.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:er(R)})})).apply(this,arguments)}function mi(I){const R={from:I.from,collapseKey:I.collapse_key,messageId:I.fcmMessageId};return function ar(I,R){if(!R.notification)return;I.notification={};const k=R.notification.title;k&&(I.notification.title=k);const Z=R.notification.body;Z&&(I.notification.body=Z);const ye=R.notification.image;ye&&(I.notification.image=ye);const Pe=R.notification.icon;Pe&&(I.notification.icon=Pe)}(R,I),function _o(I,R){R.data&&(I.data=R.data)}(R,I),function A(I,R){var k,Z,ye,Pe,We;if(!(R.fcmOptions||null!==(k=R.notification)&&void 0!==k&&k.click_action))return;I.fcmOptions={};const qt=null!==(ye=null===(Z=R.fcmOptions)||void 0===Z?void 0:Z.link)&&void 0!==ye?ye:null===(Pe=R.notification)||void 0===Pe?void 0:Pe.click_action;qt&&(I.fcmOptions.link=qt);const Gt=null===(We=R.fcmOptions)||void 0===We?void 0:We.analytics_label;Gt&&(I.fcmOptions.analyticsLabel=Gt)}(R,I),R}function x(I,R){const k=[];for(let Z=0;Z<I.length;Z++)k.push(I.charAt(Z)),Z<R.length&&k.push(R.charAt(Z));return k.join("")}function oe(I){return Yr.create("missing-app-config-values",{valueName:I})}x("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),x("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ge{constructor(R,k,Z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ye=function G(I){if(!I||!I.options)throw oe("App Configuration Object");if(!I.name)throw oe("App Name");const R=["projectId","apiKey","appId","messagingSenderId"],{options:k}=I;for(const Z of R)if(!k[Z])throw oe(Z);return{appName:I.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(R);this.firebaseDependencies={app:R,appConfig:ye,installations:k,analyticsProvider:Z}}_delete(){return Promise.resolve()}}function ct(I){return ot.apply(this,arguments)}function ot(){return(ot=(0,ce.Z)(function*(I){try{I.swRegistration=yield navigator.serviceWorker.register(xs,{scope:wi}),I.swRegistration.update().catch(()=>{})}catch(R){throw Yr.create("failed-service-worker-registration",{browserErrorMessage:R?.message})}})).apply(this,arguments)}function Wt(){return(Wt=(0,ce.Z)(function*(I,R){if(!R&&!I.swRegistration&&(yield ct(I)),R||!I.swRegistration){if(!(R instanceof ServiceWorkerRegistration))throw Yr.create("invalid-sw-registration");I.swRegistration=R}})).apply(this,arguments)}function dn(){return(dn=(0,ce.Z)(function*(I,R){R?I.vapidKey=R:I.vapidKey||(I.vapidKey=V)})).apply(this,arguments)}function Tn(){return Tn=(0,ce.Z)(function*(I,R){if(!navigator)throw Yr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Yr.create("permission-blocked");return yield function En(I,R){return dn.apply(this,arguments)}(I,R?.vapidKey),yield function Bt(I,R){return Wt.apply(this,arguments)}(I,R?.serviceWorkerRegistration),function Yt(I){return Hn.apply(this,arguments)}(I)}),Tn.apply(this,arguments)}function Yn(){return(Yn=(0,ce.Z)(function*(I,R,k){const Z=function so(I){switch(I){case Pt.NOTIFICATION_CLICKED:return"notification_open";case Pt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(R);(yield I.firebaseDependencies.analyticsProvider.get()).logEvent(Z,{message_id:k[re],message_name:k[ue],message_time:k[xe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function at(){return at=(0,ce.Z)(function*(I,R){const k=R.data;if(!k.isFirebaseMessaging)return;I.onMessageHandler&&k.messageType===Pt.PUSH_RECEIVED&&("function"==typeof I.onMessageHandler?I.onMessageHandler(mi(k)):I.onMessageHandler.next(mi(k)));const Z=k.data;(function F(I){return"object"==typeof I&&!!I&&re in I})(Z)&&"1"===Z[nt]&&(yield function pr(I,R,k){return Yn.apply(this,arguments)}(I,k.messageType,Z))}),at.apply(this,arguments)}const Or="@firebase/messaging",ys=I=>{const R=new Ge(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),I.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Zo(I,R){return at.apply(this,arguments)}(R,k)),R},rn=I=>{const R=I.getProvider("messaging").getImmediate();return{getToken:Z=>function Dr(I,R){return Tn.apply(this,arguments)}(R,Z)}};function Yo(){return jt.apply(this,arguments)}function jt(){return(jt=(0,ce.Z)(function*(){try{yield(0,Ue.eu)()}catch{return!1}return typeof window<"u"&&(0,Ue.hl)()&&(0,Ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Dn(){(0,Ie.Xd)(new ie.wA("messaging",ys,"PUBLIC")),(0,Ie.Xd)(new ie.wA("messaging-internal",rn,"PRIVATE")),(0,Ie.KN)(Or,"0.12.4"),(0,Ie.KN)(Or,"0.12.4","esm2017")}();const Xa="analytics",ic="firebase_id",Do="origin",xu=6e4,xi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fa="https://www.googletagmanager.com/gtag/js",vn=new _e.Yd("@firebase/analytics"),ns=new Ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Pi(I){if(!I.startsWith(Fa)){const R=ns.create("invalid-gtag-resource",{gtagURL:I});return vn.warn(R.message),""}return I}function Mn(I){return Promise.all(I.map(R=>R.catch(k=>k)))}function Vt(){return(Vt=(0,ce.Z)(function*(I,R,k,Z,ye,Pe){const We=Z[ye];try{if(We)yield R[We];else{const Gt=(yield Mn(k)).find(Sn=>Sn.measurementId===ye);Gt&&(yield R[Gt.appId])}}catch(qt){vn.error(qt)}I("config",ye,Pe)})).apply(this,arguments)}function fu(){return(fu=(0,ce.Z)(function*(I,R,k,Z,ye){try{let Pe=[];if(ye&&ye.send_to){let We=ye.send_to;Array.isArray(We)||(We=[We]);const qt=yield Mn(k);for(const Gt of We){const Sn=qt.find(tr=>tr.measurementId===Gt),Qn=Sn&&R[Sn.appId];if(!Qn){Pe=[];break}Pe.push(Qn)}}0===Pe.length&&(Pe=Object.values(R)),yield Promise.all(Pe),I("event",Z,ye||{})}catch(Pe){vn.error(Pe)}})).apply(this,arguments)}const sc=30,ia=new class Ja{constructor(R={},k=1e3){this.throttleMetadata=R,this.intervalMillis=k}getThrottleMetadata(R){return this.throttleMetadata[R]}setThrottleMetadata(R,k){this.throttleMetadata[R]=k}deleteThrottleMetadata(R){delete this.throttleMetadata[R]}};function wo(I){return new Headers({Accept:"application/json","x-goog-api-key":I})}function Ns(){return(Ns=(0,ce.Z)(function*(I){var R;const{appId:k,apiKey:Z}=I,ye={method:"GET",headers:wo(Z)},Pe=xi.replace("{app-id}",k),We=yield fetch(Pe,ye);if(200!==We.status&&304!==We.status){let qt="";try{const Gt=yield We.json();null!==(R=Gt.error)&&void 0!==R&&R.message&&(qt=Gt.error.message)}catch{}throw ns.create("config-fetch-failed",{httpStatus:We.status,responseMessage:qt})}return We.json()})).apply(this,arguments)}function Ws(){return(Ws=(0,ce.Z)(function*(I,R=ia,k){const{appId:Z,apiKey:ye,measurementId:Pe}=I.options;if(!Z)throw ns.create("no-app-id");if(!ye){if(Pe)return{measurementId:Pe,appId:Z};throw ns.create("no-api-key")}const We=R.getThrottleMetadata(Z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},qt=new Nu;return setTimeout((0,ce.Z)(function*(){qt.abort()}),void 0!==k?k:xu),pu({appId:Z,apiKey:ye,measurementId:Pe},We,qt,R)})).apply(this,arguments)}function pu(I,R,k){return Be.apply(this,arguments)}function Be(){return Be=(0,ce.Z)(function*(I,{throttleEndTimeMillis:R,backoffCount:k},Z,ye=ia){var Pe;const{appId:We,measurementId:qt}=I;try{yield function Bo(I,R){return new Promise((k,Z)=>{const ye=Math.max(R-Date.now(),0),Pe=setTimeout(k,ye);I.addEventListener(()=>{clearTimeout(Pe),Z(ns.create("fetch-throttle",{throttleEndTimeMillis:R}))})})}(Z,R)}catch(Gt){if(qt)return vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qt} provided in the "measurementId" field in the local Firebase config. [${Gt?.message}]`),{appId:We,measurementId:qt};throw Gt}try{const Gt=yield function eu(I){return Ns.apply(this,arguments)}(I);return ye.deleteThrottleMetadata(We),Gt}catch(Gt){const Sn=Gt;if(!function ao(I){if(!(I instanceof Ue.ZR&&I.customData))return!1;const R=Number(I.customData.httpStatus);return 429===R||500===R||503===R||504===R}(Sn)){if(ye.deleteThrottleMetadata(We),qt)return vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qt} provided in the "measurementId" field in the local Firebase config. [${Sn?.message}]`),{appId:We,measurementId:qt};throw Gt}const Qn=503===Number(null===(Pe=Sn?.customData)||void 0===Pe?void 0:Pe.httpStatus)?(0,Ue.$s)(k,ye.intervalMillis,sc):(0,Ue.$s)(k,ye.intervalMillis),tr={throttleEndTimeMillis:Date.now()+Qn,backoffCount:k+1};return ye.setThrottleMetadata(We,tr),vn.debug(`Calling attemptFetch again in ${Qn} millis`),pu(I,tr,Z,ye)}}),Be.apply(this,arguments)}class Nu{constructor(){this.listeners=[]}addEventListener(R){this.listeners.push(R)}abort(){this.listeners.forEach(R=>R())}}let Hr,Ua;function gu(){return(gu=(0,ce.Z)(function*(I,R,k,Z,ye){if(ye&&ye.global)I("event",k,Z);else{const Pe=yield R;I("event",k,Object.assign(Object.assign({},Z),{send_to:Pe}))}})).apply(this,arguments)}function Ba(){return(Ba=(0,ce.Z)(function*(){if(!(0,Ue.hl)())return vn.warn(ns.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ue.eu)()}catch(I){return vn.warn(ns.create("indexeddb-unavailable",{errorInfo:I?.toString()}).message),!1}return!0})).apply(this,arguments)}function $o(){return $o=(0,ce.Z)(function*(I,R,k,Z,ye,Pe,We){var qt;const Gt=function sa(I){return Ws.apply(this,arguments)}(I);Gt.then(ks=>{k[ks.measurementId]=ks.appId,I.options.measurementId&&ks.measurementId!==I.options.measurementId&&vn.warn(`The measurement ID in the local Firebase config (${I.options.measurementId}) does not match the measurement ID fetched from the server (${ks.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ks=>vn.error(ks)),R.push(Gt);const Sn=function Vo(){return Ba.apply(this,arguments)}().then(ks=>{if(ks)return Z.getId()}),[Qn,tr]=yield Promise.all([Gt,Sn]);(function vo(I){const R=window.document.getElementsByTagName("script");for(const k of Object.values(R))if(k.src&&k.src.includes(Fa)&&k.src.includes(I))return k;return null})(Pe)||function kr(I,R){const k=function rs(I,R){let k;return window.trustedTypes&&(k=window.trustedTypes.createPolicy(I,R)),k}("firebase-js-sdk-policy",{createScriptURL:Pi}),Z=document.createElement("script"),ye=`${Fa}?l=${I}&id=${R}`;Z.src=k?k?.createScriptURL(ye):ye,Z.async=!0,document.head.appendChild(Z)}(Pe,Qn.measurementId),Ua&&(ye("consent","default",Ua),function tu(I){Ua=I}(void 0)),ye("js",new Date);const So=null!==(qt=We?.config)&&void 0!==qt?qt:{};return So[Do]="firebase",So.update=!0,null!=tr&&(So[ic]=tr),ye("config",Qn.measurementId,So),Hr&&(ye("set",Hr),function Wi(I){Hr=I}(void 0)),Qn.measurementId}),$o.apply(this,arguments)}class Fu{constructor(R){this.app=R}_delete(){return delete Ta[this.app.options.appId],Promise.resolve()}}let Ta={},y=[];const v={};let N,z,g="dataLayer",S="gtag",K=!1;function Jt(I,R,k){!function lt(){const I=[];if((0,Ue.ru)()&&I.push("This is a browser extension environment."),(0,Ue.zI)()||I.push("Cookies are not available."),I.length>0){const R=I.map((Z,ye)=>`(${ye+1}) ${Z}`).join(" "),k=ns.create("invalid-analytics-context",{errorInfo:R});vn.warn(k.message)}}();const Z=I.options.appId;if(!Z)throw ns.create("no-app-id");if(!I.options.apiKey){if(!I.options.measurementId)throw ns.create("no-api-key");vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${I.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ta[Z])throw ns.create("already-exists",{id:Z});if(!K){!function ra(I){let R=[];Array.isArray(window[I])?R=window[I]:window[I]=R}(g);const{wrappedGtag:Pe,gtagCore:We}=function Pu(I,R,k,Z,ye){let Pe=function(...We){window[Z].push(arguments)};return window[ye]&&"function"==typeof window[ye]&&(Pe=window[ye]),window[ye]=function Qo(I,R,k,Z){function Pe(){return Pe=(0,ce.Z)(function*(We,...qt){try{if("event"===We){const[Gt,Sn]=qt;yield function oo(I,R,k,Z,ye){return fu.apply(this,arguments)}(I,R,k,Gt,Sn)}else if("config"===We){const[Gt,Sn]=qt;yield function Ui(I,R,k,Z,ye,Pe){return Vt.apply(this,arguments)}(I,R,k,Z,Gt,Sn)}else if("consent"===We){const[Gt]=qt;I("consent","update",Gt)}else if("get"===We){const[Gt,Sn,Qn]=qt;I("get",Gt,Sn,Qn)}else if("set"===We){const[Gt]=qt;I("set",Gt)}else I(We,...qt)}catch(Gt){vn.error(Gt)}}),Pe.apply(this,arguments)}return function ye(We){return Pe.apply(this,arguments)}}(Pe,I,R,k),{gtagCore:Pe,wrappedGtag:window[ye]}}(Ta,y,v,g,S);z=Pe,N=We,K=!0}return Ta[Z]=function Ia(I,R,k,Z,ye,Pe,We){return $o.apply(this,arguments)}(I,y,v,R,N,g,k),new Fu(I)}function _s(){return uo.apply(this,arguments)}function uo(){return(uo=(0,ce.Z)(function*(){if((0,Ue.ru)()||!(0,Ue.zI)()||!(0,Ue.hl)())return!1;try{return yield(0,Ue.eu)()}catch{return!1}})).apply(this,arguments)}const ja="@firebase/analytics";!function Ni(){(0,Ie.Xd)(new ie.wA(Xa,(R,{options:k})=>Jt(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,Ie.Xd)(new ie.wA("analytics-internal",function I(R){try{const k=R.getProvider(Xa).getImmediate();return{logEvent:(Z,ye,Pe)=>function $a(I,R,k,Z){I=(0,Ue.m9)(I),function wa(I,R,k,Z,ye){return gu.apply(this,arguments)}(z,Ta[I.app.options.appId],R,k,Z).catch(ye=>vn.error(ye))}(k,Z,ye,Pe)}}catch(k){throw ns.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,Ie.KN)(ja,"0.10.0"),(0,Ie.KN)(ja,"0.10.0","esm2017")}();var Ha=X(727);class Xo extends Ha.w0{constructor(R,k){super()}schedule(R,k=0){return this}}const co={setInterval(I,R,...k){const{delegate:Z}=co;return Z?.setInterval?Z.setInterval(I,R,...k):setInterval(I,R,...k)},clearInterval(I){const{delegate:R}=co;return(R?.clearInterval||clearInterval)(I)},delegate:void 0};var fd=X(8737);class ac extends Xo{constructor(R,k){super(R,k),this.scheduler=R,this.work=k,this.pending=!1}schedule(R,k=0){var Z;if(this.closed)return this;this.state=R;const ye=this.id,Pe=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(Pe,ye,k)),this.pending=!0,this.delay=k,this.id=null!==(Z=this.id)&&void 0!==Z?Z:this.requestAsyncId(Pe,this.id,k),this}requestAsyncId(R,k,Z=0){return co.setInterval(R.flush.bind(R,this),Z)}recycleAsyncId(R,k,Z=0){if(null!=Z&&this.delay===Z&&!1===this.pending)return k;null!=k&&co.clearInterval(k)}execute(R,k){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Z=this._execute(R,k);if(Z)return Z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(R,k){let ye,Z=!1;try{this.work(R)}catch(Pe){Z=!0,ye=Pe||new Error("Scheduled action threw falsy error")}if(Z)return this.unsubscribe(),ye}unsubscribe(){if(!this.closed){const{id:R,scheduler:k}=this,{actions:Z}=k;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fd.P)(Z,this),null!=R&&(this.id=this.recycleAsyncId(k,R,null)),this.delay=null,super.unsubscribe()}}}const pd={now:()=>(pd.delegate||Date).now(),delegate:void 0};class bo{constructor(R,k=bo.now){this.schedulerActionCtor=R,this.now=k}schedule(R,k=0,Z){return new this.schedulerActionCtor(this,R).schedule(Z,k)}}bo.now=pd.now;class os extends bo{constructor(R,k=bo.now){super(R,k),this.actions=[],this._active=!1}flush(R){const{actions:k}=this;if(this._active)return void k.push(R);let Z;this._active=!0;do{if(Z=R.execute(R.state,R.delay))break}while(R=k.shift());if(this._active=!1,Z){for(;R=k.shift();)R.unsubscribe();throw Z}}}const ba=new class Da extends os{}(class Os extends ac{constructor(R,k){super(R,k),this.scheduler=R,this.work=k}schedule(R,k=0){return k>0?super.schedule(R,k):(this.delay=k,this.state=R,this.scheduler.flush(this),this)}execute(R,k){return k>0||this.closed?super.execute(R,k):this._execute(R,k)}requestAsyncId(R,k,Z=0){return null!=Z&&Z>0||null==Z&&this.delay>0?super.requestAsyncId(R,k,Z):(R.flush(this),0)}}),nu=new os(ac);var Sa=X(9751),oa=X(8505),mu=X(9468),Ca=X(5363);const aa=new C.GfV("7.6.1"),ua="__angularfire_symbol__analyticsIsSupportedValue",ca="__angularfire_symbol__analyticsIsSupported",Lc="__angularfire_symbol__remoteConfigIsSupportedValue",la="__angularfire_symbol__remoteConfigIsSupported",yu="__angularfire_symbol__messagingIsSupportedValue",Lu="__angularfire_symbol__messagingIsSupported";function Uc(I,R,k){if(R){if(1===R.length)return R[0];const Pe=R.filter(We=>We.app===k);if(1===Pe.length)return Pe[0]}return k.container.getProvider(I).getImmediate({optional:!0})}globalThis[ca]||(globalThis[ca]=_s().then(I=>globalThis[ua]=I).catch(()=>globalThis[ua]=!1)),globalThis[Lu]||(globalThis[Lu]=Yo().then(I=>globalThis[yu]=I).catch(()=>globalThis[yu]=!1)),globalThis[la]||(globalThis[la]=Di().then(I=>globalThis[Lc]=I).catch(()=>globalThis[Lc]=!1));const ru=(I,R)=>{const k=R?[R]:(0,Q.C6)(),Z=[];return k.forEach(ye=>{ye.container.getProvider(I).instances.forEach(We=>{Z.includes(We)||Z.push(We)})}),Z};function Jo(){}class iu{constructor(R,k=ba){this.zone=R,this.delegate=k}now(){return this.delegate.now()}schedule(R,k,Z){const ye=this.zone;return this.delegate.schedule(function(We){ye.runGuarded(()=>{R.apply(this,[We])})},k,Z)}}class bl{constructor(R){this.zone=R,this.task=null}call(R,k){const Z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jo,{},Jo,Jo)),k.pipe((0,oa.b)({next:Z,complete:Z,error:Z})).subscribe(R).add(Z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let da=(()=>{class I{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new iu(Zone.current)),this.insideAngular=k.run(()=>new iu(Zone.current,nu)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return I.\u0275fac=function(k){return new(k||I)(C.LFG(C.R0b))},I.\u0275prov=C.Yz7({token:I,factory:I.\u0275fac,providedIn:"root"}),I})();function Ga(){const I=globalThis.\u0275AngularFireScheduler;if(!I)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return I}function qi(I){return Ga().ngZone.run(()=>I())}function Wa(I){return Ga(),function uc(I){return function(k){return(k=k.lift(new bl(I.ngZone))).pipe((0,mu.R)(I.outsideAngular),(0,Ca.Q)(I.insideAngular))}}(Ga())(I)}const Al=(I,R)=>function(){const Z=arguments;return R&&setTimeout(()=>{"scheduled"===R.state&&R.invoke()},10),qi(()=>I.apply(void 0,Z))},su=(I,R)=>function(){let k;const Z=arguments;for(let Pe=0;Pe<arguments.length;Pe++)"function"==typeof Z[Pe]&&(R&&(k||(k=qi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jo,{},Jo,Jo)))),Z[Pe]=Al(Z[Pe],k));const ye=function Sl(I){return Ga().ngZone.runOutsideAngular(()=>I())}(()=>I.apply(this,Z));if(!R){if(ye instanceof Sa.y){const Pe=Ga();return ye.pipe((0,mu.R)(Pe.outsideAngular),(0,Ca.Q)(Pe.insideAngular))}return qi(()=>ye)}return ye instanceof Sa.y?ye.pipe(Wa):ye instanceof Promise?qi(()=>new Promise((Pe,We)=>ye.then(qt=>qi(()=>Pe(qt)),qt=>qi(()=>We(qt))))):"function"==typeof ye&&k?function(){return setTimeout(()=>{k&&"scheduled"===k.state&&k.invoke()},10),ye.apply(this,arguments)}:qi(()=>ye)}},2090:(Fn,At,X)=>{X.d(At,{$s:()=>Fr,BH:()=>ut,L:()=>yt,LL:()=>Oe,P0:()=>kt,Pz:()=>Ne,Sg:()=>Mt,UG:()=>gt,US:()=>ie,ZR:()=>dt,aH:()=>Xe,b$:()=>Nn,eu:()=>It,hl:()=>mt,m9:()=>Ur,ne:()=>Kn,pd:()=>mr,q4:()=>zn,ru:()=>Qt,tV:()=>ve,uI:()=>Ct,vZ:()=>ur,w1:()=>Pn,xO:()=>us,xb:()=>zr,z$:()=>tt,zI:()=>Tt,zd:()=>ai});const Ie=function(ae){const se=[];let Te=0;for(let rt=0;rt<ae.length;rt++){let ke=ae.charCodeAt(rt);ke<128?se[Te++]=ke:ke<2048?(se[Te++]=ke>>6|192,se[Te++]=63&ke|128):55296==(64512&ke)&&rt+1<ae.length&&56320==(64512&ae.charCodeAt(rt+1))?(ke=65536+((1023&ke)<<10)+(1023&ae.charCodeAt(++rt)),se[Te++]=ke>>18|240,se[Te++]=ke>>12&63|128,se[Te++]=ke>>6&63|128,se[Te++]=63&ke|128):(se[Te++]=ke>>12|224,se[Te++]=ke>>6&63|128,se[Te++]=63&ke|128)}return se},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ae,se){if(!Array.isArray(ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Te=se?this.byteToCharMapWebSafe_:this.byteToCharMap_,rt=[];for(let ke=0;ke<ae.length;ke+=3){const $t=ae[ke],we=ke+1<ae.length,fe=we?ae[ke+1]:0,ee=ke+2<ae.length,Ee=ee?ae[ke+2]:0;let Kt=(15&fe)<<2|Ee>>6,tn=63&Ee;ee||(tn=64,we||(Kt=64)),rt.push(Te[$t>>2],Te[(3&$t)<<4|fe>>4],Te[Kt],Te[tn])}return rt.join("")},encodeString(ae,se){return this.HAS_NATIVE_SUPPORT&&!se?btoa(ae):this.encodeByteArray(Ie(ae),se)},decodeString(ae,se){return this.HAS_NATIVE_SUPPORT&&!se?atob(ae):function(ae){const se=[];let Te=0,rt=0;for(;Te<ae.length;){const ke=ae[Te++];if(ke<128)se[rt++]=String.fromCharCode(ke);else if(ke>191&&ke<224){const $t=ae[Te++];se[rt++]=String.fromCharCode((31&ke)<<6|63&$t)}else if(ke>239&&ke<365){const ee=((7&ke)<<18|(63&ae[Te++])<<12|(63&ae[Te++])<<6|63&ae[Te++])-65536;se[rt++]=String.fromCharCode(55296+(ee>>10)),se[rt++]=String.fromCharCode(56320+(1023&ee))}else{const $t=ae[Te++],we=ae[Te++];se[rt++]=String.fromCharCode((15&ke)<<12|(63&$t)<<6|63&we)}}return se.join("")}(this.decodeStringToByteArray(ae,se))},decodeStringToByteArray(ae,se){this.init_();const Te=se?this.charToByteMapWebSafe_:this.charToByteMap_,rt=[];for(let ke=0;ke<ae.length;){const $t=Te[ae.charAt(ke++)],fe=ke<ae.length?Te[ae.charAt(ke)]:0;++ke;const Ee=ke<ae.length?Te[ae.charAt(ke)]:64;++ke;const ft=ke<ae.length?Te[ae.charAt(ke)]:64;if(++ke,null==$t||null==fe||null==Ee||null==ft)throw new _e;rt.push($t<<2|fe>>4),64!==Ee&&(rt.push(fe<<4&240|Ee>>2),64!==ft&&rt.push(Ee<<6&192|ft))}return rt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ae=0;ae<this.ENCODED_VALS.length;ae++)this.byteToCharMap_[ae]=this.ENCODED_VALS.charAt(ae),this.charToByteMap_[this.byteToCharMap_[ae]]=ae,this.byteToCharMapWebSafe_[ae]=this.ENCODED_VALS_WEBSAFE.charAt(ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ae]]=ae,ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ae)]=ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ae)]=ae)}}};class _e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yt=function(ae){return function(ae){const se=Ie(ae);return ie.encodeByteArray(se,!0)}(ae).replace(/\./g,"")},ve=function(ae){try{return ie.decodeString(ae,!0)}catch(se){console.error("base64Decode failed: ",se)}return null},an=()=>{try{return function me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ae=process.env.__FIREBASE_DEFAULTS__;return ae?JSON.parse(ae):void 0})()||(()=>{if(typeof document>"u")return;let ae;try{ae=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const se=ae&&ve(ae[1]);return se&&JSON.parse(se)})()}catch(ae){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ae}`)}},zn=ae=>{var se,Te;return null===(Te=null===(se=an())||void 0===se?void 0:se.emulatorHosts)||void 0===Te?void 0:Te[ae]},kt=ae=>{const se=zn(ae);if(!se)return;const Te=se.lastIndexOf(":");if(Te<=0||Te+1===se.length)throw new Error(`Invalid host ${se} with no separate hostname and port!`);const rt=parseInt(se.substring(Te+1),10);return"["===se[0]?[se.substring(1,Te-1),rt]:[se.substring(0,Te),rt]},Xe=()=>{var ae;return null===(ae=an())||void 0===ae?void 0:ae.config},Ne=ae=>{var se;return null===(se=an())||void 0===se?void 0:se[`_${ae}`]};class ut{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((se,Te)=>{this.resolve=se,this.reject=Te})}wrapCallback(se){return(Te,rt)=>{Te?this.reject(Te):this.resolve(rt),"function"==typeof se&&(this.promise.catch(()=>{}),1===se.length?se(Te):se(Te,rt))}}}function Mt(ae,se){if(ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const rt=se||"demo-project",ke=ae.iat||0,$t=ae.sub||ae.user_id;if(!$t)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const we=Object.assign({iss:`https://securetoken.google.com/${rt}`,aud:rt,iat:ke,exp:ke+3600,auth_time:ke,sub:$t,user_id:$t,firebase:{sign_in_provider:"custom",identities:{}}},ae);return[yt(JSON.stringify({alg:"none",type:"JWT"})),yt(JSON.stringify(we)),""].join(".")}function tt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ct(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function gt(){var ae;const se=null===(ae=an())||void 0===ae?void 0:ae.forceEnvironment;if("node"===se)return!0;if("browser"===se)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Qt(){const ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ae&&void 0!==ae.id}function Nn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pn(){const ae=tt();return ae.indexOf("MSIE ")>=0||ae.indexOf("Trident/")>=0}function mt(){try{return"object"==typeof indexedDB}catch{return!1}}function It(){return new Promise((ae,se)=>{try{let Te=!0;const rt="validate-browser-context-for-indexeddb-analytics-module",ke=self.indexedDB.open(rt);ke.onsuccess=()=>{ke.result.close(),Te||self.indexedDB.deleteDatabase(rt),ae(!0)},ke.onupgradeneeded=()=>{Te=!1},ke.onerror=()=>{var $t;se((null===($t=ke.error)||void 0===$t?void 0:$t.message)||"")}}catch(Te){se(Te)}})}function Tt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class dt extends Error{constructor(se,Te,rt){super(Te),this.code=se,this.customData=rt,this.name="FirebaseError",Object.setPrototypeOf(this,dt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oe.prototype.create)}}class Oe{constructor(se,Te,rt){this.service=se,this.serviceName=Te,this.errors=rt}create(se,...Te){const rt=Te[0]||{},ke=`${this.service}/${se}`,$t=this.errors[se],we=$t?function be(ae,se){return ae.replace(bt,(Te,rt)=>{const ke=se[rt];return null!=ke?String(ke):`<${rt}?>`})}($t,rt):"Error";return new dt(ke,`${this.serviceName}: ${we} (${ke}).`,rt)}}const bt=/\{\$([^}]+)}/g;function zr(ae){for(const se in ae)if(Object.prototype.hasOwnProperty.call(ae,se))return!1;return!0}function ur(ae,se){if(ae===se)return!0;const Te=Object.keys(ae),rt=Object.keys(se);for(const ke of Te){if(!rt.includes(ke))return!1;const $t=ae[ke],we=se[ke];if(Oi($t)&&Oi(we)){if(!ur($t,we))return!1}else if($t!==we)return!1}for(const ke of rt)if(!Te.includes(ke))return!1;return!0}function Oi(ae){return null!==ae&&"object"==typeof ae}function us(ae){const se=[];for(const[Te,rt]of Object.entries(ae))Array.isArray(rt)?rt.forEach(ke=>{se.push(encodeURIComponent(Te)+"="+encodeURIComponent(ke))}):se.push(encodeURIComponent(Te)+"="+encodeURIComponent(rt));return se.length?"&"+se.join("&"):""}function ai(ae){const se={};return ae.replace(/^\?/,"").split("&").forEach(rt=>{if(rt){const[ke,$t]=rt.split("=");se[decodeURIComponent(ke)]=decodeURIComponent($t)}}),se}function mr(ae){const se=ae.indexOf("?");if(!se)return"";const Te=ae.indexOf("#",se);return ae.substring(se,Te>0?Te:void 0)}function Kn(ae,se){const Te=new vt(ae,se);return Te.subscribe.bind(Te)}class vt{constructor(se,Te){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Te,this.task.then(()=>{se(this)}).catch(rt=>{this.error(rt)})}next(se){this.forEachObserver(Te=>{Te.next(se)})}error(se){this.forEachObserver(Te=>{Te.error(se)}),this.close(se)}complete(){this.forEachObserver(se=>{se.complete()}),this.close()}subscribe(se,Te,rt){let ke;if(void 0===se&&void 0===Te&&void 0===rt)throw new Error("Missing Observer.");ke=function Ln(ae,se){if("object"!=typeof ae||null===ae)return!1;for(const Te of se)if(Te in ae&&"function"==typeof ae[Te])return!0;return!1}(se,["next","error","complete"])?se:{next:se,error:Te,complete:rt},void 0===ke.next&&(ke.next=Xn),void 0===ke.error&&(ke.error=Xn),void 0===ke.complete&&(ke.complete=Xn);const $t=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ke.error(this.finalError):ke.complete()}catch{}}),this.observers.push(ke),$t}unsubscribeOne(se){void 0===this.observers||void 0===this.observers[se]||(delete this.observers[se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(se){if(!this.finalized)for(let Te=0;Te<this.observers.length;Te++)this.sendOne(Te,se)}sendOne(se,Te){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[se])try{Te(this.observers[se])}catch(rt){typeof console<"u"&&console.error&&console.error(rt)}})}close(se){this.finalized||(this.finalized=!0,void 0!==se&&(this.finalError=se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xn(){}const Cr=1e3,Ai=2,Vr=144e5,Cn=.5;function Fr(ae,se=Cr,Te=Ai){const rt=se*Math.pow(Te,ae),ke=Math.round(Cn*rt*(Math.random()-.5)*2);return Math.min(Vr,rt+ke)}function Ur(ae){return ae&&ae._delegate?ae._delegate:ae}},4662:(Fn,At,X)=>{var C=X(1481),Q=X(6557),ce=X(8256);const Ie=[{path:"",redirectTo:"bienvenido",pathMatch:"full"},{path:"bienvenido",title:"Bienvenido",loadComponent:()=>Promise.all([X.e(592),X.e(217)]).then(X.bind(X,1493)).then($=>$.BienvenidoComponent)},{path:"register",title:"Crear cuenta",loadComponent:()=>Promise.all([X.e(653),X.e(592),X.e(618)]).then(X.bind(X,2618)).then($=>$.RegisterComponent)},{path:"login",title:"Iniciar Ses\xedon",loadComponent:()=>Promise.all([X.e(653),X.e(643)]).then(X.bind(X,5643)).then($=>$.LoginComponent)},{path:"usuarios",title:"Usuarios",loadComponent:()=>Promise.all([X.e(592),X.e(898)]).then(X.bind(X,6898)).then($=>$.UsuariosComponent)}];let Ue=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=ce.oAB({type:$}),$.\u0275inj=ce.cJS({imports:[Q.Bz.forRoot(Ie),Q.Bz]}),$})();var ie=X(7340);function St($){return new ce.vHH(3e3,!1)}function un(){return typeof window<"u"&&typeof window.document<"u"}function xn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function cn($){switch($.length){case 0:return new ie.ZN;case 1:return $[0];default:return new ie.ZE($)}}function Mr($,_,w,P,H=new Map,J=new Map){const de=[],ge=[];let Re=-1,st=null;if(P.forEach(zt=>{const Yt=zt.get("offset"),Hn=Yt==Re,$n=Hn&&st||new Map;zt.forEach((In,kn)=>{let cr=kn,vr=In;if("offset"!==kn)switch(cr=_.normalizePropertyName(cr,de),vr){case ie.k1:vr=H.get(kn);break;case ie.l3:vr=J.get(kn);break;default:vr=_.normalizeStyleValue(kn,cr,vr,de)}$n.set(cr,vr)}),Hn||ge.push($n),st=$n,Re=Yt}),de.length)throw function Pn($){return new ce.vHH(3502,!1)}();return ge}function rr($,_,w,P){switch(_){case"start":$.onStart(()=>P(w&&ir(w,"start",$)));break;case"done":$.onDone(()=>P(w&&ir(w,"done",$)));break;case"destroy":$.onDestroy(()=>P(w&&ir(w,"destroy",$)))}}function ir($,_,w){const J=Tr($.element,$.triggerName,$.fromState,$.toState,_||$.phaseName,w.totalTime??$.totalTime,!!w.disabled),de=$._data;return null!=de&&(J._data=de),J}function Tr($,_,w,P,H="",J=0,de){return{element:$,triggerName:_,fromState:w,toState:P,phaseName:H,totalTime:J,disabled:!!de}}function gr($,_,w){let P=$.get(_);return P||$.set(_,P=w),P}function zr($){const _=$.indexOf(":");return[$.substring(1,_),$.slice(_+1)]}let nn=($,_)=>!1,ur=($,_,w)=>[],Oi=null;function yi($){const _=$.parentNode||$.host;return _===Oi?null:_}(xn()||typeof Element<"u")&&(un()?(Oi=(()=>document.documentElement)(),nn=($,_)=>{for(;_;){if(_===$)return!0;_=yi(_)}return!1}):nn=($,_)=>$.contains(_),ur=($,_,w)=>{if(w)return Array.from($.querySelectorAll(_));const P=$.querySelector(_);return P?[P]:[]});let mr=null,Ci=!1;const Ln=nn,Xn=ur;let hi=(()=>{class ${validateStyleProperty(w){return function Kn($){mr||(mr=function _n(){return typeof document<"u"?document.body:null}()||{},Ci=!!mr.style&&"WebkitAppearance"in mr.style);let _=!0;return mr.style&&!function ai($){return"ebkit"==$.substring(1,6)}($)&&(_=$ in mr.style,!_&&Ci&&(_="Webkit"+$.charAt(0).toUpperCase()+$.slice(1)in mr.style)),_}(w)}matchesElement(w,P){return!1}containsElement(w,P){return Ln(w,P)}getParentElement(w){return yi(w)}query(w,P,H){return Xn(w,P,H)}computeStyle(w,P,H){return H||""}animate(w,P,H,J,de,ge=[],Re){return new ie.ZN(H,J)}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275prov=ce.Yz7({token:$,factory:$.\u0275fac}),$})(),Bn=(()=>{class ${}return $.NOOP=new hi,$})();const _i=1e3,Gn="ng-enter",ui="ng-leave",Cr="ng-trigger",Ai=".ng-trigger",Vr="ng-animating",Cn=".ng-animating";function Fr($){if("number"==typeof $)return $;const _=$.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:sr(parseFloat(_[1]),_[2])}function sr($,_){return"s"===_?$*_i:$}function ln($,_,w){return $.hasOwnProperty("duration")?$:function Ur($,_,w){let H,J=0,de="";if("string"==typeof $){const ge=$.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ge)return _.push(St()),{duration:0,delay:0,easing:""};H=sr(parseFloat(ge[1]),ge[2]);const Re=ge[3];null!=Re&&(J=sr(parseFloat(Re),ge[4]));const st=ge[5];st&&(de=st)}else H=$;if(!w){let ge=!1,Re=_.length;H<0&&(_.push(function yt(){return new ce.vHH(3100,!1)}()),ge=!0),J<0&&(_.push(function ve(){return new ce.vHH(3101,!1)}()),ge=!0),ge&&_.splice(Re,0,St())}return{duration:H,delay:J,easing:de}}($,_,w)}function ae($,_={}){return Object.keys($).forEach(w=>{_[w]=$[w]}),_}function se($){const _=new Map;return Object.keys($).forEach(w=>{_.set(w,$[w])}),_}function ke($,_=new Map,w){if(w)for(let[P,H]of w)_.set(P,H);for(let[P,H]of $)_.set(P,H);return _}function $t($,_,w){return w?_+":"+w+";":""}function we($){let _="";for(let w=0;w<$.style.length;w++){const P=$.style.item(w);_+=$t(0,P,$.style.getPropertyValue(P))}for(const w in $.style)$.style.hasOwnProperty(w)&&!w.startsWith("_")&&(_+=$t(0,Le(w),$.style[w]));$.setAttribute("style",_)}function fe($,_,w){$.style&&(_.forEach((P,H)=>{const J=He(H);w&&!w.has(H)&&w.set(H,$.style[J]),$.style[J]=P}),xn()&&we($))}function ee($,_){$.style&&(_.forEach((w,P)=>{const H=He(P);$.style[H]=""}),xn()&&we($))}function Ee($){return Array.isArray($)?1==$.length?$[0]:(0,ie.vP)($):$}const ft=new RegExp("{{\\s*(.+?)\\s*}}","g");function Kt($){let _=[];if("string"==typeof $){let w;for(;w=ft.exec($);)_.push(w[1]);ft.lastIndex=0}return _}function tn($,_,w){const P=$.toString(),H=P.replace(ft,(J,de)=>{let ge=_[de];return null==ge&&(w.push(function Ye($){return new ce.vHH(3003,!1)}()),ge=""),ge.toString()});return H==P?$:H}function or($){const _=[];let w=$.next();for(;!w.done;)_.push(w.value),w=$.next();return _}const Ii=/-+([a-z0-9])/g;function He($){return $.replace(Ii,(..._)=>_[1].toUpperCase())}function Le($){return $.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function gn($,_,w){switch(_.type){case 7:return $.visitTrigger(_,w);case 0:return $.visitState(_,w);case 1:return $.visitTransition(_,w);case 2:return $.visitSequence(_,w);case 3:return $.visitGroup(_,w);case 4:return $.visitAnimate(_,w);case 5:return $.visitKeyframes(_,w);case 6:return $.visitStyle(_,w);case 8:return $.visitReference(_,w);case 9:return $.visitAnimateChild(_,w);case 10:return $.visitAnimateRef(_,w);case 11:return $.visitQuery(_,w);case 12:return $.visitStagger(_,w);default:throw function _t($){return new ce.vHH(3004,!1)}()}}function Un($,_){return window.getComputedStyle($)[_]}const ps="*";function Wn($,_){const w=[];return"string"==typeof $?$.split(/\s*,\s*/).forEach(P=>function $r($,_,w){if(":"==$[0]){const Re=function Zr($,_){switch($){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(w,P)=>parseFloat(P)>parseFloat(w);case":decrement":return(w,P)=>parseFloat(P)<parseFloat(w);default:return _.push(function en($){return new ce.vHH(3016,!1)}()),"* => *"}}($,w);if("function"==typeof Re)return void _.push(Re);$=Re}const P=$.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==P||P.length<4)return w.push(function gt($){return new ce.vHH(3015,!1)}()),_;const H=P[1],J=P[2],de=P[3];_.push(Vi(H,de));"<"==J[0]&&!(H==ps&&de==ps)&&_.push(Vi(de,H))}(P,w,_)):w.push($),w}const Zi=new Set(["true","1"]),On=new Set(["false","0"]);function Vi($,_){const w=Zi.has($)||On.has($),P=Zi.has(_)||On.has(_);return(H,J)=>{let de=$==ps||$==H,ge=_==ps||_==J;return!de&&w&&"boolean"==typeof H&&(de=H?Zi.has($):On.has($)),!ge&&P&&"boolean"==typeof J&&(ge=J?Zi.has(_):On.has(_)),de&&ge}}const cs=new RegExp("s*:selfs*,?","g");function Yi($,_,w,P){return new le($).build(_,w,P)}class le{constructor(_){this._driver=_}build(_,w,P){const H=new xt(w);return this._resetContextStyleTimingState(H),gn(this,Ee(_),H)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,w){let P=w.queryCount=0,H=w.depCount=0;const J=[],de=[];return"@"==_.name.charAt(0)&&w.errors.push(function Ot(){return new ce.vHH(3006,!1)}()),_.definitions.forEach(ge=>{if(this._resetContextStyleTimingState(w),0==ge.type){const Re=ge,st=Re.name;st.toString().split(/\s*,\s*/).forEach(zt=>{Re.name=zt,J.push(this.visitState(Re,w))}),Re.name=st}else if(1==ge.type){const Re=this.visitTransition(ge,w);P+=Re.queryCount,H+=Re.depCount,de.push(Re)}else w.errors.push(function Ke(){return new ce.vHH(3007,!1)}())}),{type:7,name:_.name,states:J,transitions:de,queryCount:P,depCount:H,options:null}}visitState(_,w){const P=this.visitStyle(_.styles,w),H=_.options&&_.options.params||null;if(P.containsDynamicStyles){const J=new Set,de=H||{};P.styles.forEach(ge=>{ge instanceof Map&&ge.forEach(Re=>{Kt(Re).forEach(st=>{de.hasOwnProperty(st)||J.add(st)})})}),J.size&&(or(J.values()),w.errors.push(function Ut($,_){return new ce.vHH(3008,!1)}()))}return{type:0,name:_.name,style:P,options:H?{params:H}:null}}visitTransition(_,w){w.queryCount=0,w.depCount=0;const P=gn(this,Ee(_.animation),w);return{type:1,matchers:Wn(_.expr,w.errors),animation:P,queryCount:w.queryCount,depCount:w.depCount,options:mn(_.options)}}visitSequence(_,w){return{type:2,steps:_.steps.map(P=>gn(this,P,w)),options:mn(_.options)}}visitGroup(_,w){const P=w.currentTime;let H=0;const J=_.steps.map(de=>{w.currentTime=P;const ge=gn(this,de,w);return H=Math.max(H,w.currentTime),ge});return w.currentTime=H,{type:3,steps:J,options:mn(_.options)}}visitAnimate(_,w){const P=function Jn($,_){if($.hasOwnProperty("duration"))return $;if("number"==typeof $)return Vn(ln($,_).duration,0,"");const w=$;if(w.split(/\s+/).some(J=>"{"==J.charAt(0)&&"{"==J.charAt(1))){const J=Vn(0,0,"");return J.dynamic=!0,J.strValue=w,J}const H=ln(w,_);return Vn(H.duration,H.delay,H.easing)}(_.timings,w.errors);w.currentAnimateTimings=P;let H,J=_.styles?_.styles:(0,ie.oB)({});if(5==J.type)H=this.visitKeyframes(J,w);else{let de=_.styles,ge=!1;if(!de){ge=!0;const st={};P.easing&&(st.easing=P.easing),de=(0,ie.oB)(st)}w.currentTime+=P.duration+P.delay;const Re=this.visitStyle(de,w);Re.isEmptyStep=ge,H=Re}return w.currentAnimateTimings=null,{type:4,timings:P,style:H,options:null}}visitStyle(_,w){const P=this._makeStyleAst(_,w);return this._validateStyleAst(P,w),P}_makeStyleAst(_,w){const P=[],H=Array.isArray(_.styles)?_.styles:[_.styles];for(let ge of H)"string"==typeof ge?ge===ie.l3?P.push(ge):w.errors.push(new ce.vHH(3002,!1)):P.push(se(ge));let J=!1,de=null;return P.forEach(ge=>{if(ge instanceof Map&&(ge.has("easing")&&(de=ge.get("easing"),ge.delete("easing")),!J))for(let Re of ge.values())if(Re.toString().indexOf("{{")>=0){J=!0;break}}),{type:6,styles:P,easing:de,offset:_.offset,containsDynamicStyles:J,options:null}}_validateStyleAst(_,w){const P=w.currentAnimateTimings;let H=w.currentTime,J=w.currentTime;P&&J>0&&(J-=P.duration+P.delay),_.styles.forEach(de=>{"string"!=typeof de&&de.forEach((ge,Re)=>{const st=w.collectedStyles.get(w.currentQuerySelector),zt=st.get(Re);let Yt=!0;zt&&(J!=H&&J>=zt.startTime&&H<=zt.endTime&&(w.errors.push(function kt($,_,w,P,H){return new ce.vHH(3010,!1)}()),Yt=!1),J=zt.startTime),Yt&&st.set(Re,{startTime:J,endTime:H}),w.options&&function Qe($,_,w){const P=_.params||{},H=Kt($);H.length&&H.forEach(J=>{P.hasOwnProperty(J)||w.push(function pe($){return new ce.vHH(3001,!1)}())})}(ge,w.options,w.errors)})})}visitKeyframes(_,w){const P={type:5,styles:[],options:null};if(!w.currentAnimateTimings)return w.errors.push(function Xe(){return new ce.vHH(3011,!1)}()),P;let J=0;const de=[];let ge=!1,Re=!1,st=0;const zt=_.steps.map(vr=>{const wr=this._makeStyleAst(vr,w);let Nr=null!=wr.offset?wr.offset:function Xt($){if("string"==typeof $)return null;let _=null;if(Array.isArray($))$.forEach(w=>{if(w instanceof Map&&w.has("offset")){const P=w;_=parseFloat(P.get("offset")),P.delete("offset")}});else if($ instanceof Map&&$.has("offset")){const w=$;_=parseFloat(w.get("offset")),w.delete("offset")}return _}(wr.styles),li=0;return null!=Nr&&(J++,li=wr.offset=Nr),Re=Re||li<0||li>1,ge=ge||li<st,st=li,de.push(li),wr});Re&&w.errors.push(function Ne(){return new ce.vHH(3012,!1)}()),ge&&w.errors.push(function ut(){return new ce.vHH(3200,!1)}());const Yt=_.steps.length;let Hn=0;J>0&&J<Yt?w.errors.push(function Mt(){return new ce.vHH(3202,!1)}()):0==J&&(Hn=1/(Yt-1));const $n=Yt-1,In=w.currentTime,kn=w.currentAnimateTimings,cr=kn.duration;return zt.forEach((vr,wr)=>{const Nr=Hn>0?wr==$n?1:Hn*wr:de[wr],li=Nr*cr;w.currentTime=In+kn.delay+li,kn.duration=li,this._validateStyleAst(vr,w),vr.offset=Nr,P.styles.push(vr)}),P}visitReference(_,w){return{type:8,animation:gn(this,Ee(_.animation),w),options:mn(_.options)}}visitAnimateChild(_,w){return w.depCount++,{type:9,options:mn(_.options)}}visitAnimateRef(_,w){return{type:10,animation:this.visitReference(_.animation,w),options:mn(_.options)}}visitQuery(_,w){const P=w.currentQuerySelector,H=_.options||{};w.queryCount++,w.currentQuery=_;const[J,de]=function Ce($){const _=!!$.split(/\s*,\s*/).find(w=>":self"==w);return _&&($=$.replace(cs,"")),$=$.replace(/@\*/g,Ai).replace(/@\w+/g,w=>Ai+"-"+w.slice(1)).replace(/:animating/g,Cn),[$,_]}(_.selector);w.currentQuerySelector=P.length?P+" "+J:J,gr(w.collectedStyles,w.currentQuerySelector,new Map);const ge=gn(this,Ee(_.animation),w);return w.currentQuery=null,w.currentQuerySelector=P,{type:11,selector:J,limit:H.limit||0,optional:!!H.optional,includeSelf:de,animation:ge,originalSelector:_.selector,options:mn(_.options)}}visitStagger(_,w){w.currentQuery||w.errors.push(function tt(){return new ce.vHH(3013,!1)}());const P="full"===_.timings?{duration:0,delay:0,easing:"full"}:ln(_.timings,w.errors,!0);return{type:12,animation:gn(this,Ee(_.animation),w),timings:P,options:null}}}class xt{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function mn($){return $?($=ae($)).params&&($.params=function Ze($){return $?ae($):null}($.params)):$={},$}function Vn($,_,w){return{duration:$,delay:_,easing:w}}function vi($,_,w,P,H,J,de=null,ge=!1){return{type:1,element:$,keyframes:_,preStyleProps:w,postStyleProps:P,duration:H,delay:J,totalTime:H+J,easing:de,subTimeline:ge}}class An{constructor(){this._map=new Map}get(_){return this._map.get(_)||[]}append(_,w){let P=this._map.get(_);P||this._map.set(_,P=[]),P.push(...w)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const Qs=new RegExp(":enter","g"),ni=new RegExp(":leave","g");function ls($,_,w,P,H,J=new Map,de=new Map,ge,Re,st=[]){return(new Vs).buildKeyframes($,_,w,P,H,J,de,ge,Re,st)}class Vs{buildKeyframes(_,w,P,H,J,de,ge,Re,st,zt=[]){st=st||new An;const Yt=new $s(_,w,st,H,J,zt,[]);Yt.options=Re;const Hn=Re.delay?Fr(Re.delay):0;Yt.currentTimeline.delayNextStep(Hn),Yt.currentTimeline.setStyles([de],null,Yt.errors,Re),gn(this,P,Yt);const $n=Yt.timelines.filter(In=>In.containsAnimation());if($n.length&&ge.size){let In;for(let kn=$n.length-1;kn>=0;kn--){const cr=$n[kn];if(cr.element===w){In=cr;break}}In&&!In.allowOnlyTimelineStyles()&&In.setStyles([ge],null,Yt.errors,Re)}return $n.length?$n.map(In=>In.buildKeyframes()):[vi(w,[],[],[],0,Hn,"",!1)]}visitTrigger(_,w){}visitState(_,w){}visitTransition(_,w){}visitAnimateChild(_,w){const P=w.subInstructions.get(w.element);if(P){const H=w.createSubContext(_.options),J=w.currentTimeline.currentTime,de=this._visitSubInstructions(P,H,H.options);J!=de&&w.transformIntoNewTimeline(de)}w.previousNode=_}visitAnimateRef(_,w){const P=w.createSubContext(_.options);P.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],w,P),this.visitReference(_.animation,P),w.transformIntoNewTimeline(P.currentTimeline.currentTime),w.previousNode=_}_applyAnimationRefDelays(_,w,P){for(const H of _){const J=H?.delay;if(J){const de="number"==typeof J?J:Fr(tn(J,H?.params??{},w.errors));P.delayNextStep(de)}}}_visitSubInstructions(_,w,P){let J=w.currentTimeline.currentTime;const de=null!=P.duration?Fr(P.duration):null,ge=null!=P.delay?Fr(P.delay):null;return 0!==de&&_.forEach(Re=>{const st=w.appendInstructionToTimeline(Re,de,ge);J=Math.max(J,st.duration+st.delay)}),J}visitReference(_,w){w.updateOptions(_.options,!0),gn(this,_.animation,w),w.previousNode=_}visitSequence(_,w){const P=w.subContextCount;let H=w;const J=_.options;if(J&&(J.params||J.delay)&&(H=w.createSubContext(J),H.transformIntoNewTimeline(),null!=J.delay)){6==H.previousNode.type&&(H.currentTimeline.snapshotCurrentStyles(),H.previousNode=ri);const de=Fr(J.delay);H.delayNextStep(de)}_.steps.length&&(_.steps.forEach(de=>gn(this,de,H)),H.currentTimeline.applyStylesToKeyframe(),H.subContextCount>P&&H.transformIntoNewTimeline()),w.previousNode=_}visitGroup(_,w){const P=[];let H=w.currentTimeline.currentTime;const J=_.options&&_.options.delay?Fr(_.options.delay):0;_.steps.forEach(de=>{const ge=w.createSubContext(_.options);J&&ge.delayNextStep(J),gn(this,de,ge),H=Math.max(H,ge.currentTimeline.currentTime),P.push(ge.currentTimeline)}),P.forEach(de=>w.currentTimeline.mergeTimelineCollectedStyles(de)),w.transformIntoNewTimeline(H),w.previousNode=_}_visitTiming(_,w){if(_.dynamic){const P=_.strValue;return ln(w.params?tn(P,w.params,w.errors):P,w.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,w){const P=w.currentAnimateTimings=this._visitTiming(_.timings,w),H=w.currentTimeline;P.delay&&(w.incrementTime(P.delay),H.snapshotCurrentStyles());const J=_.style;5==J.type?this.visitKeyframes(J,w):(w.incrementTime(P.duration),this.visitStyle(J,w),H.applyStylesToKeyframe()),w.currentAnimateTimings=null,w.previousNode=_}visitStyle(_,w){const P=w.currentTimeline,H=w.currentAnimateTimings;!H&&P.hasCurrentStyleProperties()&&P.forwardFrame();const J=H&&H.easing||_.easing;_.isEmptyStep?P.applyEmptyStep(J):P.setStyles(_.styles,J,w.errors,w.options),w.previousNode=_}visitKeyframes(_,w){const P=w.currentAnimateTimings,H=w.currentTimeline.duration,J=P.duration,ge=w.createSubContext().currentTimeline;ge.easing=P.easing,_.styles.forEach(Re=>{ge.forwardTime((Re.offset||0)*J),ge.setStyles(Re.styles,Re.easing,w.errors,w.options),ge.applyStylesToKeyframe()}),w.currentTimeline.mergeTimelineCollectedStyles(ge),w.transformIntoNewTimeline(H+J),w.previousNode=_}visitQuery(_,w){const P=w.currentTimeline.currentTime,H=_.options||{},J=H.delay?Fr(H.delay):0;J&&(6===w.previousNode.type||0==P&&w.currentTimeline.hasCurrentStyleProperties())&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=ri);let de=P;const ge=w.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!H.optional,w.errors);w.currentQueryTotal=ge.length;let Re=null;ge.forEach((st,zt)=>{w.currentQueryIndex=zt;const Yt=w.createSubContext(_.options,st);J&&Yt.delayNextStep(J),st===w.element&&(Re=Yt.currentTimeline),gn(this,_.animation,Yt),Yt.currentTimeline.applyStylesToKeyframe(),de=Math.max(de,Yt.currentTimeline.currentTime)}),w.currentQueryIndex=0,w.currentQueryTotal=0,w.transformIntoNewTimeline(de),Re&&(w.currentTimeline.mergeTimelineCollectedStyles(Re),w.currentTimeline.snapshotCurrentStyles()),w.previousNode=_}visitStagger(_,w){const P=w.parentContext,H=w.currentTimeline,J=_.timings,de=Math.abs(J.duration),ge=de*(w.currentQueryTotal-1);let Re=de*w.currentQueryIndex;switch(J.duration<0?"reverse":J.easing){case"reverse":Re=ge-Re;break;case"full":Re=P.currentStaggerTime}const zt=w.currentTimeline;Re&&zt.delayNextStep(Re);const Yt=zt.currentTime;gn(this,_.animation,w),w.previousNode=_,P.currentStaggerTime=H.currentTime-Yt+(H.startTime-P.currentTimeline.startTime)}}const ri={};class $s{constructor(_,w,P,H,J,de,ge,Re){this._driver=_,this.element=w,this.subInstructions=P,this._enterClassName=H,this._leaveClassName=J,this.errors=de,this.timelines=ge,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ri,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Re||new Xs(this._driver,w,0),ge.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,w){if(!_)return;const P=_;let H=this.options;null!=P.duration&&(H.duration=Fr(P.duration)),null!=P.delay&&(H.delay=Fr(P.delay));const J=P.params;if(J){let de=H.params;de||(de=this.options.params={}),Object.keys(J).forEach(ge=>{(!w||!de.hasOwnProperty(ge))&&(de[ge]=tn(J[ge],de,this.errors))})}}_copyOptions(){const _={};if(this.options){const w=this.options.params;if(w){const P=_.params={};Object.keys(w).forEach(H=>{P[H]=w[H]})}}return _}createSubContext(_=null,w,P){const H=w||this.element,J=new $s(this._driver,H,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(H,P||0));return J.previousNode=this.previousNode,J.currentAnimateTimings=this.currentAnimateTimings,J.options=this._copyOptions(),J.updateOptions(_),J.currentQueryIndex=this.currentQueryIndex,J.currentQueryTotal=this.currentQueryTotal,J.parentContext=this,this.subContextCount++,J}transformIntoNewTimeline(_){return this.previousNode=ri,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,w,P){const H={duration:w??_.duration,delay:this.currentTimeline.currentTime+(P??0)+_.delay,easing:""},J=new yr(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,H,_.stretchStartingKeyframe);return this.timelines.push(J),H}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,w,P,H,J,de){let ge=[];if(H&&ge.push(this.element),_.length>0){_=(_=_.replace(Qs,"."+this._enterClassName)).replace(ni,"."+this._leaveClassName);let st=this._driver.query(this.element,_,1!=P);0!==P&&(st=P<0?st.slice(st.length+P,st.length):st.slice(0,P)),ge.push(...st)}return!J&&0==ge.length&&de.push(function Ct($){return new ce.vHH(3014,!1)}()),ge}}class Xs{constructor(_,w,P,H){this._driver=_,this.element=w,this.startTime=P,this._elementTimelineStylesLookup=H,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(w),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(w,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const w=1===this._keyframes.size&&this._pendingStyles.size;this.duration||w?(this.forwardTime(this.currentTime+_),w&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,w){return this.applyStylesToKeyframe(),new Xs(this._driver,_,w||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,w){this._localTimelineStyles.set(_,w),this._globalTimelineStyles.set(_,w),this._styleSummary.set(_,{time:this.currentTime,value:w})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[w,P]of this._globalTimelineStyles)this._backFill.set(w,P||ie.l3),this._currentKeyframe.set(w,ie.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,w,P,H){w&&this._previousKeyframe.set("easing",w);const J=H&&H.params||{},de=function fo($,_){const w=new Map;let P;return $.forEach(H=>{if("*"===H){P=P||_.keys();for(let J of P)w.set(J,ie.l3)}else ke(H,w)}),w}(_,this._globalTimelineStyles);for(let[ge,Re]of de){const st=tn(Re,J,P);this._pendingStyles.set(ge,st),this._localTimelineStyles.has(ge)||this._backFill.set(ge,this._globalTimelineStyles.get(ge)??ie.l3),this._updateStyle(ge,st)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,w)=>{this._currentKeyframe.set(w,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,w)=>{this._currentKeyframe.has(w)||this._currentKeyframe.set(w,_)}))}snapshotCurrentStyles(){for(let[_,w]of this._localTimelineStyles)this._pendingStyles.set(_,w),this._updateStyle(_,w)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let w in this._currentKeyframe)_.push(w);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((w,P)=>{const H=this._styleSummary.get(P);(!H||w.time>H.time)&&this._updateStyle(P,w.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,w=new Set,P=1===this._keyframes.size&&0===this.duration;let H=[];this._keyframes.forEach((ge,Re)=>{const st=ke(ge,new Map,this._backFill);st.forEach((zt,Yt)=>{zt===ie.k1?_.add(Yt):zt===ie.l3&&w.add(Yt)}),P||st.set("offset",Re/this.duration),H.push(st)});const J=_.size?or(_.values()):[],de=w.size?or(w.values()):[];if(P){const ge=H[0],Re=new Map(ge);ge.set("offset",0),Re.set("offset",1),H=[ge,Re]}return vi(this.element,H,J,de,this.duration,this.startTime,this.easing,!1)}}class yr extends Xs{constructor(_,w,P,H,J,de,ge=!1){super(_,w,de.delay),this.keyframes=P,this.preStyleProps=H,this.postStyleProps=J,this._stretchStartingKeyframe=ge,this.timings={duration:de.duration,delay:de.delay,easing:de.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:w,duration:P,easing:H}=this.timings;if(this._stretchStartingKeyframe&&w){const J=[],de=P+w,ge=w/de,Re=ke(_[0]);Re.set("offset",0),J.push(Re);const st=ke(_[0]);st.set("offset",bs(ge)),J.push(st);const zt=_.length-1;for(let Yt=1;Yt<=zt;Yt++){let Hn=ke(_[Yt]);const $n=Hn.get("offset");Hn.set("offset",bs((w+$n*P)/de)),J.push(Hn)}P=de,w=0,H="",_=J}return vi(this.element,_,this.preStyleProps,this.postStyleProps,P,w,H,!0)}}function bs($,_=3){const w=Math.pow(10,_-1);return Math.round($*w)/w}class Js{}const Ss=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Qi extends Js{normalizePropertyName(_,w){return He(_)}normalizeStyleValue(_,w,P,H){let J="";const de=P.toString().trim();if(Ss.has(w)&&0!==P&&"0"!==P)if("number"==typeof P)J="px";else{const ge=P.match(/^[+-]?[\d\.]+([a-z]*)$/);ge&&0==ge[1].length&&H.push(function me($,_){return new ce.vHH(3005,!1)}())}return de+J}}function Xi($,_,w,P,H,J,de,ge,Re,st,zt,Yt,Hn){return{type:0,element:$,triggerName:_,isRemovalTransition:H,fromState:w,fromStyles:J,toState:P,toStyles:de,timelines:ge,queriedElements:Re,preStyleProps:st,postStyleProps:zt,totalTime:Yt,errors:Hn}}const ei={};class Ti{constructor(_,w,P){this._triggerName=_,this.ast=w,this._stateStyles=P}match(_,w,P,H){return function Ji($,_,w,P,H){return $.some(J=>J(_,w,P,H))}(this.ast.matchers,_,w,P,H)}buildStyles(_,w,P){let H=this._stateStyles.get("*");return void 0!==_&&(H=this._stateStyles.get(_?.toString())||H),H?H.buildStyles(w,P):new Map}build(_,w,P,H,J,de,ge,Re,st,zt){const Yt=[],Hn=this.ast.options&&this.ast.options.params||ei,In=this.buildStyles(P,ge&&ge.params||ei,Yt),kn=Re&&Re.params||ei,cr=this.buildStyles(H,kn,Yt),vr=new Set,wr=new Map,Nr=new Map,li="void"===H,gi={params:_r(kn,Hn),delay:this.ast.options?.delay},mi=zt?[]:ls(_,w,this.ast.animation,J,de,In,cr,gi,st,Yt);let ar=0;if(mi.forEach(A=>{ar=Math.max(A.duration+A.delay,ar)}),Yt.length)return Xi(w,this._triggerName,P,H,li,In,cr,[],[],wr,Nr,ar,Yt);mi.forEach(A=>{const F=A.element,x=gr(wr,F,new Set);A.preStyleProps.forEach(oe=>x.add(oe));const G=gr(Nr,F,new Set);A.postStyleProps.forEach(oe=>G.add(oe)),F!==w&&vr.add(F)});const _o=or(vr.values());return Xi(w,this._triggerName,P,H,li,In,cr,mi,_o,wr,Nr,ar)}}function _r($,_){const w=ae(_);for(const P in $)$.hasOwnProperty(P)&&null!=$[P]&&(w[P]=$[P]);return w}class $i{constructor(_,w,P){this.styles=_,this.defaultParams=w,this.normalizer=P}buildStyles(_,w){const P=new Map,H=ae(this.defaultParams);return Object.keys(_).forEach(J=>{const de=_[J];null!==de&&(H[J]=de)}),this.styles.styles.forEach(J=>{"string"!=typeof J&&J.forEach((de,ge)=>{de&&(de=tn(de,H,w));const Re=this.normalizer.normalizePropertyName(ge,w);de=this.normalizer.normalizeStyleValue(ge,Re,de,w),P.set(ge,de)})}),P}}class eo{constructor(_,w,P){this.name=_,this.ast=w,this._normalizer=P,this.transitionFactories=[],this.states=new Map,w.states.forEach(H=>{this.states.set(H.name,new $i(H.style,H.options&&H.options.params||{},P))}),Mo(this.states,"true","1"),Mo(this.states,"false","0"),w.transitions.forEach(H=>{this.transitionFactories.push(new Ti(_,H,this.states))}),this.fallbackTransition=function Ro($,_,w){return new Ti($,{type:1,animation:{type:2,steps:[],options:null},matchers:[(de,ge)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,w,P,H){return this.transitionFactories.find(de=>de.match(_,w,P,H))||null}matchStyles(_,w,P){return this.fallbackTransition.buildStyles(_,w,P)}}function Mo($,_,w){$.has(_)?$.has(w)||$.set(w,$.get(_)):$.has(w)&&$.set(_,$.get(w))}const pa=new An;class po{constructor(_,w,P){this.bodyNode=_,this._driver=w,this._normalizer=P,this._animations=new Map,this._playersById=new Map,this.players=[]}register(_,w){const P=[],H=[],J=Yi(this._driver,w,P,H);if(P.length)throw function Se($){return new ce.vHH(3503,!1)}();this._animations.set(_,J)}_buildPlayer(_,w,P){const H=_.element,J=Mr(0,this._normalizer,0,_.keyframes,w,P);return this._driver.animate(H,J,_.duration,_.delay,_.easing,[],!0)}create(_,w,P={}){const H=[],J=this._animations.get(_);let de;const ge=new Map;if(J?(de=ls(this._driver,w,J,Gn,ui,new Map,new Map,P,pa,H),de.forEach(zt=>{const Yt=gr(ge,zt.element,new Map);zt.postStyleProps.forEach(Hn=>Yt.set(Hn,null))})):(H.push(function ze(){return new ce.vHH(3300,!1)}()),de=[]),H.length)throw function it($){return new ce.vHH(3504,!1)}();ge.forEach((zt,Yt)=>{zt.forEach((Hn,$n)=>{zt.set($n,this._driver.computeStyle(Yt,$n,ie.l3))})});const st=cn(de.map(zt=>{const Yt=ge.get(zt.element);return this._buildPlayer(zt,new Map,Yt)}));return this._playersById.set(_,st),st.onDestroy(()=>this.destroy(_)),this.players.push(st),st}destroy(_){const w=this._getPlayer(_);w.destroy(),this._playersById.delete(_);const P=this.players.indexOf(w);P>=0&&this.players.splice(P,1)}_getPlayer(_){const w=this._playersById.get(_);if(!w)throw function mt($){return new ce.vHH(3301,!1)}();return w}listen(_,w,P,H){const J=Tr(w,"","","");return rr(this._getPlayer(_),P,J,H),()=>{}}command(_,w,P,H){if("register"==P)return void this.register(_,H[0]);if("create"==P)return void this.create(_,w,H[0]||{});const J=this._getPlayer(_);switch(P){case"play":J.play();break;case"pause":J.pause();break;case"reset":J.reset();break;case"restart":J.restart();break;case"finish":J.finish();break;case"init":J.init();break;case"setPosition":J.setPosition(parseFloat(H[0]));break;case"destroy":this.destroy(_)}}}const js="ng-animate-queued",to="ng-animate-disabled",ma=[],Rs={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Oa={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Di="__ng_removed";class ji{get params(){return this.options.params}constructor(_,w=""){this.namespaceId=w;const P=_&&_.hasOwnProperty("value");if(this.value=function gs($){return $??null}(P?_.value:_),P){const J=ae(_);delete J.value,this.options=J}else this.options={};this.options.params||(this.options.params={})}absorbOptions(_){const w=_.params;if(w){const P=this.options.params;Object.keys(w).forEach(H=>{null==P[H]&&(P[H]=w[H])})}}}const To="void",Hs=new ji(To);class Lo{constructor(_,w,P){this.id=_,this.hostElement=w,this._engine=P,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,Pr(w,this._hostClassName)}listen(_,w,P,H){if(!this._triggers.has(w))throw function It($,_){return new ce.vHH(3302,!1)}();if(null==P||0==P.length)throw function Tt($){return new ce.vHH(3303,!1)}();if(!function no($){return"start"==$||"done"==$}(P))throw function Fe($,_){return new ce.vHH(3400,!1)}();const J=gr(this._elementListeners,_,[]),de={name:w,phase:P,callback:H};J.push(de);const ge=gr(this._engine.statesByElement,_,new Map);return ge.has(w)||(Pr(_,Cr),Pr(_,Cr+"-"+w),ge.set(w,Hs)),()=>{this._engine.afterFlush(()=>{const Re=J.indexOf(de);Re>=0&&J.splice(Re,1),this._triggers.has(w)||ge.delete(w)})}}register(_,w){return!this._triggers.has(_)&&(this._triggers.set(_,w),!0)}_getTrigger(_){const w=this._triggers.get(_);if(!w)throw function dt($){return new ce.vHH(3401,!1)}();return w}trigger(_,w,P,H=!0){const J=this._getTrigger(w),de=new ws(this.id,w,_);let ge=this._engine.statesByElement.get(_);ge||(Pr(_,Cr),Pr(_,Cr+"-"+w),this._engine.statesByElement.set(_,ge=new Map));let Re=ge.get(w);const st=new ji(P,this.id);if(!(P&&P.hasOwnProperty("value"))&&Re&&st.absorbOptions(Re.options),ge.set(w,st),Re||(Re=Hs),st.value!==To&&Re.value===st.value){if(!function ro($,_){const w=Object.keys($),P=Object.keys(_);if(w.length!=P.length)return!1;for(let H=0;H<w.length;H++){const J=w[H];if(!_.hasOwnProperty(J)||$[J]!==_[J])return!1}return!0}(Re.params,st.params)){const kn=[],cr=J.matchStyles(Re.value,Re.params,kn),vr=J.matchStyles(st.value,st.params,kn);kn.length?this._engine.reportError(kn):this._engine.afterFlush(()=>{ee(_,cr),fe(_,vr)})}return}const Hn=gr(this._engine.playersByElement,_,[]);Hn.forEach(kn=>{kn.namespaceId==this.id&&kn.triggerName==w&&kn.queued&&kn.destroy()});let $n=J.matchTransition(Re.value,st.value,_,st.params),In=!1;if(!$n){if(!H)return;$n=J.fallbackTransition,In=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:w,transition:$n,fromState:Re,toState:st,player:de,isFallbackTransition:In}),In||(Pr(_,js),de.onStart(()=>{Hi(_,js)})),de.onDone(()=>{let kn=this.players.indexOf(de);kn>=0&&this.players.splice(kn,1);const cr=this._engine.playersByElement.get(_);if(cr){let vr=cr.indexOf(de);vr>=0&&cr.splice(vr,1)}}),this.players.push(de),Hn.push(de),de}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(w=>w.delete(_)),this._elementListeners.forEach((w,P)=>{this._elementListeners.set(P,w.filter(H=>H.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const w=this._engine.playersByElement.get(_);w&&(w.forEach(P=>P.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,w){const P=this._engine.driver.query(_,Ai,!0);P.forEach(H=>{if(H[Di])return;const J=this._engine.fetchNamespacesByElement(H);J.size?J.forEach(de=>de.triggerLeaveAnimation(H,w,!1,!0)):this.clearElementCache(H)}),this._engine.afterFlushAnimationsDone(()=>P.forEach(H=>this.clearElementCache(H)))}triggerLeaveAnimation(_,w,P,H){const J=this._engine.statesByElement.get(_),de=new Map;if(J){const ge=[];if(J.forEach((Re,st)=>{if(de.set(st,Re.value),this._triggers.has(st)){const zt=this.trigger(_,st,To,H);zt&&ge.push(zt)}}),ge.length)return this._engine.markElementAsRemoved(this.id,_,!0,w,de),P&&cn(ge).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const w=this._elementListeners.get(_),P=this._engine.statesByElement.get(_);if(w&&P){const H=new Set;w.forEach(J=>{const de=J.name;if(H.has(de))return;H.add(de);const Re=this._triggers.get(de).fallbackTransition,st=P.get(de)||Hs,zt=new ji(To),Yt=new ws(this.id,de,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:de,transition:Re,fromState:st,toState:zt,player:Yt,isFallbackTransition:!0})})}}removeNode(_,w){const P=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,w),this.triggerLeaveAnimation(_,w,!0))return;let H=!1;if(P.totalAnimations){const J=P.players.length?P.playersByQueriedElement.get(_):[];if(J&&J.length)H=!0;else{let de=_;for(;de=de.parentNode;)if(P.statesByElement.get(de)){H=!0;break}}}if(this.prepareLeaveAnimationListeners(_),H)P.markElementAsRemoved(this.id,_,!1,w);else{const J=_[Di];(!J||J===Rs)&&(P.afterFlush(()=>this.clearElementCache(_)),P.destroyInnerAnimations(_),P._onRemovalComplete(_,w))}}insertNode(_,w){Pr(_,this._hostClassName)}drainQueuedTransitions(_){const w=[];return this._queue.forEach(P=>{const H=P.player;if(H.destroyed)return;const J=P.element,de=this._elementListeners.get(J);de&&de.forEach(ge=>{if(ge.name==P.triggerName){const Re=Tr(J,P.triggerName,P.fromState.value,P.toState.value);Re._data=_,rr(P.player,ge.phase,Re,ge.callback)}}),H.markedForDestroy?this._engine.afterFlush(()=>{H.destroy()}):w.push(P)}),this._queue=[],w.sort((P,H)=>{const J=P.transition.ast.depCount,de=H.transition.ast.depCount;return 0==J||0==de?J-de:this._engine.driver.containsElement(P.element,H.element)?1:-1})}destroy(_){this.players.forEach(w=>w.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}elementContainsData(_){let w=!1;return this._elementListeners.has(_)&&(w=!0),w=!!this._queue.find(P=>P.element===_)||w,w}}class ya{_onRemovalComplete(_,w){this.onRemovalComplete(_,w)}constructor(_,w,P){this.bodyNode=_,this.driver=w,this._normalizer=P,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(H,J)=>{}}get queuedPlayers(){const _=[];return this._namespaceList.forEach(w=>{w.players.forEach(P=>{P.queued&&_.push(P)})}),_}createNamespace(_,w){const P=new Lo(_,w,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,w)?this._balanceNamespaceList(P,w):(this.newHostElements.set(w,P),this.collectEnterElement(w)),this._namespaceLookup[_]=P}_balanceNamespaceList(_,w){const P=this._namespaceList,H=this.namespacesByHostElement;if(P.length-1>=0){let de=!1,ge=this.driver.getParentElement(w);for(;ge;){const Re=H.get(ge);if(Re){const st=P.indexOf(Re);P.splice(st+1,0,_),de=!0;break}ge=this.driver.getParentElement(ge)}de||P.unshift(_)}else P.push(_);return H.set(w,_),_}register(_,w){let P=this._namespaceLookup[_];return P||(P=this.createNamespace(_,w)),P}registerTrigger(_,w,P){let H=this._namespaceLookup[_];H&&H.register(w,P)&&this.totalAnimations++}destroy(_,w){if(!_)return;const P=this._fetchNamespace(_);this.afterFlush(()=>{this.namespacesByHostElement.delete(P.hostElement),delete this._namespaceLookup[_];const H=this._namespaceList.indexOf(P);H>=0&&this._namespaceList.splice(H,1)}),this.afterFlushAnimationsDone(()=>P.destroy(w))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const w=new Set,P=this.statesByElement.get(_);if(P)for(let H of P.values())if(H.namespaceId){const J=this._fetchNamespace(H.namespaceId);J&&w.add(J)}return w}trigger(_,w,P,H){if(zs(w)){const J=this._fetchNamespace(_);if(J)return J.trigger(w,P,H),!0}return!1}insertNode(_,w,P,H){if(!zs(w))return;const J=w[Di];if(J&&J.setForRemoval){J.setForRemoval=!1,J.setForMove=!0;const de=this.collectedLeaveElements.indexOf(w);de>=0&&this.collectedLeaveElements.splice(de,1)}if(_){const de=this._fetchNamespace(_);de&&de.insertNode(w,P)}H&&this.collectEnterElement(w)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,w){w?this.disabledNodes.has(_)||(this.disabledNodes.add(_),Pr(_,to)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),Hi(_,to))}removeNode(_,w,P,H){if(zs(w)){const J=_?this._fetchNamespace(_):null;if(J?J.removeNode(w,H):this.markElementAsRemoved(_,w,!1,H),P){const de=this.namespacesByHostElement.get(w);de&&de.id!==_&&de.removeNode(w,H)}}else this._onRemovalComplete(w,H)}markElementAsRemoved(_,w,P,H,J){this.collectedLeaveElements.push(w),w[Di]={namespaceId:_,setForRemoval:H,hasAnimation:P,removedBeforeQueried:!1,previousTriggersValues:J}}listen(_,w,P,H,J){return zs(w)?this._fetchNamespace(_).listen(w,P,H,J):()=>{}}_buildInstruction(_,w,P,H,J){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,P,H,_.fromState.options,_.toState.options,w,J)}destroyInnerAnimations(_){let w=this.driver.query(_,Ai,!0);w.forEach(P=>this.destroyActiveAnimationsForElement(P)),0!=this.playersByQueriedElement.size&&(w=this.driver.query(_,Cn,!0),w.forEach(P=>this.finishActiveQueriedAnimationOnElement(P)))}destroyActiveAnimationsForElement(_){const w=this.playersByElement.get(_);w&&w.forEach(P=>{P.queued?P.markedForDestroy=!0:P.destroy()})}finishActiveQueriedAnimationOnElement(_){const w=this.playersByQueriedElement.get(_);w&&w.forEach(P=>P.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return cn(this.players).onDone(()=>_());_()})}processLeaveNode(_){const w=_[Di];if(w&&w.setForRemoval){if(_[Di]=Rs,w.namespaceId){this.destroyInnerAnimations(_);const P=this._fetchNamespace(w.namespaceId);P&&P.clearElementCache(_)}this._onRemovalComplete(_,w.setForRemoval)}_.classList?.contains(to)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(P=>{this.markElementAsDisabled(P,!1)})}flush(_=-1){let w=[];if(this.newHostElements.size&&(this.newHostElements.forEach((P,H)=>this._balanceNamespaceList(P,H)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let P=0;P<this.collectedEnterElements.length;P++)Pr(this.collectedEnterElements[P],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const P=[];try{w=this._flushAnimations(P,_)}finally{for(let H=0;H<P.length;H++)P[H]()}}else for(let P=0;P<this.collectedLeaveElements.length;P++)this.processLeaveNode(this.collectedLeaveElements[P]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(P=>P()),this._flushFns=[],this._whenQuietFns.length){const P=this._whenQuietFns;this._whenQuietFns=[],w.length?cn(w).onDone(()=>{P.forEach(H=>H())}):P.forEach(H=>H())}}reportError(_){throw function Oe($){return new ce.vHH(3402,!1)}()}_flushAnimations(_,w){const P=new An,H=[],J=new Map,de=[],ge=new Map,Re=new Map,st=new Map,zt=new Set;this.disabledNodes.forEach(ot=>{zt.add(ot);const Bt=this.driver.query(ot,".ng-animate-queued",!0);for(let Wt=0;Wt<Bt.length;Wt++)zt.add(Bt[Wt])});const Yt=this.bodyNode,Hn=Array.from(this.statesByElement.keys()),$n=Ms(Hn,this.collectedEnterElements),In=new Map;let kn=0;$n.forEach((ot,Bt)=>{const Wt=Gn+kn++;In.set(Bt,Wt),ot.forEach(En=>Pr(En,Wt))});const cr=[],vr=new Set,wr=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const Bt=this.collectedLeaveElements[ot],Wt=Bt[Di];Wt&&Wt.setForRemoval&&(cr.push(Bt),vr.add(Bt),Wt.hasAnimation?this.driver.query(Bt,".ng-star-inserted",!0).forEach(En=>vr.add(En)):wr.add(Bt))}const Nr=new Map,li=Ms(Hn,Array.from(vr));li.forEach((ot,Bt)=>{const Wt=ui+kn++;Nr.set(Bt,Wt),ot.forEach(En=>Pr(En,Wt))}),_.push(()=>{$n.forEach((ot,Bt)=>{const Wt=In.get(Bt);ot.forEach(En=>Hi(En,Wt))}),li.forEach((ot,Bt)=>{const Wt=Nr.get(Bt);ot.forEach(En=>Hi(En,Wt))}),cr.forEach(ot=>{this.processLeaveNode(ot)})});const gi=[],mi=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(w).forEach(Wt=>{const En=Wt.player,dn=Wt.element;if(gi.push(En),this.collectedEnterElements.length){const at=dn[Di];if(at&&at.setForMove){if(at.previousTriggersValues&&at.previousTriggersValues.has(Wt.triggerName)){const Or=at.previousTriggersValues.get(Wt.triggerName),jr=this.statesByElement.get(Wt.element);if(jr&&jr.has(Wt.triggerName)){const ys=jr.get(Wt.triggerName);ys.value=Or,jr.set(Wt.triggerName,ys)}}return void En.destroy()}}const Dr=!Yt||!this.driver.containsElement(Yt,dn),Tn=Nr.get(dn),pr=In.get(dn),Yn=this._buildInstruction(Wt,P,pr,Tn,Dr);if(Yn.errors&&Yn.errors.length)return void mi.push(Yn);if(Dr)return En.onStart(()=>ee(dn,Yn.fromStyles)),En.onDestroy(()=>fe(dn,Yn.toStyles)),void H.push(En);if(Wt.isFallbackTransition)return En.onStart(()=>ee(dn,Yn.fromStyles)),En.onDestroy(()=>fe(dn,Yn.toStyles)),void H.push(En);const so=[];Yn.timelines.forEach(at=>{at.stretchStartingKeyframe=!0,this.disabledNodes.has(at.element)||so.push(at)}),Yn.timelines=so,P.append(dn,Yn.timelines),de.push({instruction:Yn,player:En,element:dn}),Yn.queriedElements.forEach(at=>gr(ge,at,[]).push(En)),Yn.preStyleProps.forEach((at,Or)=>{if(at.size){let jr=Re.get(Or);jr||Re.set(Or,jr=new Set),at.forEach((ys,rn)=>jr.add(rn))}}),Yn.postStyleProps.forEach((at,Or)=>{let jr=st.get(Or);jr||st.set(Or,jr=new Set),at.forEach((ys,rn)=>jr.add(rn))})});if(mi.length){const ot=[];mi.forEach(Bt=>{ot.push(function bt($,_){return new ce.vHH(3505,!1)}())}),gi.forEach(Bt=>Bt.destroy()),this.reportError(ot)}const ar=new Map,_o=new Map;de.forEach(ot=>{const Bt=ot.element;P.has(Bt)&&(_o.set(Bt,Bt),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,ar))}),H.forEach(ot=>{const Bt=ot.element;this._getPreviousPlayers(Bt,!1,ot.namespaceId,ot.triggerName,null).forEach(En=>{gr(ar,Bt,[]).push(En),En.destroy()})});const A=cr.filter(ot=>ci(ot,Re,st)),F=new Map;xo(F,this.driver,wr,st,ie.l3).forEach(ot=>{ci(ot,Re,st)&&A.push(ot)});const G=new Map;$n.forEach((ot,Bt)=>{xo(G,this.driver,new Set(ot),Re,ie.k1)}),A.forEach(ot=>{const Bt=F.get(ot),Wt=G.get(ot);F.set(ot,new Map([...Array.from(Bt?.entries()??[]),...Array.from(Wt?.entries()??[])]))});const oe=[],Ge=[],ct={};de.forEach(ot=>{const{element:Bt,player:Wt,instruction:En}=ot;if(P.has(Bt)){if(zt.has(Bt))return Wt.onDestroy(()=>fe(Bt,En.toStyles)),Wt.disabled=!0,Wt.overrideTotalTime(En.totalTime),void H.push(Wt);let dn=ct;if(_o.size>1){let Tn=Bt;const pr=[];for(;Tn=Tn.parentNode;){const Yn=_o.get(Tn);if(Yn){dn=Yn;break}pr.push(Tn)}pr.forEach(Yn=>_o.set(Yn,dn))}const Dr=this._buildAnimation(Wt.namespaceId,En,ar,J,G,F);if(Wt.setRealPlayer(Dr),dn===ct)oe.push(Wt);else{const Tn=this.playersByElement.get(dn);Tn&&Tn.length&&(Wt.parentPlayer=cn(Tn)),H.push(Wt)}}else ee(Bt,En.fromStyles),Wt.onDestroy(()=>fe(Bt,En.toStyles)),Ge.push(Wt),zt.has(Bt)&&H.push(Wt)}),Ge.forEach(ot=>{const Bt=J.get(ot.element);if(Bt&&Bt.length){const Wt=cn(Bt);ot.setRealPlayer(Wt)}}),H.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<cr.length;ot++){const Bt=cr[ot],Wt=Bt[Di];if(Hi(Bt,ui),Wt&&Wt.hasAnimation)continue;let En=[];if(ge.size){let Dr=ge.get(Bt);Dr&&Dr.length&&En.push(...Dr);let Tn=this.driver.query(Bt,Cn,!0);for(let pr=0;pr<Tn.length;pr++){let Yn=ge.get(Tn[pr]);Yn&&Yn.length&&En.push(...Yn)}}const dn=En.filter(Dr=>!Dr.destroyed);dn.length?ka(this,Bt,dn):this.processLeaveNode(Bt)}return cr.length=0,oe.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const Bt=this.players.indexOf(ot);this.players.splice(Bt,1)}),ot.play()}),oe}elementContainsData(_,w){let P=!1;const H=w[Di];return H&&H.setForRemoval&&(P=!0),this.playersByElement.has(w)&&(P=!0),this.playersByQueriedElement.has(w)&&(P=!0),this.statesByElement.has(w)&&(P=!0),this._fetchNamespace(_).elementContainsData(w)||P}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,w,P,H,J){let de=[];if(w){const ge=this.playersByQueriedElement.get(_);ge&&(de=ge)}else{const ge=this.playersByElement.get(_);if(ge){const Re=!J||J==To;ge.forEach(st=>{st.queued||!Re&&st.triggerName!=H||de.push(st)})}}return(P||H)&&(de=de.filter(ge=>!(P&&P!=ge.namespaceId||H&&H!=ge.triggerName))),de}_beforeAnimationBuild(_,w,P){const J=w.element,de=w.isRemovalTransition?void 0:_,ge=w.isRemovalTransition?void 0:w.triggerName;for(const Re of w.timelines){const st=Re.element,zt=st!==J,Yt=gr(P,st,[]);this._getPreviousPlayers(st,zt,de,ge,w.toState).forEach($n=>{const In=$n.getRealPlayer();In.beforeDestroy&&In.beforeDestroy(),$n.destroy(),Yt.push($n)})}ee(J,w.fromStyles)}_buildAnimation(_,w,P,H,J,de){const ge=w.triggerName,Re=w.element,st=[],zt=new Set,Yt=new Set,Hn=w.timelines.map(In=>{const kn=In.element;zt.add(kn);const cr=kn[Di];if(cr&&cr.removedBeforeQueried)return new ie.ZN(In.duration,In.delay);const vr=kn!==Re,wr=function es($){const _=[];return zi($,_),_}((P.get(kn)||ma).map(ar=>ar.getRealPlayer())).filter(ar=>!!ar.element&&ar.element===kn),Nr=J.get(kn),li=de.get(kn),gi=Mr(0,this._normalizer,0,In.keyframes,Nr,li),mi=this._buildPlayer(In,gi,wr);if(In.subTimeline&&H&&Yt.add(kn),vr){const ar=new ws(_,ge,kn);ar.setRealPlayer(mi),st.push(ar)}return mi});st.forEach(In=>{gr(this.playersByQueriedElement,In.element,[]).push(In),In.onDone(()=>function qo($,_,w){let P=$.get(_);if(P){if(P.length){const H=P.indexOf(w);P.splice(H,1)}0==P.length&&$.delete(_)}return P}(this.playersByQueriedElement,In.element,In))}),zt.forEach(In=>Pr(In,Vr));const $n=cn(Hn);return $n.onDestroy(()=>{zt.forEach(In=>Hi(In,Vr)),fe(Re,w.toStyles)}),Yt.forEach(In=>{gr(H,In,[]).push($n)}),$n}_buildPlayer(_,w,P){return w.length>0?this.driver.animate(_.element,w,_.duration,_.delay,_.easing,P):new ie.ZN(_.duration,_.delay)}}class ws{constructor(_,w,P){this.namespaceId=_,this.triggerName=w,this.element=P,this._player=new ie.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((w,P)=>{w.forEach(H=>rr(_,P,void 0,H))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const w=this._player;w.triggerCallback&&_.onStart(()=>w.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,w){gr(this._queuedCallbacks,_,[]).push(w)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const w=this._player;w.triggerCallback&&w.triggerCallback(_)}}function zs($){return $&&1===$.nodeType}function Uo($,_){const w=$.style.display;return $.style.display=_??"none",w}function xo($,_,w,P,H){const J=[];w.forEach(Re=>J.push(Uo(Re)));const de=[];P.forEach((Re,st)=>{const zt=new Map;Re.forEach(Yt=>{const Hn=_.computeStyle(st,Yt,H);zt.set(Yt,Hn),(!Hn||0==Hn.length)&&(st[Di]=Oa,de.push(st))}),$.set(st,zt)});let ge=0;return w.forEach(Re=>Uo(Re,J[ge++])),de}function Ms($,_){const w=new Map;if($.forEach(ge=>w.set(ge,[])),0==_.length)return w;const P=1,H=new Set(_),J=new Map;function de(ge){if(!ge)return P;let Re=J.get(ge);if(Re)return Re;const st=ge.parentNode;return Re=w.has(st)?st:H.has(st)?P:de(st),J.set(ge,Re),Re}return _.forEach(ge=>{const Re=de(ge);Re!==P&&w.get(Re).push(ge)}),w}function Pr($,_){$.classList?.add(_)}function Hi($,_){$.classList?.remove(_)}function ka($,_,w){cn(w).onDone(()=>$.processLeaveNode(_))}function zi($,_){for(let w=0;w<$.length;w++){const P=$[w];P instanceof ie.ZE?zi(P.players,_):_.push(P)}}function ci($,_,w){const P=w.get($);if(!P)return!1;let H=_.get($);return H?P.forEach(J=>H.add(J)):_.set($,P),w.delete($),!0}class Wr{constructor(_,w,P){this.bodyNode=_,this._driver=w,this._normalizer=P,this._triggerCache={},this.onRemovalComplete=(H,J)=>{},this._transitionEngine=new ya(_,w,P),this._timelineEngine=new po(_,w,P),this._transitionEngine.onRemovalComplete=(H,J)=>this.onRemovalComplete(H,J)}registerTrigger(_,w,P,H,J){const de=_+"-"+H;let ge=this._triggerCache[de];if(!ge){const Re=[],st=[],zt=Yi(this._driver,J,Re,st);if(Re.length)throw function je($,_){return new ce.vHH(3404,!1)}();ge=function ki($,_,w){return new eo($,_,w)}(H,zt,this._normalizer),this._triggerCache[de]=ge}this._transitionEngine.registerTrigger(w,H,ge)}register(_,w){this._transitionEngine.register(_,w)}destroy(_,w){this._transitionEngine.destroy(_,w)}onInsert(_,w,P,H){this._transitionEngine.insertNode(_,w,P,H)}onRemove(_,w,P,H){this._transitionEngine.removeNode(_,w,H||!1,P)}disableAnimations(_,w){this._transitionEngine.markElementAsDisabled(_,w)}process(_,w,P,H){if("@"==P.charAt(0)){const[J,de]=zr(P);this._timelineEngine.command(J,w,de,H)}else this._transitionEngine.trigger(_,w,P,H)}listen(_,w,P,H,J){if("@"==P.charAt(0)){const[de,ge]=zr(P);return this._timelineEngine.listen(de,w,ge,J)}return this._transitionEngine.listen(_,w,P,H,J)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ts=(()=>{class ${constructor(w,P,H){this._element=w,this._startStyles=P,this._endStyles=H,this._state=0;let J=$.initialStylesByElement.get(w);J||$.initialStylesByElement.set(w,J=new Map),this._initialStyles=J}start(){this._state<1&&(this._startStyles&&fe(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fe(this._element,this._initialStyles),this._endStyles&&(fe(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&($.initialStylesByElement.delete(this._element),this._startStyles&&(ee(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ee(this._element,this._endStyles),this._endStyles=null),fe(this._element,this._initialStyles),this._state=3)}}return $.initialStylesByElement=new WeakMap,$})();function io($){let _=null;return $.forEach((w,P)=>{(function Mi($){return"display"===$||"position"===$})(P)&&(_=_||new Map,_.set(P,w))}),_}class xs{constructor(_,w,P,H){this.element=_,this.keyframes=w,this.options=P,this._specialStyles=H,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=P.duration,this._delay=P.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const w=[];return _.forEach(P=>{w.push(Object.fromEntries(P))}),w}_triggerWebAnimation(_,w,P){return _.animate(this._convertKeyframesToObject(w),P)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((P,H)=>{"offset"!==H&&_.set(H,this._finished?P:Un(this.element,H))}),this.currentSnapshot=_}triggerCallback(_){const w="start"===_?this._onStartFns:this._onDoneFns;w.forEach(P=>P()),w.length=0}}class wi{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}matchesElement(_,w){return!1}containsElement(_,w){return Ln(_,w)}getParentElement(_){return yi(_)}query(_,w,P){return Xn(_,w,P)}computeStyle(_,w,P){return window.getComputedStyle(_)[w]}animate(_,w,P,H,J,de=[]){const Re={duration:P,delay:H,fill:0==H?"both":"forwards"};J&&(Re.easing=J);const st=new Map,zt=de.filter($n=>$n instanceof xs);(function wt($,_){return 0===$||0===_})(P,H)&&zt.forEach($n=>{$n.currentSnapshot.forEach((In,kn)=>st.set(kn,In))});let Yt=function Te($){return $.length?$[0]instanceof Map?$:$.map(_=>se(_)):[]}(w).map($n=>ke($n));Yt=function pn($,_,w){if(w.size&&_.length){let P=_[0],H=[];if(w.forEach((J,de)=>{P.has(de)||H.push(de),P.set(de,J)}),H.length)for(let J=1;J<_.length;J++){let de=_[J];H.forEach(ge=>de.set(ge,Un($,ge)))}}return _}(_,Yt,st);const Hn=function mo($,_){let w=null,P=null;return Array.isArray(_)&&_.length?(w=io(_[0]),_.length>1&&(P=io(_[_.length-1]))):_ instanceof Map&&(w=io(_)),w||P?new ts($,w,P):null}(_,Yt);return new xs(_,Yt,Re,Hn)}}var V=X(6895);let B=(()=>{class $ extends ie._j{constructor(w,P){super(),this._nextAnimationId=0,this._renderer=w.createRenderer(P.body,{id:"0",encapsulation:ce.ifc.None,styles:[],data:{animation:[]}})}build(w){const P=this._nextAnimationId.toString();this._nextAnimationId++;const H=Array.isArray(w)?(0,ie.vP)(w):w;return xe(this._renderer,null,P,"register",[H]),new re(P,this._renderer)}}return $.\u0275fac=function(w){return new(w||$)(ce.LFG(ce.FYo),ce.LFG(V.K0))},$.\u0275prov=ce.Yz7({token:$,factory:$.\u0275fac}),$})();class re extends ie.LC{constructor(_,w){super(),this._id=_,this._renderer=w}create(_,w){return new ue(this._id,_,w||{},this._renderer)}}class ue{constructor(_,w,P,H){this.id=_,this.element=w,this._renderer=H,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",P)}_listen(_,w){return this._renderer.listen(this.element,`@@${this.id}:${_}`,w)}_command(_,...w){return xe(this._renderer,this.element,this.id,_,w)}onDone(_){this._listen("done",_)}onStart(_){this._listen("start",_)}onDestroy(_){this._listen("destroy",_)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(_){this._command("setPosition",_)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function xe($,_,w,P,H){return $.setProperty(_,`@@${w}:${P}`,H)}const Je="@.disabled";let Pt=(()=>{class ${constructor(w,P,H){this.delegate=w,this.engine=P,this._zone=H,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),P.onRemovalComplete=(J,de)=>{const ge=de?.parentNode(J);ge&&de.removeChild(ge,J)}}createRenderer(w,P){const J=this.delegate.createRenderer(w,P);if(!(w&&P&&P.data&&P.data.animation)){let zt=this._rendererCache.get(J);return zt||(zt=new Zt("",J,this.engine,()=>this._rendererCache.delete(J)),this._rendererCache.set(J,zt)),zt}const de=P.id,ge=P.id+"-"+this._currentId;this._currentId++,this.engine.register(ge,w);const Re=zt=>{Array.isArray(zt)?zt.forEach(Re):this.engine.registerTrigger(de,ge,w,zt.name,zt)};return P.data.animation.forEach(Re),new er(this,ge,J,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(w,P,H){w>=0&&w<this._microtaskId?this._zone.run(()=>P(H)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(J=>{const[de,ge]=J;de(ge)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([P,H]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return $.\u0275fac=function(w){return new(w||$)(ce.LFG(ce.FYo),ce.LFG(Wr),ce.LFG(ce.R0b))},$.\u0275prov=ce.Yz7({token:$,factory:$.\u0275fac}),$})();class Zt{constructor(_,w,P,H){this.namespaceId=_,this.delegate=w,this.engine=P,this._onDestroy=H,this.destroyNode=this.delegate.destroyNode?J=>w.destroyNode(J):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(_,w){return this.delegate.createElement(_,w)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,w){this.delegate.appendChild(_,w),this.engine.onInsert(this.namespaceId,w,_,!1)}insertBefore(_,w,P,H=!0){this.delegate.insertBefore(_,w,P),this.engine.onInsert(this.namespaceId,w,_,H)}removeChild(_,w,P){this.engine.onRemove(this.namespaceId,w,this.delegate,P)}selectRootElement(_,w){return this.delegate.selectRootElement(_,w)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,w,P,H){this.delegate.setAttribute(_,w,P,H)}removeAttribute(_,w,P){this.delegate.removeAttribute(_,w,P)}addClass(_,w){this.delegate.addClass(_,w)}removeClass(_,w){this.delegate.removeClass(_,w)}setStyle(_,w,P,H){this.delegate.setStyle(_,w,P,H)}removeStyle(_,w,P){this.delegate.removeStyle(_,w,P)}setProperty(_,w,P){"@"==w.charAt(0)&&w==Je?this.disableAnimations(_,!!P):this.delegate.setProperty(_,w,P)}setValue(_,w){this.delegate.setValue(_,w)}listen(_,w,P){return this.delegate.listen(_,w,P)}disableAnimations(_,w){this.engine.disableAnimations(_,w)}}class er extends Zt{constructor(_,w,P,H,J){super(w,P,H,J),this.factory=_,this.namespaceId=w}setProperty(_,w,P){"@"==w.charAt(0)?"."==w.charAt(1)&&w==Je?this.disableAnimations(_,P=void 0===P||!!P):this.engine.process(this.namespaceId,_,w.slice(1),P):this.delegate.setProperty(_,w,P)}listen(_,w,P){if("@"==w.charAt(0)){const H=function Zn($){switch($){case"body":return document.body;case"document":return document;case"window":return window;default:return $}}(_);let J=w.slice(1),de="";return"@"!=J.charAt(0)&&([J,de]=function qr($){const _=$.indexOf(".");return[$.substring(0,_),$.slice(_+1)]}(J)),this.engine.listen(this.namespaceId,H,J,de,ge=>{this.factory.scheduleListenerCallback(ge._data||-1,P,ge)})}return this.delegate.listen(_,w,P)}}const pt=[{provide:ie._j,useClass:B},{provide:Js,useFactory:function ii(){return new Qi}},{provide:Wr,useClass:(()=>{class $ extends Wr{constructor(w,P,H,J){super(w.body,P,H)}ngOnDestroy(){this.flush()}}return $.\u0275fac=function(w){return new(w||$)(ce.LFG(V.K0),ce.LFG(Bn),ce.LFG(Js),ce.LFG(ce.z2F))},$.\u0275prov=ce.Yz7({token:$,factory:$.\u0275fac}),$})()},{provide:ce.FYo,useFactory:function si($,_,w){return new Pt($,_,w)},deps:[C.se,Wr,ce.R0b]}],yn=[{provide:Bn,useFactory:()=>new wi},{provide:ce.QbO,useValue:"BrowserAnimations"},...pt],Ps=[{provide:Bn,useClass:hi},{provide:ce.QbO,useValue:"NoopAnimations"},...pt];let Ei=(()=>{class ${static withConfig(w){return{ngModule:$,providers:w.disableAnimations?Ps:yn}}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=ce.oAB({type:$}),$.\u0275inj=ce.cJS({providers:yn,imports:[C.b2]}),$})();var Ar=X(7185);let yo=(()=>{class ${constructor(){this.title="tp-final-labo"}}return $.\u0275fac=function(w){return new(w||$)},$.\u0275cmp=ce.Xpm({type:$,selectors:[["app-root"]],decls:1,vars:0,template:function(w,P){1&w&&ce._UZ(0,"router-outlet")},dependencies:[Q.lC]}),$})();var ms=X(3692);const Gs_firebase={projectId:"tp-final-labo",appId:"1:1008061867077:web:df6229e3db7df2a66bef2c",storageBucket:"tp-final-labo.appspot.com",locationId:"us-central",apiKey:"AIzaSyCOfAMwZE9ChN5fDkYGXvP2T3m9S1PI2Ng",authDomain:"tp-final-labo.firebaseapp.com",messagingSenderId:"1008061867077"};var Po=X(2309),Ko=X(4102),Fi=X(8032);let Yr=(()=>{class ${}return $.\u0275fac=function(w){return new(w||$)},$.\u0275mod=ce.oAB({type:$,bootstrap:[yo]}),$.\u0275inj=ce.cJS({imports:[Ei,Ar.Rh.forRoot(),C.b2,Ue,(0,ms.hX)(()=>(0,ms.ZF)(Gs_firebase)),(0,Po.AR)(()=>(0,Po.v0)()),(0,Ko.Cm)(()=>(0,Ko.ad)()),(0,Fi.Vq)(()=>(0,Fi.cF)())]}),$})();C.q6().bootstrapModule(Yr).catch($=>console.error($))},9751:(Fn,At,X)=>{X.d(At,{y:()=>St});var C=X(2961),Q=X(727),ce=X(8822),Ie=X(9635),Ue=X(2416),ie=X(576),_e=X(2806);let St=(()=>{class Ye{constructor(me){me&&(this._subscribe=me)}lift(me){const Ot=new Ye;return Ot.source=this,Ot.operator=me,Ot}subscribe(me,Ot,Ke){const Ut=function pe(Ye){return Ye&&Ye instanceof C.Lv||function ve(Ye){return Ye&&(0,ie.m)(Ye.next)&&(0,ie.m)(Ye.error)&&(0,ie.m)(Ye.complete)}(Ye)&&(0,Q.Nn)(Ye)}(me)?me:new C.Hp(me,Ot,Ke);return(0,_e.x)(()=>{const{operator:an,source:zn}=this;Ut.add(an?an.call(Ut,zn):zn?this._subscribe(Ut):this._trySubscribe(Ut))}),Ut}_trySubscribe(me){try{return this._subscribe(me)}catch(Ot){me.error(Ot)}}forEach(me,Ot){return new(Ot=yt(Ot))((Ke,Ut)=>{const an=new C.Hp({next:zn=>{try{me(zn)}catch(kt){Ut(kt),an.unsubscribe()}},error:Ut,complete:Ke});this.subscribe(an)})}_subscribe(me){var Ot;return null===(Ot=this.source)||void 0===Ot?void 0:Ot.subscribe(me)}[ce.L](){return this}pipe(...me){return(0,Ie.U)(me)(this)}toPromise(me){return new(me=yt(me))((Ot,Ke)=>{let Ut;this.subscribe(an=>Ut=an,an=>Ke(an),()=>Ot(Ut))})}}return Ye.create=_t=>new Ye(_t),Ye})();function yt(Ye){var _t;return null!==(_t=Ye??Ue.v.Promise)&&void 0!==_t?_t:Promise}},7579:(Fn,At,X)=>{X.d(At,{x:()=>_e});var C=X(9751),Q=X(727);const Ie=(0,X(3888).d)(yt=>function(){yt(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ue=X(8737),ie=X(2806);let _e=(()=>{class yt extends C.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(pe){const Ye=new St(this,this);return Ye.operator=pe,Ye}_throwIfClosed(){if(this.closed)throw new Ie}next(pe){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ye of this.currentObservers)Ye.next(pe)}})}error(pe){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=pe;const{observers:Ye}=this;for(;Ye.length;)Ye.shift().error(pe)}})}complete(){(0,ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:pe}=this;for(;pe.length;)pe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var pe;return(null===(pe=this.observers)||void 0===pe?void 0:pe.length)>0}_trySubscribe(pe){return this._throwIfClosed(),super._trySubscribe(pe)}_subscribe(pe){return this._throwIfClosed(),this._checkFinalizedStatuses(pe),this._innerSubscribe(pe)}_innerSubscribe(pe){const{hasError:Ye,isStopped:_t,observers:me}=this;return Ye||_t?Q.Lc:(this.currentObservers=null,me.push(pe),new Q.w0(()=>{this.currentObservers=null,(0,Ue.P)(me,pe)}))}_checkFinalizedStatuses(pe){const{hasError:Ye,thrownError:_t,isStopped:me}=this;Ye?pe.error(_t):me&&pe.complete()}asObservable(){const pe=new C.y;return pe.source=this,pe}}return yt.create=(ve,pe)=>new St(ve,pe),yt})();class St extends _e{constructor(ve,pe){super(),this.destination=ve,this.source=pe}next(ve){var pe,Ye;null===(Ye=null===(pe=this.destination)||void 0===pe?void 0:pe.next)||void 0===Ye||Ye.call(pe,ve)}error(ve){var pe,Ye;null===(Ye=null===(pe=this.destination)||void 0===pe?void 0:pe.error)||void 0===Ye||Ye.call(pe,ve)}complete(){var ve,pe;null===(pe=null===(ve=this.destination)||void 0===ve?void 0:ve.complete)||void 0===pe||pe.call(ve)}_subscribe(ve){var pe,Ye;return null!==(Ye=null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(ve))&&void 0!==Ye?Ye:Q.Lc}}},2961:(Fn,At,X)=>{X.d(At,{Hp:()=>Ke,Lv:()=>Ye});var C=X(576),Q=X(727),ce=X(2416),Ie=X(7849);function Ue(){}const ie=yt("C",void 0,void 0);function yt(Xe,Ne,ut){return{kind:Xe,value:Ne,error:ut}}var ve=X(3410),pe=X(2806);class Ye extends Q.w0{constructor(Ne){super(),this.isStopped=!1,Ne?(this.destination=Ne,(0,Q.Nn)(Ne)&&Ne.add(this)):this.destination=kt}static create(Ne,ut,Mt){return new Ke(Ne,ut,Mt)}next(Ne){this.isStopped?zn(function St(Xe){return yt("N",Xe,void 0)}(Ne),this):this._next(Ne)}error(Ne){this.isStopped?zn(function _e(Xe){return yt("E",void 0,Xe)}(Ne),this):(this.isStopped=!0,this._error(Ne))}complete(){this.isStopped?zn(ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ne){this.destination.next(Ne)}_error(Ne){try{this.destination.error(Ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const _t=Function.prototype.bind;function me(Xe,Ne){return _t.call(Xe,Ne)}class Ot{constructor(Ne){this.partialObserver=Ne}next(Ne){const{partialObserver:ut}=this;if(ut.next)try{ut.next(Ne)}catch(Mt){Ut(Mt)}}error(Ne){const{partialObserver:ut}=this;if(ut.error)try{ut.error(Ne)}catch(Mt){Ut(Mt)}else Ut(Ne)}complete(){const{partialObserver:Ne}=this;if(Ne.complete)try{Ne.complete()}catch(ut){Ut(ut)}}}class Ke extends Ye{constructor(Ne,ut,Mt){let tt;if(super(),(0,C.m)(Ne)||!Ne)tt={next:Ne??void 0,error:ut??void 0,complete:Mt??void 0};else{let Ct;this&&ce.v.useDeprecatedNextContext?(Ct=Object.create(Ne),Ct.unsubscribe=()=>this.unsubscribe(),tt={next:Ne.next&&me(Ne.next,Ct),error:Ne.error&&me(Ne.error,Ct),complete:Ne.complete&&me(Ne.complete,Ct)}):tt=Ne}this.destination=new Ot(tt)}}function Ut(Xe){ce.v.useDeprecatedSynchronousErrorHandling?(0,pe.O)(Xe):(0,Ie.h)(Xe)}function zn(Xe,Ne){const{onStoppedNotification:ut}=ce.v;ut&&ve.z.setTimeout(()=>ut(Xe,Ne))}const kt={closed:!0,next:Ue,error:function an(Xe){throw Xe},complete:Ue}},727:(Fn,At,X)=>{X.d(At,{Lc:()=>ie,w0:()=>Ue,Nn:()=>_e});var C=X(576);const ce=(0,X(3888).d)(yt=>function(pe){yt(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((Ye,_t)=>`${_t+1}) ${Ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe});var Ie=X(8737);class Ue{constructor(ve){this.initialTeardown=ve,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ve;if(!this.closed){this.closed=!0;const{_parentage:pe}=this;if(pe)if(this._parentage=null,Array.isArray(pe))for(const me of pe)me.remove(this);else pe.remove(this);const{initialTeardown:Ye}=this;if((0,C.m)(Ye))try{Ye()}catch(me){ve=me instanceof ce?me.errors:[me]}const{_finalizers:_t}=this;if(_t){this._finalizers=null;for(const me of _t)try{St(me)}catch(Ot){ve=ve??[],Ot instanceof ce?ve=[...ve,...Ot.errors]:ve.push(Ot)}}if(ve)throw new ce(ve)}}add(ve){var pe;if(ve&&ve!==this)if(this.closed)St(ve);else{if(ve instanceof Ue){if(ve.closed||ve._hasParent(this))return;ve._addParent(this)}(this._finalizers=null!==(pe=this._finalizers)&&void 0!==pe?pe:[]).push(ve)}}_hasParent(ve){const{_parentage:pe}=this;return pe===ve||Array.isArray(pe)&&pe.includes(ve)}_addParent(ve){const{_parentage:pe}=this;this._parentage=Array.isArray(pe)?(pe.push(ve),pe):pe?[pe,ve]:ve}_removeParent(ve){const{_parentage:pe}=this;pe===ve?this._parentage=null:Array.isArray(pe)&&(0,Ie.P)(pe,ve)}remove(ve){const{_finalizers:pe}=this;pe&&(0,Ie.P)(pe,ve),ve instanceof Ue&&ve._removeParent(this)}}Ue.EMPTY=(()=>{const yt=new Ue;return yt.closed=!0,yt})();const ie=Ue.EMPTY;function _e(yt){return yt instanceof Ue||yt&&"closed"in yt&&(0,C.m)(yt.remove)&&(0,C.m)(yt.add)&&(0,C.m)(yt.unsubscribe)}function St(yt){(0,C.m)(yt)?yt():yt.unsubscribe()}},2416:(Fn,At,X)=>{X.d(At,{v:()=>C});const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Fn,At,X)=>{X.d(At,{E:()=>Q});const Q=new(X(9751).y)(Ue=>Ue.complete())},8996:(Fn,At,X)=>{X.d(At,{D:()=>Ne});var C=X(8421),Q=X(5363),ce=X(9468),ie=X(9751),St=X(2202),yt=X(576),ve=X(9672);function Ye(ut,Mt){if(!ut)throw new Error("Iterable cannot be null");return new ie.y(tt=>{(0,ve.f)(tt,Mt,()=>{const Ct=ut[Symbol.asyncIterator]();(0,ve.f)(tt,Mt,()=>{Ct.next().then(gt=>{gt.done?tt.complete():tt.next(gt.value)})},0,!0)})})}var _t=X(3670),me=X(8239),Ot=X(1144),Ke=X(6495),Ut=X(2206),an=X(4532),zn=X(3260);function Ne(ut,Mt){return Mt?function Xe(ut,Mt){if(null!=ut){if((0,_t.c)(ut))return function Ie(ut,Mt){return(0,C.Xf)(ut).pipe((0,ce.R)(Mt),(0,Q.Q)(Mt))}(ut,Mt);if((0,Ot.z)(ut))return function _e(ut,Mt){return new ie.y(tt=>{let Ct=0;return Mt.schedule(function(){Ct===ut.length?tt.complete():(tt.next(ut[Ct++]),tt.closed||this.schedule())})})}(ut,Mt);if((0,me.t)(ut))return function Ue(ut,Mt){return(0,C.Xf)(ut).pipe((0,ce.R)(Mt),(0,Q.Q)(Mt))}(ut,Mt);if((0,Ut.D)(ut))return Ye(ut,Mt);if((0,Ke.T)(ut))return function pe(ut,Mt){return new ie.y(tt=>{let Ct;return(0,ve.f)(tt,Mt,()=>{Ct=ut[St.h](),(0,ve.f)(tt,Mt,()=>{let gt,en;try{({value:gt,done:en}=Ct.next())}catch(Qt){return void tt.error(Qt)}en?tt.complete():tt.next(gt)},0,!0)}),()=>(0,yt.m)(Ct?.return)&&Ct.return()})}(ut,Mt);if((0,zn.L)(ut))return function kt(ut,Mt){return Ye((0,zn.Q)(ut),Mt)}(ut,Mt)}throw(0,an.z)(ut)}(ut,Mt):(0,C.Xf)(ut)}},8421:(Fn,At,X)=>{X.d(At,{Xf:()=>_t});var C=X(7582),Q=X(1144),ce=X(8239),Ie=X(9751),Ue=X(3670),ie=X(2206),_e=X(4532),St=X(6495),yt=X(3260),ve=X(576),pe=X(7849),Ye=X(8822);function _t(Xe){if(Xe instanceof Ie.y)return Xe;if(null!=Xe){if((0,Ue.c)(Xe))return function me(Xe){return new Ie.y(Ne=>{const ut=Xe[Ye.L]();if((0,ve.m)(ut.subscribe))return ut.subscribe(Ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Xe);if((0,Q.z)(Xe))return function Ot(Xe){return new Ie.y(Ne=>{for(let ut=0;ut<Xe.length&&!Ne.closed;ut++)Ne.next(Xe[ut]);Ne.complete()})}(Xe);if((0,ce.t)(Xe))return function Ke(Xe){return new Ie.y(Ne=>{Xe.then(ut=>{Ne.closed||(Ne.next(ut),Ne.complete())},ut=>Ne.error(ut)).then(null,pe.h)})}(Xe);if((0,ie.D)(Xe))return an(Xe);if((0,St.T)(Xe))return function Ut(Xe){return new Ie.y(Ne=>{for(const ut of Xe)if(Ne.next(ut),Ne.closed)return;Ne.complete()})}(Xe);if((0,yt.L)(Xe))return function zn(Xe){return an((0,yt.Q)(Xe))}(Xe)}throw(0,_e.z)(Xe)}function an(Xe){return new Ie.y(Ne=>{(function kt(Xe,Ne){var ut,Mt,tt,Ct;return(0,C.mG)(this,void 0,void 0,function*(){try{for(ut=(0,C.KL)(Xe);!(Mt=yield ut.next()).done;)if(Ne.next(Mt.value),Ne.closed)return}catch(gt){tt={error:gt}}finally{try{Mt&&!Mt.done&&(Ct=ut.return)&&(yield Ct.call(ut))}finally{if(tt)throw tt.error}}Ne.complete()})})(Xe,Ne).catch(ut=>Ne.error(ut))})}},5403:(Fn,At,X)=>{X.d(At,{x:()=>Q});var C=X(2961);function Q(Ie,Ue,ie,_e,St){return new ce(Ie,Ue,ie,_e,St)}class ce extends C.Lv{constructor(Ue,ie,_e,St,yt,ve){super(Ue),this.onFinalize=yt,this.shouldUnsubscribe=ve,this._next=ie?function(pe){try{ie(pe)}catch(Ye){Ue.error(Ye)}}:super._next,this._error=St?function(pe){try{St(pe)}catch(Ye){Ue.error(Ye)}finally{this.unsubscribe()}}:super._error,this._complete=_e?function(){try{_e()}catch(pe){Ue.error(pe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ie}=this;super.unsubscribe(),!ie&&(null===(Ue=this.onFinalize)||void 0===Ue||Ue.call(this))}}}},4004:(Fn,At,X)=>{X.d(At,{U:()=>ce});var C=X(4482),Q=X(5403);function ce(Ie,Ue){return(0,C.e)((ie,_e)=>{let St=0;ie.subscribe((0,Q.x)(_e,yt=>{_e.next(Ie.call(Ue,yt,St++))}))})}},8189:(Fn,At,X)=>{X.d(At,{J:()=>ce});var C=X(5577),Q=X(4671);function ce(Ie=1/0){return(0,C.z)(Q.y,Ie)}},5577:(Fn,At,X)=>{X.d(At,{z:()=>St});var C=X(4004),Q=X(8421),ce=X(4482),Ie=X(9672),Ue=X(5403),_e=X(576);function St(yt,ve,pe=1/0){return(0,_e.m)(ve)?St((Ye,_t)=>(0,C.U)((me,Ot)=>ve(Ye,me,_t,Ot))((0,Q.Xf)(yt(Ye,_t))),pe):("number"==typeof ve&&(pe=ve),(0,ce.e)((Ye,_t)=>function ie(yt,ve,pe,Ye,_t,me,Ot,Ke){const Ut=[];let an=0,zn=0,kt=!1;const Xe=()=>{kt&&!Ut.length&&!an&&ve.complete()},Ne=Mt=>an<Ye?ut(Mt):Ut.push(Mt),ut=Mt=>{me&&ve.next(Mt),an++;let tt=!1;(0,Q.Xf)(pe(Mt,zn++)).subscribe((0,Ue.x)(ve,Ct=>{_t?.(Ct),me?Ne(Ct):ve.next(Ct)},()=>{tt=!0},void 0,()=>{if(tt)try{for(an--;Ut.length&&an<Ye;){const Ct=Ut.shift();Ot?(0,Ie.f)(ve,Ot,()=>ut(Ct)):ut(Ct)}Xe()}catch(Ct){ve.error(Ct)}}))};return yt.subscribe((0,Ue.x)(ve,Ne,()=>{kt=!0,Xe()})),()=>{Ke?.()}}(Ye,_t,yt,pe)))}},5363:(Fn,At,X)=>{X.d(At,{Q:()=>Ie});var C=X(9672),Q=X(4482),ce=X(5403);function Ie(Ue,ie=0){return(0,Q.e)((_e,St)=>{_e.subscribe((0,ce.x)(St,yt=>(0,C.f)(St,Ue,()=>St.next(yt),ie),()=>(0,C.f)(St,Ue,()=>St.complete(),ie),yt=>(0,C.f)(St,Ue,()=>St.error(yt),ie)))})}},9468:(Fn,At,X)=>{X.d(At,{R:()=>Q});var C=X(4482);function Q(ce,Ie=0){return(0,C.e)((Ue,ie)=>{ie.add(ce.schedule(()=>Ue.subscribe(ie),Ie))})}},8505:(Fn,At,X)=>{X.d(At,{b:()=>Ue});var C=X(576),Q=X(4482),ce=X(5403),Ie=X(4671);function Ue(ie,_e,St){const yt=(0,C.m)(ie)||_e||St?{next:ie,error:_e,complete:St}:ie;return yt?(0,Q.e)((ve,pe)=>{var Ye;null===(Ye=yt.subscribe)||void 0===Ye||Ye.call(yt);let _t=!0;ve.subscribe((0,ce.x)(pe,me=>{var Ot;null===(Ot=yt.next)||void 0===Ot||Ot.call(yt,me),pe.next(me)},()=>{var me;_t=!1,null===(me=yt.complete)||void 0===me||me.call(yt),pe.complete()},me=>{var Ot;_t=!1,null===(Ot=yt.error)||void 0===Ot||Ot.call(yt,me),pe.error(me)},()=>{var me,Ot;_t&&(null===(me=yt.unsubscribe)||void 0===me||me.call(yt)),null===(Ot=yt.finalize)||void 0===Ot||Ot.call(yt)}))}):Ie.y}},3410:(Fn,At,X)=>{X.d(At,{z:()=>C});const C={setTimeout(Q,ce,...Ie){const{delegate:Ue}=C;return Ue?.setTimeout?Ue.setTimeout(Q,ce,...Ie):setTimeout(Q,ce,...Ie)},clearTimeout(Q){const{delegate:ce}=C;return(ce?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},2202:(Fn,At,X)=>{X.d(At,{h:()=>Q});const Q=function C(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Fn,At,X)=>{X.d(At,{L:()=>C});const C="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Fn,At,X)=>{X.d(At,{_6:()=>ie,jO:()=>Ie,yG:()=>Ue});var C=X(576);function ce(_e){return _e[_e.length-1]}function Ie(_e){return(0,C.m)(ce(_e))?_e.pop():void 0}function Ue(_e){return function Q(_e){return _e&&(0,C.m)(_e.schedule)}(ce(_e))?_e.pop():void 0}function ie(_e,St){return"number"==typeof ce(_e)?_e.pop():St}},4742:(Fn,At,X)=>{X.d(At,{D:()=>Ue});const{isArray:C}=Array,{getPrototypeOf:Q,prototype:ce,keys:Ie}=Object;function Ue(_e){if(1===_e.length){const St=_e[0];if(C(St))return{args:St,keys:null};if(function ie(_e){return _e&&"object"==typeof _e&&Q(_e)===ce}(St)){const yt=Ie(St);return{args:yt.map(ve=>St[ve]),keys:yt}}}return{args:_e,keys:null}}},8737:(Fn,At,X)=>{function C(Q,ce){if(Q){const Ie=Q.indexOf(ce);0<=Ie&&Q.splice(Ie,1)}}X.d(At,{P:()=>C})},3888:(Fn,At,X)=>{function C(Q){const Ie=Q(Ue=>{Error.call(Ue),Ue.stack=(new Error).stack});return Ie.prototype=Object.create(Error.prototype),Ie.prototype.constructor=Ie,Ie}X.d(At,{d:()=>C})},1810:(Fn,At,X)=>{function C(Q,ce){return Q.reduce((Ie,Ue,ie)=>(Ie[Ue]=ce[ie],Ie),{})}X.d(At,{n:()=>C})},2806:(Fn,At,X)=>{X.d(At,{O:()=>Ie,x:()=>ce});var C=X(2416);let Q=null;function ce(Ue){if(C.v.useDeprecatedSynchronousErrorHandling){const ie=!Q;if(ie&&(Q={errorThrown:!1,error:null}),Ue(),ie){const{errorThrown:_e,error:St}=Q;if(Q=null,_e)throw St}}else Ue()}function Ie(Ue){C.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=Ue)}},9672:(Fn,At,X)=>{function C(Q,ce,Ie,Ue=0,ie=!1){const _e=ce.schedule(function(){Ie(),ie?Q.add(this.schedule(null,Ue)):this.unsubscribe()},Ue);if(Q.add(_e),!ie)return _e}X.d(At,{f:()=>C})},4671:(Fn,At,X)=>{function C(Q){return Q}X.d(At,{y:()=>C})},1144:(Fn,At,X)=>{X.d(At,{z:()=>C});const C=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},2206:(Fn,At,X)=>{X.d(At,{D:()=>Q});var C=X(576);function Q(ce){return Symbol.asyncIterator&&(0,C.m)(ce?.[Symbol.asyncIterator])}},576:(Fn,At,X)=>{function C(Q){return"function"==typeof Q}X.d(At,{m:()=>C})},3670:(Fn,At,X)=>{X.d(At,{c:()=>ce});var C=X(8822),Q=X(576);function ce(Ie){return(0,Q.m)(Ie[C.L])}},6495:(Fn,At,X)=>{X.d(At,{T:()=>ce});var C=X(2202),Q=X(576);function ce(Ie){return(0,Q.m)(Ie?.[C.h])}},8239:(Fn,At,X)=>{X.d(At,{t:()=>Q});var C=X(576);function Q(ce){return(0,C.m)(ce?.then)}},3260:(Fn,At,X)=>{X.d(At,{L:()=>Ie,Q:()=>ce});var C=X(7582),Q=X(576);function ce(Ue){return(0,C.FC)(this,arguments,function*(){const _e=Ue.getReader();try{for(;;){const{value:St,done:yt}=yield(0,C.qq)(_e.read());if(yt)return yield(0,C.qq)(void 0);yield yield(0,C.qq)(St)}}finally{_e.releaseLock()}})}function Ie(Ue){return(0,Q.m)(Ue?.getReader)}},4482:(Fn,At,X)=>{X.d(At,{A:()=>Q,e:()=>ce});var C=X(576);function Q(Ie){return(0,C.m)(Ie?.lift)}function ce(Ie){return Ue=>{if(Q(Ue))return Ue.lift(function(ie){try{return Ie(ie,this)}catch(_e){this.error(_e)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(Fn,At,X)=>{X.d(At,{Z:()=>Ie});var C=X(4004);const{isArray:Q}=Array;function Ie(Ue){return(0,C.U)(ie=>function ce(Ue,ie){return Q(ie)?Ue(...ie):Ue(ie)}(Ue,ie))}},9635:(Fn,At,X)=>{X.d(At,{U:()=>ce,z:()=>Q});var C=X(4671);function Q(...Ie){return ce(Ie)}function ce(Ie){return 0===Ie.length?C.y:1===Ie.length?Ie[0]:function(ie){return Ie.reduce((_e,St)=>St(_e),ie)}}},7849:(Fn,At,X)=>{X.d(At,{h:()=>ce});var C=X(2416),Q=X(3410);function ce(Ie){Q.z.setTimeout(()=>{const{onUnhandledError:Ue}=C.v;if(!Ue)throw Ie;Ue(Ie)})}},4532:(Fn,At,X)=>{function C(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}X.d(At,{z:()=>C})},7340:(Fn,At,X)=>{X.d(At,{LC:()=>Q,SB:()=>yt,X$:()=>Ie,ZE:()=>zn,ZN:()=>an,_j:()=>C,eR:()=>pe,jt:()=>Ue,k1:()=>kt,l3:()=>ce,oB:()=>St,vP:()=>_e});class C{}class Q{}const ce="*";function Ie(Xe,Ne){return{type:7,name:Xe,definitions:Ne,options:{}}}function Ue(Xe,Ne=null){return{type:4,styles:Ne,timings:Xe}}function _e(Xe,Ne=null){return{type:2,steps:Xe,options:Ne}}function St(Xe){return{type:6,styles:Xe,offset:null}}function yt(Xe,Ne,ut){return{type:0,name:Xe,styles:Ne,options:ut}}function pe(Xe,Ne,ut=null){return{type:1,expr:Xe,animation:Ne,options:ut}}function Ut(Xe){Promise.resolve().then(Xe)}class an{constructor(Ne=0,ut=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ne+ut}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ne=>Ne()),this._onDoneFns=[])}onStart(Ne){this._originalOnStartFns.push(Ne),this._onStartFns.push(Ne)}onDone(Ne){this._originalOnDoneFns.push(Ne),this._onDoneFns.push(Ne)}onDestroy(Ne){this._onDestroyFns.push(Ne)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ut(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ne=>Ne()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ne=>Ne()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Ne){this._position=this.totalTime?Ne*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ne){const ut="start"==Ne?this._onStartFns:this._onDoneFns;ut.forEach(Mt=>Mt()),ut.length=0}}class zn{constructor(Ne){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ne;let ut=0,Mt=0,tt=0;const Ct=this.players.length;0==Ct?Ut(()=>this._onFinish()):this.players.forEach(gt=>{gt.onDone(()=>{++ut==Ct&&this._onFinish()}),gt.onDestroy(()=>{++Mt==Ct&&this._onDestroy()}),gt.onStart(()=>{++tt==Ct&&this._onStart()})}),this.totalTime=this.players.reduce((gt,en)=>Math.max(gt,en.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ne=>Ne()),this._onDoneFns=[])}init(){this.players.forEach(Ne=>Ne.init())}onStart(Ne){this._onStartFns.push(Ne)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ne=>Ne()),this._onStartFns=[])}onDone(Ne){this._onDoneFns.push(Ne)}onDestroy(Ne){this._onDestroyFns.push(Ne)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ne=>Ne.play())}pause(){this.players.forEach(Ne=>Ne.pause())}restart(){this.players.forEach(Ne=>Ne.restart())}finish(){this._onFinish(),this.players.forEach(Ne=>Ne.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ne=>Ne.destroy()),this._onDestroyFns.forEach(Ne=>Ne()),this._onDestroyFns=[])}reset(){this.players.forEach(Ne=>Ne.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ne){const ut=Ne*this.totalTime;this.players.forEach(Mt=>{const tt=Mt.totalTime?Math.min(1,ut/Mt.totalTime):1;Mt.setPosition(tt)})}getPosition(){const Ne=this.players.reduce((ut,Mt)=>null===ut||Mt.totalTime>ut.totalTime?Mt:ut,null);return null!=Ne?Ne.getPosition():0}beforeDestroy(){this.players.forEach(Ne=>{Ne.beforeDestroy&&Ne.beforeDestroy()})}triggerCallback(Ne){const ut="start"==Ne?this._onStartFns:this._onDoneFns;ut.forEach(Mt=>Mt()),ut.length=0}}const kt="!"},6895:(Fn,At,X)=>{X.d(At,{Do:()=>zn,EM:()=>ji,HT:()=>Ie,JF:()=>ws,K0:()=>ie,Mx:()=>ps,O5:()=>le,S$:()=>Ke,V_:()=>yt,Ye:()=>kt,b0:()=>an,bD:()=>ga,ez:()=>js,q:()=>ce,sg:()=>cs,w_:()=>Ue});var C=X(8256);let Q=null;function ce(){return Q}function Ie(A){Q||(Q=A)}class Ue{}const ie=new C.OlP("DocumentToken");let _e=(()=>{class A{historyGo(x){throw new Error("Not implemented")}}return A.\u0275fac=function(x){return new(x||A)},A.\u0275prov=C.Yz7({token:A,factory:function(){return function St(){return(0,C.LFG)(ve)}()},providedIn:"platform"}),A})();const yt=new C.OlP("Location Initialized");let ve=(()=>{class A extends _e{constructor(x){super(),this._doc=x,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ce().getBaseHref(this._doc)}onPopState(x){const G=ce().getGlobalEventTarget(this._doc,"window");return G.addEventListener("popstate",x,!1),()=>G.removeEventListener("popstate",x)}onHashChange(x){const G=ce().getGlobalEventTarget(this._doc,"window");return G.addEventListener("hashchange",x,!1),()=>G.removeEventListener("hashchange",x)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(x){this._location.pathname=x}pushState(x,G,oe){pe()?this._history.pushState(x,G,oe):this._location.hash=oe}replaceState(x,G,oe){pe()?this._history.replaceState(x,G,oe):this._location.hash=oe}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}}return A.\u0275fac=function(x){return new(x||A)(C.LFG(ie))},A.\u0275prov=C.Yz7({token:A,factory:function(){return function Ye(){return new ve((0,C.LFG)(ie))}()},providedIn:"platform"}),A})();function pe(){return!!window.history.pushState}function _t(A,F){if(0==A.length)return F;if(0==F.length)return A;let x=0;return A.endsWith("/")&&x++,F.startsWith("/")&&x++,2==x?A+F.substring(1):1==x?A+F:A+"/"+F}function me(A){const F=A.match(/#|\?|$/),x=F&&F.index||A.length;return A.slice(0,x-("/"===A[x-1]?1:0))+A.slice(x)}function Ot(A){return A&&"?"!==A[0]?"?"+A:A}let Ke=(()=>{class A{historyGo(x){throw new Error("Not implemented")}}return A.\u0275fac=function(x){return new(x||A)},A.\u0275prov=C.Yz7({token:A,factory:function(){return(0,C.f3M)(an)},providedIn:"root"}),A})();const Ut=new C.OlP("appBaseHref");let an=(()=>{class A extends Ke{constructor(x,G){super(),this._platformLocation=x,this._removeListenerFns=[],this._baseHref=G??this._platformLocation.getBaseHrefFromDOM()??(0,C.f3M)(ie).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return _t(this._baseHref,x)}path(x=!1){const G=this._platformLocation.pathname+Ot(this._platformLocation.search),oe=this._platformLocation.hash;return oe&&x?`${G}${oe}`:G}pushState(x,G,oe,Ge){const ct=this.prepareExternalUrl(oe+Ot(Ge));this._platformLocation.pushState(x,G,ct)}replaceState(x,G,oe,Ge){const ct=this.prepareExternalUrl(oe+Ot(Ge));this._platformLocation.replaceState(x,G,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}}return A.\u0275fac=function(x){return new(x||A)(C.LFG(_e),C.LFG(Ut,8))},A.\u0275prov=C.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})(),zn=(()=>{class A extends Ke{constructor(x,G){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=G&&(this._baseHref=G)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let G=this._platformLocation.hash;return null==G&&(G="#"),G.length>0?G.substring(1):G}prepareExternalUrl(x){const G=_t(this._baseHref,x);return G.length>0?"#"+G:G}pushState(x,G,oe,Ge){let ct=this.prepareExternalUrl(oe+Ot(Ge));0==ct.length&&(ct=this._platformLocation.pathname),this._platformLocation.pushState(x,G,ct)}replaceState(x,G,oe,Ge){let ct=this.prepareExternalUrl(oe+Ot(Ge));0==ct.length&&(ct=this._platformLocation.pathname),this._platformLocation.replaceState(x,G,ct)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(x=0){this._platformLocation.historyGo?.(x)}}return A.\u0275fac=function(x){return new(x||A)(C.LFG(_e),C.LFG(Ut,8))},A.\u0275prov=C.Yz7({token:A,factory:A.\u0275fac}),A})(),kt=(()=>{class A{constructor(x){this._subject=new C.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=x;const G=this._locationStrategy.getBaseHref();this._basePath=function Mt(A){if(new RegExp("^(https?:)?//").test(A)){const[,x]=A.split(/\/\/[^\/]+/);return x}return A}(me(ut(G))),this._locationStrategy.onPopState(oe=>{this._subject.emit({url:this.path(!0),pop:!0,state:oe.state,type:oe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(x=!1){return this.normalize(this._locationStrategy.path(x))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(x,G=""){return this.path()==this.normalize(x+Ot(G))}normalize(x){return A.stripTrailingSlash(function Ne(A,F){if(!A||!F.startsWith(A))return F;const x=F.substring(A.length);return""===x||["/",";","?","#"].includes(x[0])?x:F}(this._basePath,ut(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._locationStrategy.prepareExternalUrl(x)}go(x,G="",oe=null){this._locationStrategy.pushState(oe,"",x,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Ot(G)),oe)}replaceState(x,G="",oe=null){this._locationStrategy.replaceState(oe,"",x,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+Ot(G)),oe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(x=0){this._locationStrategy.historyGo?.(x)}onUrlChange(x){return this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(G=>{this._notifyUrlChangeListeners(G.url,G.state)})),()=>{const G=this._urlChangeListeners.indexOf(x);this._urlChangeListeners.splice(G,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(x="",G){this._urlChangeListeners.forEach(oe=>oe(x,G))}subscribe(x,G,oe){return this._subject.subscribe({next:x,error:G,complete:oe})}}return A.normalizeQueryParams=Ot,A.joinWithSlash=_t,A.stripTrailingSlash=me,A.\u0275fac=function(x){return new(x||A)(C.LFG(Ke))},A.\u0275prov=C.Yz7({token:A,factory:function(){return function Xe(){return new kt((0,C.LFG)(Ke))}()},providedIn:"root"}),A})();function ut(A){return A.replace(/\/index.html$/,"")}function ps(A,F){F=encodeURIComponent(F);for(const x of A.split(";")){const G=x.indexOf("="),[oe,Ge]=-1==G?[x,""]:[x.slice(0,G),x.slice(G+1)];if(oe.trim()===F)return decodeURIComponent(Ge)}return null}class Ri{constructor(F,x,G,oe){this.$implicit=F,this.ngForOf=x,this.index=G,this.count=oe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let cs=(()=>{class A{set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}constructor(x,G,oe){this._viewContainer=x,this._template=G,this._differs=oe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const G=this._viewContainer;x.forEachOperation((oe,Ge,ct)=>{if(null==oe.previousIndex)G.createEmbeddedView(this._template,new Ri(oe.item,this._ngForOf,-1,-1),null===ct?void 0:ct);else if(null==ct)G.remove(null===Ge?void 0:Ge);else if(null!==Ge){const ot=G.get(Ge);G.move(ot,ct),Yi(ot,oe)}});for(let oe=0,Ge=G.length;oe<Ge;oe++){const ot=G.get(oe).context;ot.index=oe,ot.count=Ge,ot.ngForOf=this._ngForOf}x.forEachIdentityChange(oe=>{Yi(G.get(oe.currentIndex),oe)})}static ngTemplateContextGuard(x,G){return!0}}return A.\u0275fac=function(x){return new(x||A)(C.Y36(C.s_b),C.Y36(C.Rgc),C.Y36(C.ZZ4))},A.\u0275dir=C.lG2({type:A,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),A})();function Yi(A,F){A.context.$implicit=F.item}let le=(()=>{class A{constructor(x,G){this._viewContainer=x,this._context=new Ce,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=G}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){Ze("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){Ze("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,G){return!0}}return A.\u0275fac=function(x){return new(x||A)(C.Y36(C.s_b),C.Y36(C.Rgc))},A.\u0275dir=C.lG2({type:A,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),A})();class Ce{constructor(){this.$implicit=null,this.ngIf=null}}function Ze(A,F){if(F&&!F.createEmbeddedView)throw new Error(`${A} must be a TemplateRef, but received '${(0,C.AaK)(F)}'.`)}let js=(()=>{class A{}return A.\u0275fac=function(x){return new(x||A)},A.\u0275mod=C.oAB({type:A}),A.\u0275inj=C.cJS({}),A})();const ga="browser";let ji=(()=>{class A{}return A.\u0275prov=(0,C.Yz7)({token:A,providedIn:"root",factory:()=>new To((0,C.LFG)(ie),window)}),A})();class To{constructor(F,x){this.document=F,this.window=x,this.offset=()=>[0,0]}setOffset(F){this.offset=Array.isArray(F)?()=>F:F}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(F){this.supportsScrolling()&&this.window.scrollTo(F[0],F[1])}scrollToAnchor(F){if(!this.supportsScrolling())return;const x=function Lo(A,F){const x=A.getElementById(F)||A.getElementsByName(F)[0];if(x)return x;if("function"==typeof A.createTreeWalker&&A.body&&(A.body.createShadowRoot||A.body.attachShadow)){const G=A.createTreeWalker(A.body,NodeFilter.SHOW_ELEMENT);let oe=G.currentNode;for(;oe;){const Ge=oe.shadowRoot;if(Ge){const ct=Ge.getElementById(F)||Ge.querySelector(`[name="${F}"]`);if(ct)return ct}oe=G.nextNode()}}return null}(this.document,F);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(F){if(this.supportScrollRestoration()){const x=this.window.history;x&&x.scrollRestoration&&(x.scrollRestoration=F)}}scrollToElement(F){const x=F.getBoundingClientRect(),G=x.left+this.window.pageXOffset,oe=x.top+this.window.pageYOffset,Ge=this.offset();this.window.scrollTo(G-Ge[0],oe-Ge[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const F=Hs(this.window.history)||Hs(Object.getPrototypeOf(this.window.history));return!(!F||!F.writable&&!F.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Hs(A){return Object.getOwnPropertyDescriptor(A,"scrollRestoration")}class ws{}},8256:(Fn,At,X)=>{X.d(At,{QbO:()=>XE,tb:()=>sE,AFp:()=>Kw,ip1:()=>qw,CZH:()=>s_,hGG:()=>LI,z2F:()=>a_,sBO:()=>EI,Sil:()=>rI,_Vd:()=>Gu,EJc:()=>tI,Xts:()=>cp,SBq:()=>Bl,lqb:()=>uu,qLn:()=>ol,vpe:()=>t,XFs:()=>vt,OlP:()=>Hr,zs3:()=>cl,ZZ4:()=>f0,aQg:()=>p0,soG:()=>o_,YKP:()=>Fv,h0i:()=>vh,PXZ:()=>mI,R0b:()=>Mu,FiY:()=>ds,Lbi:()=>QE,g9A:()=>Yw,Qsj:()=>m_,FYo:()=>_p,JOm:()=>da,q3G:()=>Fs,tp0:()=>di,Rgc:()=>l,dDg:()=>hI,eoX:()=>rE,q4F:()=>Hh,GfV:()=>Ep,s_b:()=>q,ifc:()=>ft,MMx:()=>Yy,Lck:()=>J0,eFA:()=>aE,Gpc:()=>zn,f3M:()=>Te,$WT:()=>Zi,MR2:()=>h_,_c5:()=>FI,c2e:()=>JE,zSh:()=>$h,wAp:()=>nr,vHH:()=>tt,lri:()=>tE,rWj:()=>nE,JZr:()=>Mt,EiD:()=>Hg,mCW:()=>on,qzn:()=>Hu,JVY:()=>jg,pB0:()=>b,eBb:()=>d,L6k:()=>E,LAX:()=>p,D6c:()=>UI,cg1:()=>Ay,kL8:()=>lv,dqk:()=>Bn,Z0I:()=>ur,eJc:()=>Yv,CqO:()=>og,QGY:()=>nd,F4k:()=>Xm,RDi:()=>bd,AaK:()=>Ke,z3N:()=>Ka,qOj:()=>Yd,TTD:()=>gs,_Bn:()=>qy,jDz:()=>Uv,xp6:()=>Dc,uIk:()=>rg,Tol:()=>cy,Gre:()=>yy,ekj:()=>kf,Suo:()=>bw,Xpm:()=>Un,lG2:()=>Ds,Yz7:()=>Tr,cJS:()=>zr,oAB:()=>Gr,Yjl:()=>ps,Y36:()=>zl,_UZ:()=>Jd,BQk:()=>td,ynx:()=>ed,qZA:()=>Sf,TgZ:()=>bf,EpF:()=>Qm,n5z:()=>is,LFG:()=>ae,$8M:()=>eu,$Z:()=>tf,NdJ:()=>Af,CRH:()=>Sw,oxw:()=>ny,Hsn:()=>Rf,F$t:()=>th,Q6J:()=>Df,s9C:()=>nh,DdM:()=>e_,iGM:()=>Dw,KtG:()=>Ei,CHM:()=>Ps,oJD:()=>Ll,LSH:()=>Md,P3R:()=>qg,Udp:()=>ay,d8E:()=>vl,YNc:()=>Tf,_uU:()=>fy,Oqu:()=>Xu,hij:()=>Ju,AsE:()=>py});var C=X(7579),Q=X(727),ce=X(9751),Ie=X(8189),Ue=X(8421),ie=X(515),_e=X(7669),St=X(8996),ve=X(2961),pe=X(4482);function _t(n,i,...o){if(!0===i)return void n();if(!1===i)return;const u=new ve.Hp({next:()=>{u.unsubscribe(),n()}});return(0,Ue.Xf)(i(...o)).subscribe(u)}function me(n){for(let i in n)if(n[i]===me)return i;throw Error("Could not find renamed property on target object.")}function Ot(n,i){for(const o in i)i.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=i[o])}function Ke(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ke).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const i=n.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function Ut(n,i){return null==n||""===n?null===i?"":i:null==i||""===i?n:n+" "+i}const an=me({__forward_ref__:me});function zn(n){return n.__forward_ref__=zn,n.toString=function(){return Ke(this())},n}function kt(n){return Xe(n)?n():n}function Xe(n){return"function"==typeof n&&n.hasOwnProperty(an)&&n.__forward_ref__===zn}function Ne(n){return n&&!!n.\u0275providers}const Mt="https://g.co/ng/security#xss";class tt extends Error{constructor(i,o){super(Ct(i,o)),this.code=i}}function Ct(n,i){return`NG0${Math.abs(n)}${i?": "+i.trim():""}`}function gt(n){return"string"==typeof n?n:null==n?"":String(n)}function Pn(n,i){throw new tt(-201,!1)}function xn(n,i){null==n&&function cn(n,i,o,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,n,null,"!=")}function Tr(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function zr(n){return{providers:n.providers||[],imports:n.imports||[]}}function nn(n){return Oi(n,ai)||Oi(n,Ci)}function ur(n){return null!==nn(n)}function Oi(n,i){return n.hasOwnProperty(i)?n[i]:null}function us(n){return n&&(n.hasOwnProperty(mr)||n.hasOwnProperty(Kn))?n[mr]:null}const ai=me({\u0275prov:me}),mr=me({\u0275inj:me}),Ci=me({ngInjectableDef:me}),Kn=me({ngInjectorDef:me});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let _n;function Xn(n){const i=_n;return _n=n,i}function dr(n,i,o){const u=nn(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&vt.Optional?null:void 0!==i?i:void Pn(Ke(n))}const Bn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Gn={},ui="__NG_DI_FLAG__",Cr="ngTempTokenPath",Ai="ngTokenPath",Vr=/\n/gm,Cn="\u0275",Fr="__source";let sr;function ln(n){const i=sr;return sr=n,i}function Ur(n,i=vt.Default){if(void 0===sr)throw new tt(-203,!1);return null===sr?dr(n,void 0,i):sr.get(n,i&vt.Optional?null:void 0,i)}function ae(n,i=vt.Default){return(function Ln(){return _n}()||Ur)(kt(n),i)}function Te(n,i=vt.Default){return ae(n,rt(i))}function rt(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ke(n){const i=[];for(let o=0;o<n.length;o++){const u=kt(n[o]);if(Array.isArray(u)){if(0===u.length)throw new tt(900,!1);let c,h=vt.Default;for(let m=0;m<u.length;m++){const D=u[m],M=we(D);"number"==typeof M?-1===M?c=D.token:h|=M:c=D}i.push(ae(c,h))}else i.push(ae(u))}return i}function $t(n,i){return n[ui]=i,n.prototype[ui]=i,n}function we(n){return n[ui]}function Ee(n){return{toString:n}.toString()}var Qe=(()=>((Qe=Qe||{})[Qe.OnPush=0]="OnPush",Qe[Qe.Default=1]="Default",Qe))(),ft=(()=>{return(n=ft||(ft={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ft;var n})();const Kt={},tn=[],or=me({\u0275cmp:me}),Ii=me({\u0275dir:me}),He=me({\u0275pipe:me}),Le=me({\u0275mod:me}),wt=me({\u0275fac:me}),pn=me({__NG_ELEMENT_ID__:me});let gn=0;function Un(n){return Ee(()=>{const i=Vi(n),o={...i,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Qe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&n.dependencies||null,getStandaloneInjector:null,data:n.data||{},encapsulation:n.encapsulation||ft.Emulated,id:"c"+gn++,styles:n.styles||tn,_:null,schemas:n.schemas||null,tView:null};Ri(o);const u=n.dependencies;return o.directiveDefs=cs(u,!1),o.pipeDefs=cs(u,!0),o})}function Jr(n){return Wn(n)||$r(n)}function xr(n){return null!==n}function Gr(n){return Ee(()=>({type:n.type,bootstrap:n.bootstrap||tn,declarations:n.declarations||tn,imports:n.imports||tn,exports:n.exports||tn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ts(n,i){if(null==n)return Kt;const o={};for(const u in n)if(n.hasOwnProperty(u)){let c=n[u],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),o[c]=u,i&&(i[c]=h)}return o}function Ds(n){return Ee(()=>{const i=Vi(n);return Ri(i),i})}function ps(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Wn(n){return n[or]||null}function $r(n){return n[Ii]||null}function Zr(n){return n[He]||null}function Zi(n){const i=Wn(n)||$r(n)||Zr(n);return null!==i&&i.standalone}function On(n,i){const o=n[Le]||null;if(!o&&!0===i)throw new Error(`Type ${Ke(n)} does not have '\u0275mod' property.`);return o}function Vi(n){const i={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,exportAs:n.exportAs||null,standalone:!0===n.standalone,selectors:n.selectors||tn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ts(n.inputs,i),outputs:Ts(n.outputs)}}function Ri(n){n.features?.forEach(i=>i(n))}function cs(n,i){if(!n)return null;const o=i?Zr:Jr;return()=>("function"==typeof n?n():n).map(u=>o(u)).filter(xr)}const Yi=0,ne=1,le=2,Ce=3,Ze=4,xt=5,Xt=6,Jn=7,mn=8,Vn=9,vi=10,An=11,fi=12,Br=13,Qs=14,pi=15,ni=16,ls=17,Vs=18,ri=19,$s=20,Xs=21,yr=22,fo=1,Ao=2,Js=7,Wo=8,Ss=9,Qi=10;function ei(n){return Array.isArray(n)&&"object"==typeof n[fo]}function Ti(n){return Array.isArray(n)&&!0===n[fo]}function Cs(n){return 0!=(4&n.flags)}function Ji(n){return n.componentOffset>-1}function _r(n){return 1==(1&n.flags)}function $i(n){return!!n.template}function ki(n){return 0!=(256&n[le])}function ws(n,i){return n.hasOwnProperty(wt)?n[wt]:null}class qo{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function gs(){return zs}function zs(n){return n.type.prototype.ngOnChanges&&(n.setInput=Uo),no}function no(){const n=Ms(this),i=n?.current;if(i){const o=n.previous;if(o===Kt)n.previous=i;else for(let u in i)o[u]=i[u];n.current=null,this.ngOnChanges(i)}}function Uo(n,i,o,u){const c=this.declaredInputs[o],h=Ms(n)||function Pr(n,i){return n[xo]=i}(n,{previous:Kt,current:null}),m=h.current||(h.current={}),D=h.previous,M=D[c];m[c]=new qo(M&&M.currentValue,i,D===Kt),n[u]=i}gs.ngInherit=!0;const xo="__ngSimpleChanges__";function Ms(n){return n[xo]||null}const es=function(n,i,o){};function ci(n){for(;Array.isArray(n);)n=n[Yi];return n}function mo(n,i){return ci(i[n])}function ts(n,i){return ci(i[n.index])}function Mi(n,i){return n.data[i]}function wi(n,i){const o=i[n];return ei(o)?o:o[Yi]}function B(n){return 64==(64&n[le])}function ue(n,i){return null==i?null:n[i]}function xe(n){n[Vs]=0}function nt(n,i){n[xt]+=i;let o=n,u=n[Ce];for(;null!==u&&(1===i&&1===o[xt]||-1===i&&0===o[xt]);)u[xt]+=i,o=u,u=u[Ce]}const Je={lFrame:kn(null),bindingsEnabled:!0};function ti(){return Je.bindingsEnabled}function pt(){return Je.lFrame.lView}function yn(){return Je.lFrame.tView}function Ps(n){return Je.lFrame.contextLView=n,n[mn]}function Ei(n){return Je.lFrame.contextLView=null,n}function fr(){let n=Kr();for(;null!==n&&64===n.type;)n=n.parent;return n}function Kr(){return Je.lFrame.currentTNode}function Ar(n,i){const o=Je.lFrame;o.currentTNode=n,o.isParent=i}function yo(){return Je.lFrame.isParent}function ms(){Je.lFrame.isParent=!1}function _(){return Je.lFrame.bindingIndex++}function w(n){const i=Je.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+n,o}function J(n,i){const o=Je.lFrame;o.bindingIndex=o.bindingRootIndex=n,ge(i)}function ge(n){Je.lFrame.currentDirectiveIndex=n}function Re(n){const i=Je.lFrame.currentDirectiveIndex;return-1===i?null:n[i]}function st(){return Je.lFrame.currentQueryIndex}function zt(n){Je.lFrame.currentQueryIndex=n}function Yt(n){const i=n[ne];return 2===i.type?i.declTNode:1===i.type?n[Xt]:null}function Hn(n,i,o){if(o&vt.SkipSelf){let c=i,h=n;for(;!(c=c.parent,null!==c||o&vt.Host||(c=Yt(h),null===c||(h=h[pi],10&c.type))););if(null===c)return!1;i=c,n=h}const u=Je.lFrame=In();return u.currentTNode=i,u.lView=n,!0}function $n(n){const i=In(),o=n[ne];Je.lFrame=i,i.currentTNode=o.firstChild,i.lView=n,i.tView=o,i.contextLView=n,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function In(){const n=Je.lFrame,i=null===n?null:n.child;return null===i?kn(n):i}function kn(n){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=i),i}function cr(){const n=Je.lFrame;return Je.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const vr=cr;function wr(){const n=cr();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function gi(){return Je.lFrame.selectedIndex}function mi(n){Je.lFrame.selectedIndex=n}function ar(){const n=Je.lFrame;return Mi(n.tView,n.selectedIndex)}function Ge(n,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const h=n.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:D,ngAfterViewInit:M,ngAfterViewChecked:L,ngOnDestroy:W}=h;m&&(n.contentHooks??(n.contentHooks=[])).push(-o,m),D&&((n.contentHooks??(n.contentHooks=[])).push(o,D),(n.contentCheckHooks??(n.contentCheckHooks=[])).push(o,D)),M&&(n.viewHooks??(n.viewHooks=[])).push(-o,M),L&&((n.viewHooks??(n.viewHooks=[])).push(o,L),(n.viewCheckHooks??(n.viewCheckHooks=[])).push(o,L)),null!=W&&(n.destroyHooks??(n.destroyHooks=[])).push(o,W)}}function ct(n,i,o){Wt(n,i,3,o)}function ot(n,i,o,u){(3&n[le])===o&&Wt(n,i,o,u)}function Bt(n,i){let o=n[le];(3&o)===i&&(o&=2047,o+=1,n[le]=o)}function Wt(n,i,o,u){const h=u??-1,m=i.length-1;let D=0;for(let M=void 0!==u?65535&n[Vs]:0;M<m;M++)if("number"==typeof i[M+1]){if(D=i[M],null!=u&&D>=u)break}else i[M]<0&&(n[Vs]+=65536),(D<h||-1==h)&&(En(n,o,i,M),n[Vs]=(4294901760&n[Vs])+M+2),M++}function En(n,i,o,u){const c=o[u]<0,h=o[u+1],D=n[c?-o[u]:o[u]];if(c){if(n[le]>>11<n[Vs]>>16&&(3&n[le])===i){n[le]+=2048,es(4,D,h);try{h.call(D)}finally{es(5,D,h)}}}else{es(4,D,h);try{h.call(D)}finally{es(5,D,h)}}}const dn=-1;class Dr{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function ys(n,i,o){let u=0;for(;u<o.length;){const c=o[u];if("number"==typeof c){if(0!==c)break;u++;const h=o[u++],m=o[u++],D=o[u++];n.setAttribute(i,m,D,h)}else{const h=c,m=o[++u];Dn(h)?n.setProperty(i,h,m):n.setAttribute(i,h,m),u++}}return u}function rn(n){return 3===n||4===n||6===n}function Dn(n){return 64===n.charCodeAt(0)}function Yo(n,i){if(null!==i&&0!==i.length)if(null===n||0===n.length)n=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const c=i[u];"number"==typeof c?o=c:0===o||jt(n,o,c,null,-1===o||2===o?i[++u]:null)}}return n}function jt(n,i,o,u,c){let h=0,m=n.length;if(-1===i)m=-1;else for(;h<n.length;){const D=n[h++];if("number"==typeof D){if(D===i){m=-1;break}if(D>i){m=h-1;break}}}for(;h<n.length;){const D=n[h];if("number"==typeof D)break;if(D===o){if(null===u)return void(null!==c&&(n[h+1]=c));if(u===n[h+1])return void(n[h+2]=c)}h++,null!==u&&h++,null!==c&&h++}-1!==m&&(n.splice(m,0,i),h=m+1),n.splice(h++,0,o),null!==u&&n.splice(h++,0,u),null!==c&&n.splice(h++,0,c)}function qe(n){return n!==dn}function Dt(n){return 32767&n}function _a(n,i){let o=function Li(n){return n>>16}(n),u=i;for(;o>0;)u=u[pi],o--;return u}let nc=!0;function va(n){const i=nc;return nc=n,i}const rc=255,Xa=5;let ic=0;const Do={};function xi(n,i){const o=vn(n,i);if(-1!==o)return o;const u=i[ne];u.firstCreatePass&&(n.injectorIndex=i.length,Fa(u.data,n),Fa(i,null),Fa(u.blueprint,null));const c=na(n,i),h=n.injectorIndex;if(qe(c)){const m=Dt(c),D=_a(c,i),M=D[ne].data;for(let L=0;L<8;L++)i[h+L]=D[m+L]|M[m+L]}return i[h+8]=c,h}function Fa(n,i){n.push(0,0,0,0,0,0,0,0,i)}function vn(n,i){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===i[n.injectorIndex+8]?-1:n.injectorIndex}function na(n,i){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,u=null,c=i;for(;null!==c;){if(u=wo(c),null===u)return dn;if(o++,c=c[pi],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return dn}function ns(n,i,o){!function xu(n,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(pn)&&(u=o[pn]),null==u&&(u=o[pn]=ic++);const c=u&rc;i.data[n+(c>>Xa)]|=1<<c}(n,i,o)}function Mn(n,i,o){if(o&vt.Optional||void 0!==n)return n;Pn()}function rs(n,i,o,u){if(o&vt.Optional&&void 0===u&&(u=null),!(o&(vt.Self|vt.Host))){const c=n[Vn],h=Xn(void 0);try{return c?c.get(i,u,o&vt.Optional):dr(i,u,o&vt.Optional)}finally{Xn(h)}}return Mn(u,0,o)}function kr(n,i,o,u=vt.Default,c){if(null!==n){if(1024&i[le]){const m=function ia(n,i,o,u,c){let h=n,m=i;for(;null!==h&&null!==m&&1024&m[le]&&!(256&m[le]);){const D=ra(h,m,o,u|vt.Self,Do);if(D!==Do)return D;let M=h.parent;if(!M){const L=m[Xs];if(L){const W=L.get(o,Do,u);if(W!==Do)return W}M=wo(m),m=m[pi]}h=M}return c}(n,i,o,u,Do);if(m!==Do)return m}const h=ra(n,i,o,u,Do);if(h!==Do)return h}return rs(i,o,u,c)}function ra(n,i,o,u,c){const h=function fu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const i=n.hasOwnProperty(pn)?n[pn]:void 0;return"number"==typeof i?i>=0?i&rc:sc:i}(o);if("function"==typeof h){if(!Hn(i,n,u))return u&vt.Host?Mn(c,0,u):rs(i,o,u,c);try{const m=h(u);if(null!=m||u&vt.Optional)return m;Pn()}finally{vr()}}else if("number"==typeof h){let m=null,D=vn(n,i),M=dn,L=u&vt.Host?i[ni][Xt]:null;for((-1===D||u&vt.SkipSelf)&&(M=-1===D?na(n,i):i[D+8],M!==dn&&Pu(u,!1)?(m=i[ne],D=Dt(M),i=_a(M,i)):D=-1);-1!==D;){const W=i[ne];if(Qo(h,D,W.data)){const te=Ui(D,i,o,m,u,L);if(te!==Do)return te}M=i[D+8],M!==dn&&Pu(u,i[ne].data[D+8]===L)&&Qo(h,D,i)?(m=W,D=Dt(M),i=_a(M,i)):D=-1}}return c}function Ui(n,i,o,u,c,h){const m=i[ne],D=m.data[n+8],W=Vt(D,m,o,null==u?Ji(D)&&nc:u!=m&&0!=(3&D.type),c&vt.Host&&h===D);return null!==W?oo(i,m,W,D):Do}function Vt(n,i,o,u,c){const h=n.providerIndexes,m=i.data,D=1048575&h,M=n.directiveStart,W=h>>20,De=c?D+W:n.directiveEnd;for(let Ve=u?D:D+W;Ve<De;Ve++){const Et=m[Ve];if(Ve<M&&o===Et||Ve>=M&&Et.type===o)return Ve}if(c){const Ve=m[M];if(Ve&&$i(Ve)&&Ve.type===o)return M}return null}function oo(n,i,o,u){let c=n[o];const h=i.data;if(function Tn(n){return n instanceof Dr}(c)){const m=c;m.resolving&&function Qt(n,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${n}`:"";throw new tt(-200,`Circular dependency in DI detected for ${n}${o}`)}(function en(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():gt(n)}(h[o]));const D=va(m.canSeeViewProviders);m.resolving=!0;const M=m.injectImpl?Xn(m.injectImpl):null;Hn(n,u,vt.Default);try{c=n[o]=m.factory(void 0,h,n,u),i.firstCreatePass&&o>=u.directiveStart&&function oe(n,i,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(u){const m=zs(i);(o.preOrderHooks??(o.preOrderHooks=[])).push(n,m),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,m)}c&&(o.preOrderHooks??(o.preOrderHooks=[])).push(0-n,c),h&&((o.preOrderHooks??(o.preOrderHooks=[])).push(n,h),(o.preOrderCheckHooks??(o.preOrderCheckHooks=[])).push(n,h))}(o,h[o],i)}finally{null!==M&&Xn(M),va(D),m.resolving=!1,vr()}}return c}function Qo(n,i,o){return!!(o[i+(n>>Xa)]&1<<n)}function Pu(n,i){return!(n&vt.Self||n&vt.Host&&i)}class vo{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return kr(this._tNode,this._lView,i,rt(u),o)}}function sc(){return new vo(fr(),pt())}function is(n){return Ee(()=>{const i=n.prototype.constructor,o=i[wt]||Ja(i),u=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==u;){const h=c[wt]||Ja(c);if(h&&h!==o)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Ja(n){return Xe(n)?()=>{const i=Ja(kt(n));return i&&i()}:ws(n)}function wo(n){const i=n[ne],o=i.type;return 2===o?i.declTNode:1===o?n[Xt]:null}function eu(n){return function Pi(n,i){if("class"===i)return n.classes;if("style"===i)return n.styles;const o=n.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const h=o[c];if(rn(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(h===i)return o[c+1];c+=2}}}return null}(fr(),n)}const sa="__parameters__";function Bo(n,i,o){return Ee(()=>{const u=function Be(n){return function(...o){if(n){const u=n(...o);for(const c in u)this[c]=u[c]}}}(i);function c(...h){if(this instanceof c)return u.apply(this,h),this;const m=new c(...h);return D.annotation=m,D;function D(M,L,W){const te=M.hasOwnProperty(sa)?M[sa]:Object.defineProperty(M,sa,{value:[]})[sa];for(;te.length<=W;)te.push(null);return(te[W]=te[W]||[]).push(m),M}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class Hr{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Tr({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Vo(n,i){n.forEach(o=>Array.isArray(o)?Vo(o,i):i(o))}function Ba(n,i,o){i>=n.length?n.push(o):n.splice(i,0,o)}function Ia(n,i){return i>=n.length-1?n.pop():n.splice(i,1)[0]}function $o(n,i){const o=[];for(let u=0;u<n;u++)o.push(i);return o}function g(n,i,o){let u=N(n,i);return u>=0?n[1|u]=o:(u=~u,function y(n,i,o,u){let c=n.length;if(c==i)n.push(o,u);else if(1===c)n.push(u,n[0]),n[0]=o;else{for(c--,n.push(n[c-1],n[c]);c>i;)n[c]=n[c-2],c--;n[i]=o,n[i+1]=u}}(n,u,i,o)),u}function S(n,i){const o=N(n,i);if(o>=0)return n[1|o]}function N(n,i){return function K(n,i,o){let u=0,c=n.length>>o;for(;c!==u;){const h=u+(c-u>>1),m=n[h<<o];if(i===m)return h<<o;m>i?c=h:u=h+1}return~(c<<o)}(n,i,1)}const ds=$t(Bo("Optional"),8),di=$t(Bo("SkipSelf"),4);var da=(()=>((da=da||{})[da.Important=1]="Important",da[da.DashCase=2]="DashCase",da))();const Si=new Map;let Wa=0;const Pe="__ngContext__";function We(n,i){ei(i)?(n[Pe]=i[$s],function Al(n){Si.set(n[$s],n)}(i)):n[Pe]=i}let Aa;function vu(n,i){return Aa(n,i)}function qa(n){const i=n[Ce];return Ti(i)?i[Ce]:i}function hc(n){return yd(n[Br])}function fc(n){return yd(n[Ze])}function yd(n){for(;null!==n&&!Ti(n);)n=n[Ze];return n}function Bu(n,i,o,u,c){if(null!=u){let h,m=!1;Ti(u)?h=u:ei(u)&&(m=!0,u=u[Yi]);const D=ci(u);0===n&&null!==o?null==c?Jf(i,o,D):jo(i,o,D,c||null,!0):1===n&&null!==o?jo(i,o,D,c||null,!0):2===n?function Td(n,i,o){const u=jc(n,i);u&&function ep(n,i,o,u){n.removeChild(i,o,u)}(n,u,i,o)}(i,D,m):3===n&&i.destroyNode(D),null!=h&&function Wc(n,i,o,u,c){const h=o[Js];h!==ci(o)&&Bu(i,n,u,h,c);for(let D=Qi;D<o.length;D++){const M=o[D];Nl(M[ne],M,n,i,u,h)}}(i,n,h,o,c)}}function Ml(n,i,o){return n.createElement(i,o)}function Bc(n,i){const o=n[Ss],u=o.indexOf(i),c=i[Ce];512&i[le]&&(i[le]&=-513,nt(c,-1)),o.splice(u,1)}function $u(n,i){if(n.length<=Qi)return;const o=Qi+i,u=n[o];if(u){const c=u[ls];null!==c&&c!==n&&Bc(c,u),i>0&&(n[o-1][Ze]=u[Ze]);const h=Ia(n,Qi+i);!function xl(n,i){Nl(n,i,i[An],2,null,null),i[Yi]=null,i[Xt]=null}(u[ne],u);const m=h[ri];null!==m&&m.detachView(h[ne]),u[Ce]=null,u[Ze]=null,u[le]&=-65}return u}function vd(n,i){if(!(128&i[le])){const o=i[An];o.destroyNode&&Nl(n,i,o,3,null,null),function gc(n){let i=n[Br];if(!i)return Vc(n[ne],n);for(;i;){let o=null;if(ei(i))o=i[Br];else{const u=i[Qi];u&&(o=u)}if(!o){for(;i&&!i[Ze]&&i!==n;)ei(i)&&Vc(i[ne],i),i=i[Ce];null===i&&(i=n),ei(i)&&Vc(i[ne],i),o=i&&i[Ze]}i=o}}(i)}}function Vc(n,i){if(!(128&i[le])){i[le]&=-65,i[le]|=128,function Qf(n,i){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let u=0;u<o.length;u+=2){const c=i[o[u]];if(!(c instanceof Dr)){const h=o[u+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const D=c[h[m]],M=h[m+1];es(4,D,M);try{M.call(D)}finally{es(5,D,M)}}else{es(4,c,h);try{h.call(c)}finally{es(5,c,h)}}}}}(n,i),function $c(n,i){const o=n.cleanup,u=i[Jn];let c=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+3];m>=0?u[c=m]():u[c=-m].unsubscribe(),h+=2}else{const m=u[c=o[h+1]];o[h].call(m)}if(null!==u){for(let h=c+1;h<u.length;h++)(0,u[h])();i[Jn]=null}}(n,i),1===i[ne].type&&i[An].destroy();const o=i[ls];if(null!==o&&Ti(i[Ce])){o!==i[Ce]&&Bc(o,i);const u=i[ri];null!==u&&u.detachView(n)}!function I(n){Si.delete(n[$s])}(i)}}function Dh(n,i,o){return function Xf(n,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[Yi];{const{componentOffset:c}=u;if(c>-1){const{encapsulation:h}=n.data[u.directiveStart+c];if(h===ft.None||h===ft.Emulated)return null}return ts(u,o)}}(n,i.parent,o)}function jo(n,i,o,u,c){n.insertBefore(i,o,u,c)}function Jf(n,i,o){n.appendChild(i,o)}function Ho(n,i,o,u,c){null!==u?jo(n,i,o,u,c):Jf(n,i,o)}function jc(n,i){return n.parentNode(i)}function bh(n,i,o){return Sh(n,i,o)}let Ch,Eu,Kc,Ol,Sh=function Hc(n,i,o){return 40&n.type?ts(n,o):null};function Ed(n,i,o,u){const c=Dh(n,u,i),h=i[An],D=bh(u.parent||i[Xt],u,i);if(null!=c)if(Array.isArray(o))for(let M=0;M<o.length;M++)Ho(h,c,o[M],D,!1);else Ho(h,c,o,D,!1);void 0!==Ch&&Ch(h,u,i,o,c)}function zc(n,i){if(null!==i){const o=i.type;if(3&o)return ts(i,n);if(4&o)return Id(-1,n[i.index]);if(8&o){const u=i.child;if(null!==u)return zc(n,u);{const c=n[i.index];return Ti(c)?Id(-1,c):ci(c)}}if(32&o)return vu(i,n)()||ci(n[i.index]);{const u=Ah(n,i);return null!==u?Array.isArray(u)?u[0]:zc(qa(n[ni]),u):zc(n,i.next)}}return null}function Ah(n,i){return null!==i?n[ni][Xt].projection[i.projection]:null}function Id(n,i){const o=Qi+n+1;if(o<i.length){const u=i[o],c=u[ne].firstChild;if(null!==c)return zc(u,c)}return i[Js]}function Gc(n,i,o,u,c,h,m){for(;null!=o;){const D=u[o.index],M=o.type;if(m&&0===i&&(D&&We(ci(D),u),o.flags|=2),32!=(32&o.flags))if(8&M)Gc(n,i,o.child,u,c,h,!1),Bu(i,n,c,D,h);else if(32&M){const L=vu(o,u);let W;for(;W=L();)Bu(i,n,c,W,h);Bu(i,n,c,D,h)}else 16&M?Rh(n,i,u,o,c,h):Bu(i,n,c,D,h);o=m?o.projectionNext:o.next}}function Nl(n,i,o,u,c,h){Gc(o,u,n.firstChild,i,c,h,!1)}function Rh(n,i,o,u,c,h){const m=o[ni],M=m[Xt].projection[u.projection];if(Array.isArray(M))for(let L=0;L<M.length;L++)Bu(i,n,c,M[L],h);else Gc(n,i,M,m[Ce],c,h,!0)}function ju(n,i,o){""===o?n.removeAttribute(i,"class"):n.setAttribute(i,"class",o)}function Mh(n,i,o){const{mergedAttrs:u,classes:c,styles:h}=o;null!==u&&ys(n,i,u),null!==c&&ju(n,i,c),null!==h&&function tp(n,i,o){n.setAttribute(i,"style",o)}(n,i,h)}function yc(n){return function Dd(){if(void 0===Eu&&(Eu=null,Bn.trustedTypes))try{Eu=Bn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Eu}()?.createHTML(n)||n}function bd(n){Kc=n}function _c(){if(void 0===Ol&&(Ol=null,Bn.trustedTypes))try{Ol=Bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ol}function np(n){return _c()?.createHTML(n)||n}function vc(n){return _c()?.createScriptURL(n)||n}class ko{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Mt})`}}class rp extends ko{getTypeName(){return"HTML"}}class ip extends ko{getTypeName(){return"Style"}}class sp extends ko{getTypeName(){return"Script"}}class Zc extends ko{getTypeName(){return"URL"}}class Nh extends ko{getTypeName(){return"ResourceURL"}}function Ka(n){return n instanceof ko?n.changingThisBreaksApplicationSecurity:n}function Hu(n,i){const o=function Oh(n){return n instanceof ko&&n.getTypeName()||null}(n);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see ${Mt})`)}return o===i}function jg(n){return new rp(n)}function E(n){return new ip(n)}function d(n){return new sp(n)}function p(n){return new Zc(n)}function b(n){return new Nh(n)}class Y{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const o=(new window.DOMParser).parseFromString(yc(i),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(i):(o.removeChild(o.firstChild),o)}catch{return null}}}class Me{constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){const o=this.inertDocument.createElement("template");return o.innerHTML=yc(i),o}}const Ht=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function on(n){return(n=String(n)).match(Ht)?n:"unsafe:"+n}function bn(n){const i={};for(const o of n.split(","))i[o]=!0;return i}function Er(...n){const i={};for(const o of n)for(const u in o)o.hasOwnProperty(u)&&(i[u]=!0);return i}const Ks=bn("area,br,col,hr,img,wbr"),ta=bn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),au=bn("rp,rt"),Yc=Er(Ks,Er(ta,bn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Er(au,bn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Er(au,ta)),Qc=bn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Fl=Er(Qc,bn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Uh=bn("script,style,template");class op{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let o=i.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(i){const o=i.nodeName.toLowerCase();if(!Yc.hasOwnProperty(o))return this.sanitizedSomething=!0,!Uh.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=i.attributes;for(let c=0;c<u.length;c++){const h=u.item(c),m=h.name,D=m.toLowerCase();if(!Fl.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let M=h.value;Qc[D]&&(M=on(M)),this.buf.push(" ",m,'="',Xc(M),'"')}return this.buf.push(">"),!0}endElement(i){const o=i.nodeName.toLowerCase();Yc.hasOwnProperty(o)&&!Ks.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(i){this.buf.push(Xc(i))}checkClobberedElement(i,o){if(o&&(i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return o}}const Cd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ad=/([^\#-~ |!])/g;function Xc(n){return n.replace(/&/g,"&amp;").replace(Cd,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Ad,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Rd;function Hg(n,i){let o=null;try{Rd=Rd||function j(n){const i=new Me(n);return function et(){try{return!!(new window.DOMParser).parseFromString(yc(""),"text/html")}catch{return!1}}()?new Y(i):i}(n);let u=i?String(i):"";o=Rd.getInertBodyElement(u);let c=5,h=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=h,h=o.innerHTML,o=Rd.getInertBodyElement(u)}while(u!==h);return yc((new op).sanitizeChildren(Es(o)||o))}finally{if(o){const u=Es(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Es(n){return"content"in n&&function ap(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Fs=(()=>((Fs=Fs||{})[Fs.NONE=0]="NONE",Fs[Fs.HTML=1]="HTML",Fs[Fs.STYLE=2]="STYLE",Fs[Fs.SCRIPT=3]="SCRIPT",Fs[Fs.URL=4]="URL",Fs[Fs.RESOURCE_URL=5]="RESOURCE_URL",Fs))();function Ll(n){const i=Jc();return i?np(i.sanitize(Fs.HTML,n)||""):Hu(n,"HTML")?np(Ka(n)):Hg(function xh(){return void 0!==Kc?Kc:typeof document<"u"?document:void 0}(),gt(n))}function Md(n){const i=Jc();return i?i.sanitize(Fs.URL,n)||"":Hu(n,"URL")?Ka(n):on(gt(n))}function up(n){const i=Jc();if(i)return vc(i.sanitize(Fs.RESOURCE_URL,n)||"");if(Hu(n,"ResourceURL"))return vc(Ka(n));throw new tt(904,!1)}function qg(n,i,o){return function Wg(n,i){return"src"===i&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===i&&("base"===n||"link"===n)?up:Md}(i,o)(n)}function Jc(){const n=pt();return n&&n[fi]}const cp=new Hr("ENVIRONMENT_INITIALIZER"),lp=new Hr("INJECTOR",-1),Vh=new Hr("INJECTOR_DEF_TYPES");class dp{get(i,o=Gn){if(o===Gn){const u=new Error(`NullInjectorError: No provider for ${Ke(i)}!`);throw u.name="NullInjectorError",u}return o}}function h_(n){return{\u0275providers:n}}function Kg(...n){return{\u0275providers:Zg(0,n),\u0275fromNgModule:!0}}function Zg(n,...i){const o=[],u=new Set;let c;return Vo(i,h=>{const m=h;hp(m,o,[],u)&&(c||(c=[]),c.push(m))}),void 0!==c&&Yg(c,o),o}function Yg(n,i){for(let o=0;o<n.length;o++){const{providers:c}=n[o];wc(c,h=>{i.push(h)})}}function hp(n,i,o,u){if(!(n=kt(n)))return!1;let c=null,h=us(n);const m=!h&&Wn(n);if(h||m){if(m&&!m.standalone)return!1;c=n}else{const M=n.ngModule;if(h=us(M),!h)return!1;c=M}const D=u.has(c);if(m){if(D)return!1;if(u.add(c),m.dependencies){const M="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const L of M)hp(L,i,o,u)}}else{if(!h)return!1;{if(null!=h.imports&&!D){let L;u.add(c);try{Vo(h.imports,W=>{hp(W,i,o,u)&&(L||(L=[]),L.push(W))})}finally{}void 0!==L&&Yg(L,i)}if(!D){const L=ws(c)||(()=>new c);i.push({provide:c,useFactory:L,deps:tn},{provide:Vh,useValue:c,multi:!0},{provide:cp,useValue:()=>ae(c),multi:!0})}const M=h.providers;null==M||D||wc(M,W=>{i.push(W)})}}return c!==n&&void 0!==n.providers}function wc(n,i){for(let o of n)Ne(o)&&(o=o.\u0275providers),Array.isArray(o)?wc(o,i):i(o)}const Qg=me({provide:String,useValue:me});function fp(n){return null!==n&&"object"==typeof n&&Qg in n}function Ec(n){return"function"==typeof n}const $h=new Hr("Set Injector scope."),tl={},nl={};let zu;function Du(){return void 0===zu&&(zu=new dp),zu}class uu{}class gp extends uu{get destroyed(){return this._destroyed}constructor(i,o,u,c){super(),this.parent=o,this.source=u,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rl(i,m=>this.processProvider(m)),this.records.set(lp,Ul(void 0,this)),c.has("environment")&&this.records.set(uu,Ul(void 0,this));const h=this.records.get($h);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Vh.multi,tn,vt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();for(const i of this._onDestroyHooks)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(i){this._onDestroyHooks.push(i)}runInContext(i){this.assertNotDestroyed();const o=ln(this),u=Xn(void 0);try{return i()}finally{ln(o),Xn(u)}}get(i,o=Gn,u=vt.Default){this.assertNotDestroyed(),u=rt(u);const c=ln(this),h=Xn(void 0);try{if(!(u&vt.SkipSelf)){let D=this.records.get(i);if(void 0===D){const M=function jh(n){return"function"==typeof n||"object"==typeof n&&n instanceof Hr}(i)&&nn(i);D=M&&this.injectableDefInScope(M)?Ul(Pd(i),tl):null,this.records.set(i,D)}if(null!=D)return this.hydrate(i,D)}return(u&vt.Self?Du():this.parent).get(i,o=u&vt.Optional&&o===Gn?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Cr]=m[Cr]||[]).unshift(Ke(i)),c)throw m;return function fe(n,i,o,u){const c=n[Cr];throw i[Fr]&&c.unshift(i[Fr]),n.message=function ee(n,i,o,u=null){n=n&&"\n"===n.charAt(0)&&n.charAt(1)==Cn?n.slice(2):n;let c=Ke(i);if(Array.isArray(i))c=i.map(Ke).join(" -> ");else if("object"==typeof i){let h=[];for(let m in i)if(i.hasOwnProperty(m)){let D=i[m];h.push(m+":"+("string"==typeof D?JSON.stringify(D):Ke(D)))}c=`{${h.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${n.replace(Vr,"\n  ")}`}("\n"+n.message,c,o,u),n[Ai]=c,n[Cr]=null,n}(m,i,"R3InjectorError",this.source)}throw m}finally{Xn(h),ln(c)}}resolveInjectorInitializers(){const i=ln(this),o=Xn(void 0);try{const u=this.get(cp.multi,tn,vt.Self);for(const c of u)c()}finally{ln(i),Xn(o)}}toString(){const i=[],o=this.records;for(const u of o.keys())i.push(Ke(u));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new tt(205,!1)}processProvider(i){let o=Ec(i=kt(i))?i:kt(i&&i.provide);const u=function Xg(n){return fp(n)?Ul(void 0,n.useValue):Ul(yp(n),tl)}(i);if(Ec(i)||!0!==i.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=Ul(void 0,tl,!0),c.factory=()=>ke(c.multi),this.records.set(o,c)),o=i,c.multi.push(i)}this.records.set(o,u)}hydrate(i,o){return o.value===tl&&(o.value=nl,o.value=o.factory()),"object"==typeof o.value&&o.value&&function em(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=kt(i.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function Pd(n){const i=nn(n),o=null!==i?i.factory:ws(n);if(null!==o)return o;if(n instanceof Hr)throw new tt(204,!1);if(n instanceof Function)return function mp(n){const i=n.length;if(i>0)throw $o(i,"?"),new tt(204,!1);const o=function yi(n){return n&&(n[ai]||n[Ci])||null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new tt(204,!1)}function yp(n,i,o){let u;if(Ec(n)){const c=kt(n);return ws(c)||Pd(c)}if(fp(n))u=()=>kt(n.useValue);else if(function Tu(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...ke(n.deps||[]));else if(function pp(n){return!(!n||!n.useExisting)}(n))u=()=>ae(kt(n.useExisting));else{const c=kt(n&&(n.useClass||n.provide));if(!function Jg(n){return!!n.deps}(n))return ws(c)||Pd(c);u=()=>new c(...ke(n.deps))}return u}function Ul(n,i,o=!1){return{factory:n,value:i,multi:o?[]:void 0}}function rl(n,i){for(const o of n)Array.isArray(o)?rl(o,i):o&&Ne(o)?rl(o.\u0275providers,i):i(o)}class il{}class tm{}class p_{resolveComponentFactory(i){throw function nm(n){const i=Error(`No component factory found for ${Ke(n)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=n,i}(i)}}let Gu=(()=>{class n{}return n.NULL=new p_,n})();function sl(){return Ma(fr(),pt())}function Ma(n,i){return new Bl(ts(n,i))}let Bl=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=sl,n})();function g_(n){return n instanceof Bl?n.nativeElement:n}class _p{}let m_=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function vp(){const n=pt(),o=wi(fr().index,n);return(ei(o)?o:n)[An]}(),n})(),wp=(()=>{class n{}return n.\u0275prov=Tr({token:n,providedIn:"root",factory:()=>null}),n})();class Ep{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Hh=new Ep("15.2.9"),Nd={},zh="ngOriginalError";function Ip(n){return n[zh]}class ol{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i);this._console.error("ERROR",i),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&Ip(i);for(;o&&Ip(o);)o=Ip(o);return o||null}}function vs(n){return n instanceof Function?n():n}function Dp(n,i,o){let u=n.length;for(;;){const c=n.indexOf(i,o);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const h=i.length;if(c+h===u||n.charCodeAt(c+h)<=32)return c}o=c+1}}const Ic="ng-template";function v_(n,i,o){let u=0,c=!0;for(;u<n.length;){let h=n[u++];if("string"==typeof h&&c){const m=n[u++];if(o&&"class"===h&&-1!==Dp(m.toLowerCase(),i,0))return!0}else{if(1===h){for(;u<n.length&&"string"==typeof(h=n[u++]);)if(h.toLowerCase()===i)return!0;return!1}"number"==typeof h&&(c=!1)}}return!1}function ul(n){return 4===n.type&&n.value!==Ic}function am(n,i,o){return i===(4!==n.type||o?n.value:Ic)}function Tc(n,i,o){let u=4;const c=n.attrs||[],h=function um(n){for(let i=0;i<n.length;i++)if(rn(n[i]))return i;return n.length}(c);let m=!1;for(let D=0;D<i.length;D++){const M=i[D];if("number"!=typeof M){if(!m)if(4&u){if(u=2|1&u,""!==M&&!am(n,M,o)||""===M&&1===i.length){if(Za(u))return!1;m=!0}}else{const L=8&u?M:i[++D];if(8&u&&null!==n.attrs){if(!v_(n.attrs,L,o)){if(Za(u))return!1;m=!0}continue}const te=w_(8&u?"class":M,c,ul(n),o);if(-1===te){if(Za(u))return!1;m=!0;continue}if(""!==L){let De;De=te>h?"":c[te+1].toLowerCase();const Ve=8&u?De:null;if(Ve&&-1!==Dp(Ve,L,0)||2&u&&L!==De){if(Za(u))return!1;m=!0}}}}else{if(!m&&!Za(u)&&!Za(M))return!1;if(m&&Za(M))continue;m=!1,u=M|1&u}}return Za(u)||m}function Za(n){return 0==(1&n)}function w_(n,i,o,u){if(null===i)return-1;let c=0;if(u||!o){let h=!1;for(;c<i.length;){const m=i[c];if(m===n)return c;if(3===m||6===m)h=!0;else{if(1===m||2===m){let D=i[++c];for(;"string"==typeof D;)D=i[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=h?1:2}return-1}return function I_(n,i){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const u=n[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,n)}function bp(n,i,o=!1){for(let u=0;u<i.length;u++)if(Tc(n,i[u],o))return!0;return!1}function Zh(n,i){e:for(let o=0;o<i.length;o++){const u=i[o];if(n.length===u.length){for(let c=0;c<n.length;c++)if(n[c]!==u[c])continue e;return!0}}return!1}function cm(n,i){return n?":not("+i.trim()+")":i}function T_(n){let i=n[0],o=1,u=2,c="",h=!1;for(;o<n.length;){let m=n[o];if("string"==typeof m)if(2&u){const D=n[++o];c+="["+m+(D.length>0?'="'+D+'"':"")+"]"}else 8&u?c+="."+m:4&u&&(c+=" "+m);else""!==c&&!Za(m)&&(i+=cm(h,c),c=""),u=m,h=h||!Za(u);o++}return""!==c&&(i+=cm(h,c)),i}const Ir={};function Dc(n){Vl(yn(),pt(),gi()+n,!1)}function Vl(n,i,o,u){if(!u)if(3==(3&i[le])){const h=n.preOrderCheckHooks;null!==h&&ct(i,h,o)}else{const h=n.preOrderHooks;null!==h&&ot(i,h,0,o)}mi(o)}function fm(n,i=null,o=null,u){const c=pm(n,i,o,u);return c.resolveInjectorInitializers(),c}function pm(n,i=null,o=null,u,c=new Set){const h=[o||tn,Kg(n)];return u=u||("object"==typeof n?void 0:Ke(n)),new gp(h,i||Du(),u||null,c)}let cl=(()=>{class n{static create(o,u){if(Array.isArray(o))return fm({name:""},u,o,"");{const c=o.name??"";return fm({name:c},o.parent,o.providers,c)}}}return n.THROW_IF_NOT_FOUND=Gn,n.NULL=new dp,n.\u0275prov=Tr({token:n,providedIn:"any",factory:()=>ae(lp)}),n.__NG_ELEMENT_ID__=-1,n})();function zl(n,i=vt.Default){const o=pt();return null===o?ae(n,i):kr(fr(),o,kt(n),i)}function tf(){throw new Error("invalid")}function Op(n,i){const o=n.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const h=o[u+1];if(-1!==h){const m=n.data[h];zt(o[u]),m.contentQueries(2,i[h],h)}}}function Sc(n,i,o,u,c,h,m,D,M,L,W){const te=i.blueprint.slice();return te[Yi]=c,te[le]=76|u,(null!==W||n&&1024&n[le])&&(te[le]|=1024),xe(te),te[Ce]=te[pi]=n,te[mn]=o,te[vi]=m||n&&n[vi],te[An]=D||n&&n[An],te[fi]=M||n&&n[fi]||null,te[Vn]=L||n&&n[Vn]||null,te[Xt]=h,te[$s]=function uc(){return Wa++}(),te[Xs]=W,te[ni]=2==i.type?n[ni]:te,te}function qu(n,i,o,u,c){let h=n.data[i];if(null===h)h=function Bd(n,i,o,u,c){const h=Kr(),m=yo(),M=n.data[i]=function sf(n,i,o,u,c,h){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,i,u,c);return null===n.firstChild&&(n.firstChild=M),null!==h&&(m?null==h.child&&null!==M.parent&&(h.child=M):null===h.next&&(h.next=M,M.prev=h)),M}(n,i,o,u,c),function P(){return Je.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=u,h.attrs=c;const m=function Gi(){const n=Je.lFrame,i=n.currentTNode;return n.isParent?i:i.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return Ar(h,!0),h}function dl(n,i,o,u){if(0===o)return-1;const c=i.length;for(let h=0;h<o;h++)i.push(u),n.blueprint.push(u),n.data.push(null);return c}function Vd(n,i,o){$n(i);try{const u=n.viewQuery;null!==u&&Wp(1,u,o);const c=n.template;null!==c&&Tm(n,i,c,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Op(n,i),n.staticViewQueries&&Wp(2,n.viewQuery,o);const h=n.components;null!==h&&function nf(n,i){for(let o=0;o<i.length;o++)Kl(n,i[o])}(i,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{i[le]&=-5,wr()}}function $d(n,i,o,u){const c=i[le];if(128!=(128&c)){$n(i);try{xe(i),function $(n){return Je.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&Tm(n,i,o,2,u);const m=3==(3&c);if(m){const L=n.preOrderCheckHooks;null!==L&&ct(i,L,null)}else{const L=n.preOrderHooks;null!==L&&ot(i,L,0,null),Bt(i,0)}if(function lf(n){for(let i=hc(n);null!==i;i=fc(i)){if(!i[Ao])continue;const o=i[Ss];for(let u=0;u<o.length;u++){const c=o[u];512&c[le]||nt(c[Ce],1),c[le]|=512}}}(i),function Hp(n){for(let i=hc(n);null!==i;i=fc(i))for(let o=Qi;o<i.length;o++){const u=i[o],c=u[ne];B(u)&&$d(c,u,c.template,u[mn])}}(i),null!==n.contentQueries&&Op(n,i),m){const L=n.contentCheckHooks;null!==L&&ct(i,L)}else{const L=n.contentHooks;null!==L&&ot(i,L,1),Bt(i,1)}!function Im(n,i){const o=n.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)mi(~c);else{const h=c,m=o[++u],D=o[++u];J(m,h),D(2,i[h])}}}finally{mi(-1)}}(n,i);const D=n.components;null!==D&&function kp(n,i){for(let o=0;o<i.length;o++)zp(n,i[o])}(i,D);const M=n.viewQuery;if(null!==M&&Wp(2,M,u),m){const L=n.viewCheckHooks;null!==L&&ct(i,L)}else{const L=n.viewHooks;null!==L&&ot(i,L,2),Bt(i,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),i[le]&=-41,512&i[le]&&(i[le]&=-513,nt(i[Ce],-1))}finally{wr()}}}function Tm(n,i,o,u,c){const h=gi(),m=2&u;try{mi(-1),m&&i.length>yr&&Vl(n,i,yr,!1),es(m?2:0,c),o(u,c)}finally{mi(h),es(m?3:1,c)}}function rf(n,i,o){if(Cs(i)){const c=i.directiveEnd;for(let h=i.directiveStart;h<c;h++){const m=n.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}function Gl(n,i,o){ti()&&(function ql(n,i,o,u){const c=o.directiveStart,h=o.directiveEnd;Ji(o)&&function Rm(n,i,o){const u=ts(i,n),c=Dm(o),h=n[vi],m=hf(n,Sc(n,c,null,o.onPush?32:16,u,i,h,h.createRenderer(u,o),null,null,null));n[i.index]=m}(i,o,n.data[c+o.componentOffset]),n.firstCreatePass||xi(o,i),We(u,i);const m=o.initialInputs;for(let D=c;D<h;D++){const M=n.data[D],L=oo(i,n,D,o);We(L,i),null!==m&&L_(0,D-c,L,M,0,m),$i(M)&&(wi(o.index,i)[mn]=oo(i,n,D,o))}}(n,i,o,ts(o,i)),64==(64&o.flags)&&uf(n,i,o))}function jd(n,i,o=ts){const u=i.localNames;if(null!==u){let c=i.index+1;for(let h=0;h<u.length;h+=2){const m=u[h+1],D=-1===m?o(i,n):n[m];n[c++]=D}}}function Dm(n){const i=n.tView;return null===i||i.incompleteFirstPass?n.tView=Fp(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):i}function Fp(n,i,o,u,c,h,m,D,M,L){const W=yr+u,te=W+c,De=function zo(n,i){const o=[];for(let u=0;u<i;u++)o.push(u<n?null:Ir);return o}(W,te),Ve="function"==typeof L?L():L;return De[ne]={type:n,blueprint:De,template:o,queries:null,viewQuery:D,declTNode:i,data:De.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:M,consts:Ve,incompleteFirstPass:!1}}function Lp(n,i,o,u){const c=Pm(i);null===o?c.push(u):(c.push(o),n.firstCreatePass&&pf(n).push(u,c.length-1))}function Wl(n,i,o,u){for(let c in n)if(n.hasOwnProperty(c)){o=null===o?{}:o;const h=n[c];null===u?af(o,i,c,h):u.hasOwnProperty(c)&&af(o,i,u[c],h)}return o}function af(n,i,o,u){n.hasOwnProperty(o)?n[o].push(i,u):n[o]=[i,u]}function xa(n,i,o,u,c,h,m,D){const M=ts(i,o);let W,L=i.inputs;!D&&null!=L&&(W=L[u])?(qp(n,o,W,u,c),Ji(i)&&function k_(n,i){const o=wi(i,n);16&o[le]||(o[le]|=32)}(o,i.index)):3&i.type&&(u=function O_(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),c=null!=m?m(c,i.value||"",u):c,h.setProperty(M,u,c))}function Up(n,i,o,u){if(ti()){const c=null===u?null:{"":-1},h=function zd(n,i){const o=n.directiveRegistry;let u=null,c=null;if(o)for(let h=0;h<o.length;h++){const m=o[h];if(bp(i,m.selectors,!1))if(u||(u=[]),$i(m))if(null!==m.findHostDirectiveDefs){const D=[];c=c||new Map,m.findHostDirectiveDefs(m,D,c),u.unshift(...D,m),Gd(n,i,D.length)}else u.unshift(m),Gd(n,i,0);else c=c||new Map,m.findHostDirectiveDefs?.(m,u,c),u.push(m)}return null===u?null:[u,c]}(n,o);let m,D;null===h?m=D=null:[m,D]=h,null!==m&&Cm(n,i,o,m,c,D),c&&function Am(n,i,o){if(i){const u=n.localNames=[];for(let c=0;c<i.length;c+=2){const h=o[i[c+1]];if(null==h)throw new tt(-301,!1);u.push(i[c],h)}}}(o,u,c)}o.mergedAttrs=Yo(o.mergedAttrs,o.attrs)}function Cm(n,i,o,u,c,h){for(let L=0;L<u.length;L++)ns(xi(o,i),n,u[L].type);!function $p(n,i,o){n.flags|=1,n.directiveStart=i,n.directiveEnd=i+o,n.providerIndexes=i}(o,n.data.length,u.length);for(let L=0;L<u.length;L++){const W=u[L];W.providersResolver&&W.providersResolver(W)}let m=!1,D=!1,M=dl(n,i,u.length,null);for(let L=0;L<u.length;L++){const W=u[L];o.mergedAttrs=Yo(o.mergedAttrs,W.hostAttrs),Cc(n,o,i,M,W),Vp(M,W,c),null!==W.contentQueries&&(o.flags|=4),(null!==W.hostBindings||null!==W.hostAttrs||0!==W.hostVars)&&(o.flags|=64);const te=W.type.prototype;!m&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((n.preOrderHooks??(n.preOrderHooks=[])).push(o.index),m=!0),!D&&(te.ngOnChanges||te.ngDoCheck)&&((n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(o.index),D=!0),M++}!function bm(n,i,o){const c=i.directiveEnd,h=n.data,m=i.attrs,D=[];let M=null,L=null;for(let W=i.directiveStart;W<c;W++){const te=h[W],De=o?o.get(te):null,Et=De?De.outputs:null;M=Wl(te.inputs,W,M,De?De.inputs:null),L=Wl(te.outputs,W,L,Et);const Lt=null===M||null===m||ul(i)?null:jp(M,W,m);D.push(Lt)}null!==M&&(M.hasOwnProperty("class")&&(i.flags|=8),M.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=D,i.inputs=M,i.outputs=L}(n,o,h)}function uf(n,i,o){const u=o.directiveStart,c=o.directiveEnd,h=o.index,m=function de(){return Je.lFrame.currentDirectiveIndex}();try{mi(h);for(let D=u;D<c;D++){const M=n.data[D],L=i[D];ge(D),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&cf(M,L)}}finally{mi(-1),ge(m)}}function cf(n,i){null!==n.hostBindings&&n.hostBindings(1,i)}function Gd(n,i,o){i.componentOffset=o,(n.components??(n.components=[])).push(i.index)}function Vp(n,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=n;$i(i)&&(o[""]=n)}}function Cc(n,i,o,u,c){n.data[u]=c;const h=c.factory||(c.factory=ws(c.type)),m=new Dr(h,$i(c),zl);n.blueprint[u]=m,o[u]=m,function Hd(n,i,o,u,c){const h=c.hostBindings;if(h){let m=n.hostBindingOpCodes;null===m&&(m=n.hostBindingOpCodes=[]);const D=~i.index;(function Bp(n){let i=n.length;for(;i>0;){const o=n[--i];if("number"==typeof o&&o<0)return o}return 0})(m)!=D&&m.push(D),m.push(o,u,h)}}(n,i,u,dl(n,o,c.hostVars,Ir),c)}function bu(n,i,o,u,c,h){const m=ts(n,i);!function Wd(n,i,o,u,c,h,m){if(null==h)n.removeAttribute(i,c,o);else{const D=null==m?gt(h):m(h,u||"",c);n.setAttribute(i,c,D,o)}}(i[An],m,h,n.value,o,u,c)}function L_(n,i,o,u,c,h){const m=h[i];if(null!==m){const D=u.setInput;for(let M=0;M<m.length;){const L=m[M++],W=m[M++],te=m[M++];null!==D?u.setInput(o,te,L,W):o[W]=te}}}function jp(n,i,o){let u=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;if(n.hasOwnProperty(h)){null===u&&(u=[]);const m=n[h];for(let D=0;D<m.length;D+=2)if(m[D]===i){u.push(h,m[D+1],o[c+1]);break}}c+=2}else c+=2;else c+=4}return u}function Mm(n,i,o,u){return[n,!0,!1,i,null,0,u,o,null,null]}function zp(n,i){const o=wi(i,n);if(B(o)){const u=o[ne];48&o[le]?$d(u,o,u.template,o[mn]):o[xt]>0&&df(o)}}function df(n){for(let u=hc(n);null!==u;u=fc(u))for(let c=Qi;c<u.length;c++){const h=u[c];if(B(h))if(512&h[le]){const m=h[ne];$d(m,h,m.template,h[mn])}else h[xt]>0&&df(h)}const o=n[ne].components;if(null!==o)for(let u=0;u<o.length;u++){const c=wi(o[u],n);B(c)&&c[xt]>0&&df(c)}}function Kl(n,i){const o=wi(i,n),u=o[ne];(function Gp(n,i){for(let o=i.length;o<n.blueprint.length;o++)i.push(n.blueprint[o])})(u,o),Vd(u,o,o[mn])}function hf(n,i){return n[Br]?n[Qs][Ze]=i:n[Br]=i,n[Qs]=i,i}function ff(n){for(;n;){n[le]|=32;const i=qa(n);if(ki(n)&&!i)return n;n=i}return null}function qd(n,i,o,u=!0){const c=i[vi];c.begin&&c.begin();try{$d(n,i,n.template,o)}catch(m){throw u&&gf(i,m),m}finally{c.end&&c.end()}}function Wp(n,i,o){zt(0),i(n,o)}function Pm(n){return n[Jn]||(n[Jn]=[])}function pf(n){return n.cleanup||(n.cleanup=[])}function gf(n,i){const o=n[Vn],u=o?o.get(ol,null):null;u&&u.handleError(i)}function qp(n,i,o,u,c){for(let h=0;h<o.length;){const m=o[h++],D=o[h++],M=i[m],L=n.data[m];null!==L.setInput?L.setInput(M,c,u,D):M[D]=c}}function cu(n,i,o){const u=mo(i,n);!function Rl(n,i,o){n.setValue(i,o)}(n[An],u,o)}function Kd(n,i,o){let u=o?n.styles:null,c=o?n.classes:null,h=0;if(null!==i)for(let m=0;m<i.length;m++){const D=i[m];"number"==typeof D?h=D:1==h?c=Ut(c,D):2==h&&(u=Ut(u,D+": "+i[++m]+";"))}o?n.styles=u:n.stylesWithoutHost=u,o?n.classes=c:n.classesWithoutHost=c}function Zl(n,i,o,u,c=!1){for(;null!==o;){const h=i[o.index];if(null!==h&&u.push(ci(h)),Ti(h))for(let D=Qi;D<h.length;D++){const M=h[D],L=M[ne].firstChild;null!==L&&Zl(M[ne],M,L,u)}const m=o.type;if(8&m)Zl(n,i,o.child,u);else if(32&m){const D=vu(o,i);let M;for(;M=D();)u.push(M)}else if(16&m){const D=Ah(i,o);if(Array.isArray(D))u.push(...D);else{const M=qa(i[ni]);Zl(M[ne],M,D,u,!0)}}o=c?o.projectionNext:o.next}return u}class hl{get rootNodes(){const i=this._lView,o=i[ne];return Zl(o,i,o.firstChild,[])}constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mn]}set context(i){this._lView[mn]=i}get destroyed(){return 128==(128&this._lView[le])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Ce];if(Ti(i)){const o=i[Wo],u=o?o.indexOf(this):-1;u>-1&&($u(i,u),Ia(o,u))}this._attachedToViewContainer=!1}vd(this._lView[ne],this._lView)}onDestroy(i){Lp(this._lView[ne],this._lView,null,i)}markForCheck(){ff(this._cdRefInjectingView||this._lView)}detach(){this._lView[le]&=-65}reattach(){this._lView[le]|=64}detectChanges(){qd(this._lView[ne],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new tt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Pl(n,i){Nl(n,i,i[An],2,null,null)}(this._lView[ne],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new tt(902,!1);this._appRef=i}}class Kp extends hl{constructor(i){super(i),this._view=i}detectChanges(){const i=this._view;qd(i[ne],i,i[mn],!1)}checkNoChanges(){}get context(){return null}}class fl extends Gu{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Wn(i);return new Su(o,this.ngModule)}}function Ku(n){const i=[];for(let o in n)n.hasOwnProperty(o)&&i.push({propName:n[o],templateName:o});return i}class Yl{constructor(i,o){this.injector=i,this.parentInjector=o}get(i,o,u){u=rt(u);const c=this.injector.get(i,Nd,u);return c!==Nd||o===Nd?c:this.parentInjector.get(i,o,u)}}class Su extends tm{get inputs(){return Ku(this.componentDef.inputs)}get outputs(){return Ku(this.componentDef.outputs)}constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function lm(n){return n.map(T_).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}create(i,o,u,c){let h=(c=c||this.ngModule)instanceof uu?c:c?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const m=h?new Yl(i,h):i,D=m.get(_p,null);if(null===D)throw new tt(407,!1);const M=m.get(wp,null),L=D.createRenderer(null,this.componentDef),W=this.componentDef.selectors[0][0]||"div",te=u?function N_(n,i,o){return n.selectRootElement(i,o===ft.ShadowDom)}(L,u,this.componentDef.encapsulation):Ml(L,W,function Zp(n){const i=n.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(W)),De=this.componentDef.onPush?288:272,Ve=Fp(0,null,null,1,0,null,null,null,null,null),Et=Sc(null,Ve,null,De,null,null,D,L,M,m,null);let Lt,fn;$n(Et);try{const Rn=this.componentDef;let qn,Nt=null;Rn.findHostDirectiveDefs?(qn=[],Nt=new Map,Rn.findHostDirectiveDefs(Rn,qn,Nt),qn.push(Rn)):qn=[Rn];const Rr=function B_(n,i){const o=n[ne],u=yr;return n[u]=i,qu(o,u,2,"#host",null)}(Et,te),Bs=function V_(n,i,o,u,c,h,m,D){const M=c[ne];!function Yp(n,i,o,u){for(const c of n)i.mergedAttrs=Yo(i.mergedAttrs,c.hostAttrs);null!==i.mergedAttrs&&(Kd(i,i.mergedAttrs,!0),null!==o&&Mh(u,o,i))}(u,n,i,m);const L=h.createRenderer(i,o),W=Sc(c,Dm(o),null,o.onPush?32:16,c[n.index],n,h,L,D||null,null,null);return M.firstCreatePass&&Gd(M,n,u.length-1),hf(c,W),c[n.index]=W}(Rr,te,Rn,qn,Et,D,L);fn=Mi(Ve,yr),te&&function Xp(n,i,o,u){if(u)ys(n,o,["ng-version",Hh.full]);else{const{attrs:c,classes:h}=function D_(n){const i=[],o=[];let u=1,c=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===c?""!==h&&i.push(h,n[++u]):8===c&&o.push(h);else{if(!Za(c))break;c=h}u++}return{attrs:i,classes:o}}(i.selectors[0]);c&&ys(n,o,c),h&&h.length>0&&ju(n,o,h.join(" "))}}(L,Rn,te,u),void 0!==o&&function Jp(n,i,o){const u=n.projection=[];for(let c=0;c<i.length;c++){const h=o[c];u.push(null!=h?Array.from(h):null)}}(fn,this.ngContentSelectors,o),Lt=function Qp(n,i,o,u,c,h){const m=fr(),D=c[ne],M=ts(m,c);Cm(D,c,m,o,null,u);for(let W=0;W<o.length;W++)We(oo(c,D,m.directiveStart+W,m),c);uf(D,c,m),M&&We(M,c);const L=oo(c,D,m.directiveStart+m.componentOffset,m);if(n[mn]=c[mn]=L,null!==h)for(const W of h)W(L,i);return rf(D,m,n),L}(Bs,Rn,qn,Nt,Et,[$_]),Vd(Ve,Et,null)}finally{wr()}return new Om(this.componentType,Lt,Ma(fn,Et),Et,fn)}}class Om extends il{constructor(i,o,u,c,h){super(),this.location=u,this._rootLView=c,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new Kp(c),this.componentType=i}setInput(i,o){const u=this._tNode.inputs;let c;if(null!==u&&(c=u[i])){const h=this._rootLView;qp(h[ne],h,c,i,o),ff(wi(this._tNode.index,h))}}get injector(){return new vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function $_(){const n=fr();Ge(pt()[ne],n)}function Yd(n){let i=function km(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const u=[n];for(;i;){let c;if($i(n))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new tt(903,!1);c=i.\u0275dir}if(c){if(o){u.push(c);const m=n;m.inputs=tg(n.inputs),m.declaredInputs=tg(n.declaredInputs),m.outputs=tg(n.outputs);const D=c.hostBindings;D&&Lm(n,D);const M=c.viewQuery,L=c.contentQueries;if(M&&Fm(n,M),L&&j_(n,L),Ot(n.inputs,c.inputs),Ot(n.declaredInputs,c.declaredInputs),Ot(n.outputs,c.outputs),$i(c)&&c.data.animation){const W=n.data;W.animation=(W.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let m=0;m<h.length;m++){const D=h[m];D&&D.ngInherit&&D(n),D===Yd&&(o=!1)}}i=Object.getPrototypeOf(i)}!function eg(n){let i=0,o=null;for(let u=n.length-1;u>=0;u--){const c=n[u];c.hostVars=i+=c.hostVars,c.hostAttrs=Yo(c.hostAttrs,o=Yo(o,c.hostAttrs))}}(u)}function tg(n){return n===Kt?{}:n===tn?[]:n}function Fm(n,i){const o=n.viewQuery;n.viewQuery=o?(u,c)=>{i(u,c),o(u,c)}:i}function j_(n,i){const o=n.contentQueries;n.contentQueries=o?(u,c,h)=>{i(u,c,h),o(u,c,h)}:i}function Lm(n,i){const o=n.hostBindings;n.hostBindings=o?(u,c)=>{i(u,c),o(u,c)}:i}function yf(n){return!!Qd(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Qd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Go(n,i,o){return!Object.is(n[i],o)&&(n[i]=o,!0)}function rg(n,i,o,u){const c=pt();return Go(c,_(),i)&&(yn(),bu(ar(),c,n,i,o,u)),rg}function Xl(n,i,o,u){return Go(n,_(),o)?i+gt(o)+u:Ir}function Rc(n,i,o,u,c,h){const D=function Zu(n,i,o,u){const c=Go(n,i,o);return Go(n,i+1,u)||c}(n,function Yr(){return Je.lFrame.bindingIndex}(),o,c);return w(2),D?i+gt(o)+u+gt(c)+h:Ir}function Tf(n,i,o,u,c,h,m,D){const M=pt(),L=yn(),W=n+yr,te=L.firstCreatePass?function W_(n,i,o,u,c,h,m,D,M){const L=i.consts,W=qu(i,n,4,m||null,ue(L,D));Up(i,o,W,ue(L,M)),Ge(i,W);const te=W.tView=Fp(2,W,u,c,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,L);return null!==i.queries&&(i.queries.template(i,W),te.queries=i.queries.embeddedTView(W)),W}(W,L,M,i,o,u,c,h,m):L.data[W];Ar(te,!1);const De=M[An].createComment("");Ed(L,M,De,te),We(De,M),hf(M,M[W]=Mm(De,M,De,te)),_r(te)&&Gl(L,M,te),null!=m&&jd(M,te,D)}function Df(n,i,o){const u=pt();return Go(u,_(),i)&&xa(yn(),ar(),u,n,i,u[An],o,!1),Df}function Xd(n,i,o,u,c){const m=c?"class":"style";qp(n,o,i.inputs[m],m,u)}function bf(n,i,o,u){const c=pt(),h=yn(),m=yr+n,D=c[An],M=h.firstCreatePass?function Ym(n,i,o,u,c,h){const m=i.consts,M=qu(i,n,2,u,ue(m,c));return Up(i,o,M,ue(m,h)),null!==M.attrs&&Kd(M,M.attrs,!1),null!==M.mergedAttrs&&Kd(M,M.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,M),M}(m,h,c,i,o,u):h.data[m],L=c[m]=Ml(D,i,function G(){return Je.lFrame.currentNamespace}()),W=_r(M);return Ar(M,!0),Mh(D,L,M),32!=(32&M.flags)&&Ed(h,c,L,M),0===function er(){return Je.lFrame.elementDepthCount}()&&We(L,c),function Zn(){Je.lFrame.elementDepthCount++}(),W&&(Gl(h,c,M),rf(h,M,c)),null!==u&&jd(c,M),bf}function Sf(){let n=fr();yo()?ms():(n=n.parent,Ar(n,!1));const i=n;!function qr(){Je.lFrame.elementDepthCount--}();const o=yn();return o.firstCreatePass&&(Ge(o,n),Cs(n)&&o.queries.elementEnd(n)),null!=i.classesWithoutHost&&function Zo(n){return 0!=(8&n.flags)}(i)&&Xd(o,i,pt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function at(n){return 0!=(16&n.flags)}(i)&&Xd(o,i,pt(),i.stylesWithoutHost,!1),Sf}function Jd(n,i,o,u){return bf(n,i,o,u),Sf(),Jd}function ed(n,i,o){const u=pt(),c=yn(),h=n+yr,m=c.firstCreatePass?function K_(n,i,o,u,c){const h=i.consts,m=ue(h,u),D=qu(i,n,8,"ng-container",m);return null!==m&&Kd(D,m,!0),Up(i,o,D,ue(h,c)),null!==i.queries&&i.queries.elementStart(i,D),D}(h,c,u,i,o):c.data[h];Ar(m,!0);const D=u[h]=u[An].createComment("");return Ed(c,u,D,m),We(D,u),_r(m)&&(Gl(c,u,m),rf(c,m,u)),null!=o&&jd(u,m),ed}function td(){let n=fr();const i=yn();return yo()?ms():(n=n.parent,Ar(n,!1)),i.firstCreatePass&&(Ge(i,n),Cs(n)&&i.queries.elementEnd(n)),td}function Qm(){return pt()}function nd(n){return!!n&&"function"==typeof n.then}function Xm(n){return!!n&&"function"==typeof n.subscribe}const og=Xm;function Af(n,i,o,u){const c=pt(),h=yn(),m=fr();return function eh(n,i,o,u,c,h,m){const D=_r(u),L=n.firstCreatePass&&pf(n),W=i[mn],te=Pm(i);let De=!0;if(3&u.type||m){const Lt=ts(u,i),fn=m?m(Lt):Lt,Rn=te.length,qn=m?Rr=>m(ci(Rr[u.index])):u.index;let Nt=null;if(!m&&D&&(Nt=function Jm(n,i,o,u){const c=n.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const m=c[h];if(m===o&&c[h+1]===u){const D=i[Jn],M=c[h+2];return D.length>M?D[M]:null}"string"==typeof m&&(h+=2)}return null}(n,i,c,u.index)),null!==Nt)(Nt.__ngLastListenerFn__||Nt).__ngNextListenerFn__=h,Nt.__ngLastListenerFn__=h,De=!1;else{h=ty(u,i,W,h,!1);const Rr=o.listen(fn,c,h);te.push(h,Rr),L&&L.push(c,qn,Rn,Rn+1)}}else h=ty(u,i,W,h,!1);const Ve=u.outputs;let Et;if(De&&null!==Ve&&(Et=Ve[c])){const Lt=Et.length;if(Lt)for(let fn=0;fn<Lt;fn+=2){const Bs=i[Et[fn]][Et[fn+1]].subscribe(h),Io=te.length;te.push(h,Bs),L&&L.push(c,u.index,Io,-(Io+1))}}}(h,c,c[An],m,n,i,u),Af}function ey(n,i,o,u){try{return es(6,i,o),!1!==o(u)}catch(c){return gf(n,c),!1}finally{es(7,i,o)}}function ty(n,i,o,u,c){return function h(m){if(m===Function)return u;ff(n.componentOffset>-1?wi(n.index,i):i);let M=ey(i,o,u,m),L=h.__ngNextListenerFn__;for(;L;)M=ey(i,o,L,m)&&M,L=L.__ngNextListenerFn__;return c&&!1===M&&(m.preventDefault(),m.returnValue=!1),M}}function ny(n=1){return function Nr(n){return(Je.lFrame.contextLView=function li(n,i){for(;n>0;)i=i[pi],n--;return i}(n,Je.lFrame.contextLView))[mn]}(n)}function Z_(n,i){let o=null;const u=function E_(n){const i=n.attrs;if(null!=i){const o=i.indexOf(5);if(!(1&o))return i[o+1]}return null}(n);for(let c=0;c<i.length;c++){const h=i[c];if("*"!==h){if(null===u?bp(n,h,!0):Zh(u,h))return c}else o=c}return o}function th(n){const i=pt()[ni][Xt];if(!i.projection){const u=i.projection=$o(n?n.length:1,null),c=u.slice();let h=i.child;for(;null!==h;){const m=n?Z_(h,n):0;null!==m&&(c[m]?c[m].projectionNext=h:u[m]=h,c[m]=h),h=h.next}}}function Rf(n,i=0,o){const u=pt(),c=yn(),h=qu(c,yr+n,16,null,o||null);null===h.projection&&(h.projection=i),ms(),32!=(32&h.flags)&&function Vg(n,i,o){Rh(i[An],0,i,o,Dh(n,o,i),bh(o.parent||i[Xt],o,i))}(c,u,h)}function nh(n,i,o){return rh(n,"",i,"",o),nh}function rh(n,i,o,u,c){const h=pt(),m=Xl(h,i,o,u);return m!==Ir&&xa(yn(),ar(),h,n,m,h[An],c,!1),rh}function rd(n,i){return n<<17|i<<2}function Yu(n){return n>>17&32767}function dg(n){return 2|n}function ml(n){return(131068&n)>>2}function hg(n,i){return-131069&n|i<<2}function fg(n){return 1|n}function iy(n,i,o,u,c){const h=n[o+1],m=null===i;let D=u?Yu(h):ml(h),M=!1;for(;0!==D&&(!1===M||m);){const W=n[D+1];sy(n[D],i)&&(M=!0,n[D+1]=u?fg(W):dg(W)),D=u?Yu(W):ml(W)}M&&(n[o+1]=u?dg(h):fg(h))}function sy(n,i){return null===n||null==i||(Array.isArray(n)?n[1]:n)===i||!(!Array.isArray(n)||"string"!=typeof i)&&N(n,i)>=0}const lo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Nf(n){return n.substring(lo.key,lo.keyEnd)}function pg(n,i){const o=lo.textEnd;return o===i?-1:(i=lo.keyEnd=function oh(n,i,o){for(;i<o&&n.charCodeAt(i)>32;)i++;return i}(n,lo.key=i,o),yl(n,i,o))}function yl(n,i,o){for(;i<o&&n.charCodeAt(i)<=32;)i++;return i}function ay(n,i,o){return hu(n,i,o,!1),ay}function kf(n,i){return hu(n,i,null,!0),kf}function cy(n){Au(T0,Qa,n,!0)}function Qa(n,i){for(let o=function oy(n){return function gg(n){lo.key=0,lo.keyEnd=0,lo.value=0,lo.valueEnd=0,lo.textEnd=n.length}(n),pg(n,yl(n,0,lo.textEnd))}(i);o>=0;o=pg(i,o))g(n,Nf(i),!0)}function hu(n,i,o,u){const c=pt(),h=yn(),m=w(2);h.firstUpdatePass&&tv(h,n,m,u),i!==Ir&&Go(c,m,i)&&iv(h,h.data[gi()],c,c[An],n,c[m+1]=function hy(n,i){return null==n||""===n||("string"==typeof i?n+=i:"object"==typeof n&&(n=Ke(Ka(n)))),n}(i,o),u,m)}function Au(n,i,o,u){const c=yn(),h=w(2);c.firstUpdatePass&&tv(c,null,h,u);const m=pt();if(o!==Ir&&Go(m,h,o)){const D=c.data[gi()];if(od(D,u)&&!as(c,h)){let M=u?D.classesWithoutHost:D.stylesWithoutHost;null!==M&&(o=Ut(M,o||"")),Xd(c,D,m,o,u)}else!function D0(n,i,o,u,c,h,m,D){c===Ir&&(c=tn);let M=0,L=0,W=0<c.length?c[0]:null,te=0<h.length?h[0]:null;for(;null!==W||null!==te;){const De=M<c.length?c[M+1]:void 0,Ve=L<h.length?h[L+1]:void 0;let Lt,Et=null;W===te?(M+=2,L+=2,De!==Ve&&(Et=te,Lt=Ve)):null===te||null!==W&&W<te?(M+=2,Et=W):(L+=2,Et=te,Lt=Ve),null!==Et&&iv(n,i,o,u,Et,Lt,m,D),W=M<c.length?c[M]:null,te=L<h.length?h[L]:null}}(c,D,m,m[An],m[h+1],m[h+1]=function I0(n,i,o){if(null==o||""===o)return tn;const u=[],c=Ka(o);if(Array.isArray(c))for(let h=0;h<c.length;h++)n(u,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&n(u,h,c[h]);else"string"==typeof c&&i(u,c);return u}(n,i,o),u,h)}}function as(n,i){return i>=n.expandoStartIndex}function tv(n,i,o,u){const c=n.data;if(null===c[o+1]){const h=c[gi()],m=as(n,o);od(h,u)&&null===i&&!m&&(i=!1),i=function nv(n,i,o,u){const c=Re(n);let h=u?i.residualClasses:i.residualStyles;if(null===c)0===(u?i.classBindings:i.styleBindings)&&(o=sd(o=dy(null,n,i,o,u),i.attrs,u),h=null);else{const m=i.directiveStylingLast;if(-1===m||n[m]!==c)if(o=dy(c,n,i,o,u),null===h){let M=function ho(n,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==ml(u))return n[Yu(u)]}(n,i,u);void 0!==M&&Array.isArray(M)&&(M=dy(null,n,i,M[1],u),M=sd(M,i.attrs,u),function ly(n,i,o,u){n[Yu(o?i.classBindings:i.styleBindings)]=u}(n,i,u,M))}else h=function E0(n,i,o){let u;const c=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<c;h++)u=sd(u,n[h].hostAttrs,o);return sd(u,i.attrs,o)}(n,i,u)}return void 0!==h&&(u?i.residualClasses=h:i.residualStyles=h),o}(c,h,i,u),function Q_(n,i,o,u,c,h){let m=h?i.classBindings:i.styleBindings,D=Yu(m),M=ml(m);n[u]=o;let W,L=!1;if(Array.isArray(o)?(W=o[1],(null===W||N(o,W)>0)&&(L=!0)):W=o,c)if(0!==M){const De=Yu(n[D+1]);n[u+1]=rd(De,D),0!==De&&(n[De+1]=hg(n[De+1],u)),n[D+1]=function lg(n,i){return 131071&n|i<<17}(n[D+1],u)}else n[u+1]=rd(D,0),0!==D&&(n[D+1]=hg(n[D+1],u)),D=u;else n[u+1]=rd(M,0),0===D?D=u:n[M+1]=hg(n[M+1],u),M=u;L&&(n[u+1]=dg(n[u+1])),iy(n,W,u,!0),iy(n,W,u,!1),function X_(n,i,o,u,c){const h=c?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof i&&N(h,i)>=0&&(o[u+1]=fg(o[u+1]))}(i,W,n,u,h),m=rd(D,M),h?i.classBindings=m:i.styleBindings=m}(c,h,i,o,m,u)}}function dy(n,i,o,u,c){let h=null;const m=o.directiveEnd;let D=o.directiveStylingLast;for(-1===D?D=o.directiveStart:D++;D<m&&(h=i[D],u=sd(u,h.hostAttrs,c),h!==n);)D++;return null!==n&&(o.directiveStylingLast=D),u}function sd(n,i,o){const u=o?1:2;let c=-1;if(null!==i)for(let h=0;h<i.length;h++){const m=i[h];"number"==typeof m?c=m:c===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),g(n,m,!!o||i[++h]))}return void 0===n?null:n}function T0(n,i,o){const u=String(i);""!==u&&!u.includes(" ")&&g(n,u,o)}function iv(n,i,o,u,c,h,m,D){if(!(3&i.type))return;const M=n.data,L=M[D+1],W=function ry(n){return 1==(1&n)}(L)?sv(M,i,o,c,ml(L),m):void 0;mg(W)||(mg(h)||function id(n){return 2==(2&n)}(L)&&(h=sv(M,null,o,c,D,m)),function mc(n,i,o,u,c){if(i)c?n.addClass(o,u):n.removeClass(o,u);else{let h=-1===u.indexOf("-")?void 0:da.DashCase;null==c?n.removeStyle(o,u,h):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),h|=da.Important),n.setStyle(o,u,c,h))}}(u,m,mo(gi(),o),c,h))}function sv(n,i,o,u,c,h){const m=null===i;let D;for(;c>0;){const M=n[c],L=Array.isArray(M),W=L?M[1]:M,te=null===W;let De=o[c+1];De===Ir&&(De=te?tn:void 0);let Ve=te?S(De,u):W===u?De:void 0;if(L&&!mg(Ve)&&(Ve=S(M,u)),mg(Ve)&&(D=Ve,m))return D;const Et=n[c+1];c=m?Yu(Et):ml(Et)}if(null!==i){let M=h?i.residualClasses:i.residualStyles;null!=M&&(D=S(M,u))}return D}function mg(n){return void 0!==n}function od(n,i){return 0!=(n.flags&(i?8:16))}function fy(n,i=""){const o=pt(),u=yn(),c=n+yr,h=u.firstCreatePass?qu(u,c,1,i,null):u.data[c],m=o[c]=function Ra(n,i){return n.createText(i)}(o[An],i);Ed(u,o,m,h),Ar(h,!1)}function Xu(n){return Ju("",n,""),Xu}function Ju(n,i,o){const u=pt(),c=Xl(u,n,i,o);return c!==Ir&&cu(u,gi(),c),Ju}function py(n,i,o,u,c){const h=pt(),m=Rc(h,n,i,o,u,c);return m!==Ir&&cu(h,gi(),m),py}function yy(n,i,o){Au(g,Qa,Xl(pt(),n,i,o),!0)}function vl(n,i,o){const u=pt();if(Go(u,_(),i)){const h=yn(),m=ar();xa(h,m,u,n,i,function Nm(n,i,o){return(null===n||$i(n))&&(o=function Wr(n){for(;Array.isArray(n);){if("object"==typeof n[fo])return n;n=n[Yi]}return null}(o[i.index])),o[An]}(Re(h.data),m,u),o,!0)}return vl}const wl=void 0;var b0=["en",[["a","p"],["AM","PM"],wl],[["AM","PM"],wl,wl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wl,"{1} 'at' {0}",wl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ud(n){const o=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let fh={};function Ay(n){const i=function S0(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=dv(i);if(o)return o;const u=i.split("-")[0];if(o=dv(u),o)return o;if("en"===u)return b0;throw new tt(701,!1)}function lv(n){return Ay(n)[nr.PluralCase]}function dv(n){return n in fh||(fh[n]=Bn.ng&&Bn.ng.common&&Bn.ng.common.locales&&Bn.ng.common.locales[n]),fh[n]}var nr=(()=>((nr=nr||{})[nr.LocaleId=0]="LocaleId",nr[nr.DayPeriodsFormat=1]="DayPeriodsFormat",nr[nr.DayPeriodsStandalone=2]="DayPeriodsStandalone",nr[nr.DaysFormat=3]="DaysFormat",nr[nr.DaysStandalone=4]="DaysStandalone",nr[nr.MonthsFormat=5]="MonthsFormat",nr[nr.MonthsStandalone=6]="MonthsStandalone",nr[nr.Eras=7]="Eras",nr[nr.FirstDayOfWeek=8]="FirstDayOfWeek",nr[nr.WeekendRange=9]="WeekendRange",nr[nr.DateFormat=10]="DateFormat",nr[nr.TimeFormat=11]="TimeFormat",nr[nr.DateTimeFormat=12]="DateTimeFormat",nr[nr.NumberSymbols=13]="NumberSymbols",nr[nr.NumberFormats=14]="NumberFormats",nr[nr.CurrencyCode=15]="CurrencyCode",nr[nr.CurrencySymbol=16]="CurrencySymbol",nr[nr.CurrencyName=17]="CurrencyName",nr[nr.Currencies=18]="Currencies",nr[nr.Directionality=19]="Directionality",nr[nr.PluralCase=20]="PluralCase",nr[nr.ExtraData=21]="ExtraData",nr))();const ph="en-US";let Sg=ph;function Fg(n,i,o,u,c){if(n=kt(n),Array.isArray(n))for(let h=0;h<n.length;h++)Fg(n[h],i,o,u,c);else{const h=yn(),m=pt();let D=Ec(n)?n:kt(n.provide),M=yp(n);const L=fr(),W=1048575&L.providerIndexes,te=L.directiveStart,De=L.providerIndexes>>20;if(Ec(n)||!n.multi){const Ve=new Dr(M,c,zl),Et=Ug(D,i,c?W:W+De,te);-1===Et?(ns(xi(L,m),h,D),Lg(h,n,i.length),i.push(D),L.directiveStart++,L.directiveEnd++,c&&(L.providerIndexes+=1048576),o.push(Ve),m.push(Ve)):(o[Et]=Ve,m[Et]=Ve)}else{const Ve=Ug(D,i,W+De,te),Et=Ug(D,i,W,W+De),fn=Et>=0&&o[Et];if(c&&!fn||!c&&!(Ve>=0&&o[Ve])){ns(xi(L,m),h,D);const Rn=function X0(n,i,o,u,c){const h=new Dr(n,o,zl);return h.multi=[],h.index=i,h.componentProviders=0,Gy(h,c,u&&!o),h}(c?Q0:Y0,o.length,c,u,M);!c&&fn&&(o[Et].providerFactory=Rn),Lg(h,n,i.length,0),i.push(D),L.directiveStart++,L.directiveEnd++,c&&(L.providerIndexes+=1048576),o.push(Rn),m.push(Rn)}else Lg(h,n,Ve>-1?Ve:Et,Gy(o[c?Et:Ve],M,!c&&u));!c&&u&&fn&&o[Et].componentProviders++}}}function Lg(n,i,o,u){const c=Ec(i),h=function f_(n){return!!n.useClass}(i);if(c||h){const M=(h?kt(i.useClass):i).prototype.ngOnDestroy;if(M){const L=n.destroyHooks||(n.destroyHooks=[]);if(!c&&i.multi){const W=L.indexOf(o);-1===W?L.push(o,[u,M]):L[W+1].push(u,M)}else L.push(o,M)}}}function Gy(n,i,o){return o&&n.componentProviders++,n.multi.push(i)-1}function Ug(n,i,o,u){for(let c=o;c<u;c++)if(i[c]===n)return c;return-1}function Y0(n,i,o,u){return Wy(this.multi,[])}function Q0(n,i,o,u){const c=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,D=oo(o,o[ne],this.providerFactory.index,u);h=D.slice(0,m),Wy(c,h);for(let M=m;M<D.length;M++)h.push(D[M])}else h=[],Wy(c,h);return h}function Wy(n,i){for(let o=0;o<n.length;o++)i.push((0,n[o])());return i}function qy(n,i=[]){return o=>{o.providersResolver=(u,c)=>function kv(n,i,o){const u=yn();if(u.firstCreatePass){const c=$i(n);Fg(o,u.data,u.blueprint,c,!0),Fg(i,u.data,u.blueprint,c,!1)}}(u,c?c(n):n,i)}}class vh{}class Fv{}function J0(n,i){return new Ky(n,i??null)}class Ky extends vh{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fl(this);const u=On(i);this._bootstrapComponents=vs(u.bootstrap),this._r3Injector=pm(i,o,[{provide:vh,useValue:this},{provide:Gu,useValue:this.componentFactoryResolver}],Ke(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Zy extends Fv{constructor(i){super(),this.moduleType=i}create(i){return new Ky(this.moduleType,i)}}class ew extends vh{constructor(i,o,u){super(),this.componentFactoryResolver=new fl(this),this.instance=null;const c=new gp([...i,{provide:vh,useValue:this},{provide:Gu,useValue:this.componentFactoryResolver}],o||Du(),u,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function Yy(n,i,o=null){return new ew(n,i,o).injector}let Lv=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const u=Zg(0,o.type),c=u.length>0?Yy([u],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,c)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Tr({token:n,providedIn:"environment",factory:()=>new n(ae(uu))}),n})();function Uv(n){n.getStandaloneInjector=i=>i.get(Lv).getOrCreateStandaloneInjector(n)}function e_(n,i,o){const u=function Fi(){const n=Je.lFrame;let i=n.bindingRootIndex;return-1===i&&(i=n.bindingRootIndex=n.tView.bindingStartIndex),i}()+n,c=pt();return c[u]===Ir?function Ya(n,i,o){return n[i]=o}(c,u,o?i.call(o):i()):function Ql(n,i){return n[i]}(c,u)}function e(n){return i=>{setTimeout(n,void 0,i)}}const t=class r extends C.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){let c=i,h=o||(()=>null),m=u;if(i&&"object"==typeof i){const M=i;c=M.next?.bind(M),h=M.error?.bind(M),m=M.complete?.bind(M)}this.__isAsync&&(h=e(h),c&&(c=e(c)),m&&(m=e(m)));const D=super.subscribe({next:c,error:h,complete:m});return i instanceof Q.w0&&i.add(D),D}};function s(){return this._results[Symbol.iterator]()}class a{get changes(){return this._changes||(this._changes=new t)}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=a.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=s)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const c=function Wi(n){return n.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function tu(n,i,o){if(n.length!==i.length)return!1;for(let u=0;u<n.length;u++){let c=n[u],h=i[u];if(o&&(c=o(c),h=o(h)),h!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let l=(()=>{class n{}return n.__NG_ELEMENT_ID__=O,n})();const f=l,T=class extends f{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i,o){const u=this._declarationTContainer.tView,c=Sc(this._declarationLView,u,i,16,null,u.declTNode,null,null,null,null,o||null);c[ls]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[ri];return null!==m&&(c[ri]=m.createEmbeddedView(u)),Vd(u,c,i),new hl(c)}};function O(){return U(fr(),pt())}function U(n,i){return 4&n.type?new T(i,n,Ma(n,i)):null}let q=(()=>{class n{}return n.__NG_ELEMENT_ID__=he,n})();function he(){return wn(fr(),pt())}const $e=q,ht=class extends $e{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Ma(this._hostTNode,this._hostLView)}get injector(){return new vo(this._hostTNode,this._hostLView)}get parentInjector(){const i=na(this._hostTNode,this._hostLView);if(qe(i)){const o=_a(i,this._hostLView),u=Dt(i);return new vo(o[ne].data[u+8],o)}return new vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=Ft(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-Qi}createEmbeddedView(i,o,u){let c,h;"number"==typeof u?c=u:null!=u&&(c=u.index,h=u.injector);const m=i.createEmbeddedView(o||{},h);return this.insert(m,c),m}createComponent(i,o,u,c,h){const m=i&&!function Ua(n){return"function"==typeof n}(i);let D;if(m)D=o;else{const te=o||{};D=te.index,u=te.injector,c=te.projectableNodes,h=te.environmentInjector||te.ngModuleRef}const M=m?i:new Su(Wn(i)),L=u||this.parentInjector;if(!h&&null==M.ngModule){const De=(m?L:this.parentInjector).get(uu,null);De&&(h=De)}const W=M.create(L,c,void 0,h);return this.insert(W.hostView,D),W}insert(i,o){const u=i._lView,c=u[ne];if(function re(n){return Ti(n[Ce])}(u)){const W=this.indexOf(i);if(-1!==W)this.detach(W);else{const te=u[Ce],De=new ht(te,te[Xt],te[Ce]);De.detach(De.indexOf(i))}}const h=this._adjustIndex(o),m=this._lContainer;!function Eo(n,i,o,u){const c=Qi+u,h=o.length;u>0&&(o[c-1][Ze]=i),u<h-Qi?(i[Ze]=o[c],Ba(o,Qi+u,i)):(o.push(i),i[Ze]=null),i[Ce]=o;const m=i[ls];null!==m&&o!==m&&function _d(n,i){const o=n[Ss];i[ni]!==i[Ce][Ce][ni]&&(n[Ao]=!0),null===o?n[Ss]=[i]:o.push(i)}(m,i);const D=i[ri];null!==D&&D.insertView(n),i[le]|=64}(c,u,m,h);const D=Id(h,m),M=u[An],L=jc(M,m[Js]);return null!==L&&function Vu(n,i,o,u,c,h){u[Yi]=c,u[Xt]=i,Nl(n,u,o,1,c,h)}(c,m[Xt],M,u,L,D),i.attachToViewContainerRef(),Ba(hn(m),h,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=Ft(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=$u(this._lContainer,o);u&&(Ia(hn(this._lContainer),o),vd(u[ne],u))}detach(i){const o=this._adjustIndex(i,-1),u=$u(this._lContainer,o);return u&&null!=Ia(hn(this._lContainer),o)?new hl(u):null}_adjustIndex(i,o=0){return i??this.length+o}};function Ft(n){return n[Wo]}function hn(n){return n[Wo]||(n[Wo]=[])}function wn(n,i){let o;const u=i[n.index];if(Ti(u))o=u;else{let c;if(8&n.type)c=ci(u);else{const h=i[An];c=h.createComment("");const m=ts(n,i);jo(h,jc(h,m),c,function ou(n,i){return n.nextSibling(i)}(h,m),!1)}i[n.index]=o=Mm(u,i,c,n),hf(i,o)}return new ht(o,n,i)}class Sr{constructor(i){this.queryList=i,this.matches=null}clone(){return new Sr(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xr{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let h=0;h<u;h++){const m=o.getByIndex(h);c.push(this.queries[m.indexInDeclarationView].clone())}return new Xr(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Rw(i,o).matches&&this.queries[o].setDirty()}}class Lr{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class Zs{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,h=this.getByIndex(u).embeddedTView(i,c);h&&(h.indexInDeclarationView=u,null!==o?o.push(h):o=[h])}return null!==o?new Zs(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Us{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Us(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const h=u[c];this.matchTNodeWithReadOption(i,o,fs(o,h)),this.matchTNodeWithReadOption(i,o,Vt(o,i,h,!1,!1))}else u===l?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Vt(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===Bl||c===q||c===l&&4&o.type)this.addMatch(o.index,-2);else{const h=Vt(o,i,c,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function fs(n,i){const o=n.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function Il(n,i,o,u){return-1===o?function fa(n,i){return 11&n.type?Ma(n,i):4&n.type?U(n,i):null}(i,n):-2===o?function n_(n,i,o){return o===Bl?Ma(i,n):o===l?U(i,n):o===q?wn(i,n):void 0}(n,i,u):oo(n,n[ne],o,i)}function Tw(n,i,o,u){const c=i[ri].queries[u];if(null===c.matches){const h=n.data,m=o.matches,D=[];for(let M=0;M<m.length;M+=2){const L=m[M];D.push(L<0?null:Il(i,h[L],m[M+1],o.metadata.read))}c.matches=D}return c.matches}function Zv(n,i,o,u){const c=n.queries.getByIndex(o),h=c.matches;if(null!==h){const m=Tw(n,i,c,o);for(let D=0;D<h.length;D+=2){const M=h[D];if(M>0)u.push(m[D/2]);else{const L=h[D+1],W=i[-M];for(let te=Qi;te<W.length;te++){const De=W[te];De[ls]===De[Ce]&&Zv(De[ne],De,L,u)}if(null!==W[Ss]){const te=W[Ss];for(let De=0;De<te.length;De++){const Ve=te[De];Zv(Ve[ne],Ve,L,u)}}}}}return u}function Dw(n){const i=pt(),o=yn(),u=st();zt(u+1);const c=Rw(o,u);if(n.dirty&&function V(n){return 4==(4&n[le])}(i)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const h=c.crossesNgTemplate?Zv(o,i,u,[]):Tw(o,i,c,u);n.reset(h,g_),n.notifyOnChanges()}return!0}return!1}function bw(n,i,o,u){const c=yn();if(c.firstCreatePass){const h=fr();(function Aw(n,i,o){null===n.queries&&(n.queries=new Zs),n.queries.track(new Us(i,o))})(c,new Lr(i,o,u),h.index),function ME(n,i){const o=n.contentQueries||(n.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,i)}(c,n),2==(2&o)&&(c.staticContentQueries=!0)}!function Cw(n,i,o){const u=new a(4==(4&o));Lp(n,i,u,u.destroy),null===i[ri]&&(i[ri]=new Xr),i[ri].queries.push(new Sr(u))}(c,pt(),o)}function Sw(){return function RE(n,i){return n[ri].queries[i].queryList}(pt(),st())}function Rw(n,i){return n.queries.getByIndex(i)}function Yv(n){return!!On(n)}function i_(...n){}const qw=new Hr("Application Initializer");let s_=(()=>{class n{constructor(o){this.appInits=o,this.resolve=i_,this.reject=i_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(nd(h))o.push(h);else if(og(h)){const m=new Promise((D,M)=>{h.subscribe({complete:D,error:M})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(ae(qw,8))},n.\u0275prov=Tr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Kw=new Hr("AppId",{providedIn:"root",factory:function Zw(){return`${t0()}${t0()}${t0()}`}});function t0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Yw=new Hr("Platform Initializer"),QE=new Hr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),XE=new Hr("AnimationModuleType");let JE=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Tr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const o_=new Hr("LocaleId",{providedIn:"root",factory:()=>Te(o_,vt.Optional|vt.SkipSelf)||function eI(){return typeof $localize<"u"&&$localize.locale||ph}()}),tI=new Hr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class nI{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let rI=(()=>{class n{compileModuleSync(o){return new Zy(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),h=vs(On(o).declarations).reduce((m,D)=>{const M=Wn(D);return M&&m.push(new Su(M)),m},[]);return new nI(u,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Tr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oI=(()=>Promise.resolve(0))();function n0(n){typeof Zone>"u"?oI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Mu{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new t(!1),this.onMicrotaskEmpty=new t(!1),this.onStable=new t(!1),this.onError=new t(!1),typeof Zone>"u")throw new tt(908,!1);Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function aI(){let n=Bn.requestAnimationFrame,i=Bn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&i){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function lI(n){const i=()=>{!function cI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Bn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,s0(n),n.isCheckStableRunning=!0,r0(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),s0(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,h,m,D)=>{try{return Jw(n),o.invokeTask(c,h,m,D)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&i(),eE(n)}},onInvoke:(o,u,c,h,m,D,M)=>{try{return Jw(n),o.invoke(c,h,m,D,M)}finally{n.shouldCoalesceRunChangeDetection&&i(),eE(n)}},onHasTask:(o,u,c,h)=>{o.hasTask(c,h),u===c&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,s0(n),r0(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,u,c,h)=>(o.handleError(c,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mu.isInAngularZone())throw new tt(909,!1)}static assertNotInAngularZone(){if(Mu.isInAngularZone())throw new tt(909,!1)}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,c){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+c,i,uI,i_,i_);try{return h.runTask(m,o,u)}finally{h.cancelTask(m)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const uI={};function r0(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function s0(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Jw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function eE(n){n._nesting--,r0(n)}class dI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new t,this.onMicrotaskEmpty=new t,this.onStable=new t,this.onError=new t}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,c){return i.apply(o,u)}}const tE=new Hr(""),nE=new Hr("");let o0,hI=(()=>{class n{constructor(o,u,c){this._ngZone=o,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,o0||(function fI(n){o0=n}(c),c.addToWindow(u)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mu.assertNotInAngularZone(),n0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())n0(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,u,c){return[]}}return n.\u0275fac=function(o){return new(o||n)(ae(Mu),ae(rE),ae(nE))},n.\u0275prov=Tr({token:n,factory:n.\u0275fac}),n})(),rE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return o0?.findTestabilityInTree(this,o,u)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Tr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Tl=!1;let dd=null;const iE=new Hr("AllowMultipleToken"),a0=new Hr("PlatformDestroyListeners"),sE=new Hr("appBootstrapListener");class mI{constructor(i,o){this.name=i,this.token=o}}function aE(n,i,o=[]){const u=`Platform: ${i}`,c=new Hr(u);return(h=[])=>{let m=u0();if(!m||m.injector.get(iE,!1)){const D=[...o,...h,{provide:c,useValue:!0}];n?n(D):function yI(n){if(dd&&!dd.get(iE,!1))throw new tt(400,!1);dd=n;const i=n.get(cE);(function oE(n){const i=n.get(Yw,null);i&&i.forEach(o=>o())})(n)}(function uE(n=[],i){return cl.create({name:i,providers:[{provide:$h,useValue:"platform"},{provide:a0,useValue:new Set([()=>dd=null])},...n]})}(D,u))}return function vI(n){const i=u0();if(!i)throw new tt(401,!1);return i}()}}function u0(){return dd?.get(cE)??null}let cE=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const c=function dE(n,i){let o;return o="noop"===n?new dI:("zone.js"===n?void 0:n)||new Mu(i),o}(u?.ngZone,function lE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:Mu,useValue:c}];return c.run(()=>{const m=cl.create({providers:h,parent:this.injector,name:o.moduleType.name}),D=o.create(m),M=D.injector.get(ol,null);if(!M)throw new tt(402,!1);return c.runOutsideAngular(()=>{const L=c.onError.subscribe({next:W=>{M.handleError(W)}});D.onDestroy(()=>{u_(this._modules,D),L.unsubscribe()})}),function hE(n,i,o){try{const u=o();return nd(u)?u.catch(c=>{throw i.runOutsideAngular(()=>n.handleError(c)),c}):u}catch(u){throw i.runOutsideAngular(()=>n.handleError(u)),u}}(M,c,()=>{const L=D.injector.get(s_);return L.runInitializers(),L.donePromise.then(()=>(function My(n){xn(n,"Expected localeId to be defined"),"string"==typeof n&&(Sg=n.toLowerCase().replace(/_/g,"-"))}(D.injector.get(o_,ph)||ph),this._moduleDoBootstrap(D),D))})})}bootstrapModule(o,u=[]){const c=fE({},u);return function pI(n,i,o){const u=new Zy(o);return Promise.resolve(u)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(o){const u=o.injector.get(a_);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new tt(-403,!1);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new tt(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const o=this._injector.get(a0,null);o&&(o.forEach(u=>u()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(ae(cl))},n.\u0275prov=Tr({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function fE(n,i){return Array.isArray(i)?i.reduce(fE,n):{...n,...i}}let a_=(()=>{class n{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(o,u,c){this._zone=o,this._injector=u,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new ce.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),m=new ce.y(D=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{Mu.assertNotInAngularZone(),n0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{Mu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{M.unsubscribe(),L.unsubscribe()}});this.isStable=function yt(...n){const i=(0,_e.yG)(n),o=(0,_e._6)(n,1/0),u=n;return u.length?1===u.length?(0,Ue.Xf)(u[0]):(0,Ie.J)(o)((0,St.D)(u,i)):ie.E}(h,m.pipe(function Ye(n={}){const{connector:i=(()=>new C.x),resetOnError:o=!0,resetOnComplete:u=!0,resetOnRefCountZero:c=!0}=n;return h=>{let m,D,M,L=0,W=!1,te=!1;const De=()=>{D?.unsubscribe(),D=void 0},Ve=()=>{De(),m=M=void 0,W=te=!1},Et=()=>{const Lt=m;Ve(),Lt?.unsubscribe()};return(0,pe.e)((Lt,fn)=>{L++,!te&&!W&&De();const Rn=M=M??i();fn.add(()=>{L--,0===L&&!te&&!W&&(D=_t(Et,c))}),Rn.subscribe(fn),!m&&L>0&&(m=new ve.Hp({next:qn=>Rn.next(qn),error:qn=>{te=!0,De(),D=_t(Ve,o,qn),Rn.error(qn)},complete:()=>{W=!0,De(),D=_t(Ve,u),Rn.complete()}}),(0,Ue.Xf)(Lt).subscribe(m))})(h)}}()))}bootstrap(o,u){const c=o instanceof tm;if(!this._injector.get(s_).done){!c&&Zi(o);throw new tt(405,Tl)}let m;m=c?o:this._injector.get(Gu).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const D=function gI(n){return n.isBoundToModule}(m)?void 0:this._injector.get(vh),L=m.create(cl.NULL,[],u||m.selector,D),W=L.location.nativeElement,te=L.injector.get(tE,null);return te?.registerApplication(W),L.onDestroy(()=>{this.detachView(L.hostView),u_(this.components,L),te?.unregisterApplication(W)}),this._loadComponent(L),L}tick(){if(this._runningTick)throw new tt(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;u_(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const u=this._injector.get(sE,[]);u.push(...this._bootstrapListeners),u.forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>u_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new tt(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(ae(Mu),ae(uu),ae(ol))},n.\u0275prov=Tr({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function u_(n,i){const o=n.indexOf(i);o>-1&&n.splice(o,1)}let EI=(()=>{class n{}return n.__NG_ELEMENT_ID__=II,n})();function II(n){return function TI(n,i,o){if(Ji(n)&&!o){const u=wi(n.index,i);return new hl(u,u)}return 47&n.type?new hl(i[ni],i):null}(fr(),pt(),16==(16&n))}class _E{constructor(){}supports(i){return yf(i)}create(i){return new RI(i)}}const AI=(n,i)=>i;class RI{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||AI}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,c=0,h=null;for(;o||u;){const m=!u||o&&o.currentIndex<wE(u,c,h)?o:u,D=wE(m,c,h),M=m.currentIndex;if(m===u)c--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{h||(h=[]);const L=D-c,W=M-c;if(L!=W){for(let De=0;De<L;De++){const Ve=De<h.length?h[De]:h[De]=0,Et=Ve+De;W<=Et&&Et<L&&(h[De]=Ve+1)}h[m.previousIndex]=W-L}}D!==M&&i(m,D,M)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!yf(i))throw new tt(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,m,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let D=0;D<this.length;D++)h=i[D],m=this._trackByFn(D,h),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,h,m,D)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,D),u=!0),o=o._next}else c=0,function G_(n,i){if(Array.isArray(n))for(let o=0;o<n.length;o++)i(n[o]);else{const o=n[Symbol.iterator]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,D=>{m=this._trackByFn(c,D),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,D,m,c)),Object.is(o.item,D)||this._addIdentityChange(o,D)):(o=this._mismatch(o,D,m,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,h,c)):i=this._addAfter(new MI(o,u),h,c),i}_verifyReinsertion(i,o,u,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new vE),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vE),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class MI{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class xI{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class vE{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new xI,this.map.set(o,u)),u.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wE(n,i,o){const u=n.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+i+c}class EE{constructor(){}supports(i){return i instanceof Map||Qd(i)}create(){return new PI}}class PI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Qd(i)))throw new tt(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const h=c._prev,m=c._next;return h&&(h._next=m),m&&(m._prev=h),c._next=null,c._prev=null,c}const u=new NI(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class NI{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function IE(){return new f0([new _E])}let f0=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||IE()),deps:[[n,new di,new ds]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new tt(901,!1)}}return n.\u0275prov=Tr({token:n,providedIn:"root",factory:IE}),n})();function TE(){return new p0([new EE])}let p0=(()=>{class n{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:u=>n.create(o,u||TE()),deps:[[n,new di,new ds]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new tt(901,!1)}}return n.\u0275prov=Tr({token:n,providedIn:"root",factory:TE}),n})();const FI=aE(null,"core",[]);let LI=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(ae(a_))},n.\u0275mod=Gr({type:n}),n.\u0275inj=zr({}),n})();function UI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},1481:(Fn,At,X)=>{X.d(At,{Dx:()=>Kn,H7:()=>Te,b2:()=>yi,q6:()=>zr,se:()=>je});var C=X(6895),Q=X(8256);class ce extends C.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ie extends ce{static makeCurrent(){(0,C.HT)(new Ie)}onAndCancel(fe,ee,Ee){return fe.addEventListener(ee,Ee,!1),()=>{fe.removeEventListener(ee,Ee,!1)}}dispatchEvent(fe,ee){fe.dispatchEvent(ee)}remove(fe){fe.parentNode&&fe.parentNode.removeChild(fe)}createElement(fe,ee){return(ee=ee||this.getDefaultDocument()).createElement(fe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(fe){return fe.nodeType===Node.ELEMENT_NODE}isShadowRoot(fe){return fe instanceof DocumentFragment}getGlobalEventTarget(fe,ee){return"window"===ee?window:"document"===ee?fe:"body"===ee?fe.body:null}getBaseHref(fe){const ee=function ie(){return Ue=Ue||document.querySelector("base"),Ue?Ue.getAttribute("href"):null}();return null==ee?null:function St(we){_e=_e||document.createElement("a"),_e.setAttribute("href",we);const fe=_e.pathname;return"/"===fe.charAt(0)?fe:`/${fe}`}(ee)}resetBaseElement(){Ue=null}getUserAgent(){return window.navigator.userAgent}getCookie(fe){return(0,C.Mx)(document.cookie,fe)}}let _e,Ue=null;const yt=new Q.OlP("TRANSITION_ID"),pe=[{provide:Q.ip1,useFactory:function ve(we,fe,ee){return()=>{ee.get(Q.CZH).donePromise.then(()=>{const Ee=(0,C.q)(),Qe=fe.querySelectorAll(`style[ng-transition="${we}"]`);for(let ft=0;ft<Qe.length;ft++)Ee.remove(Qe[ft])})}},deps:[yt,C.K0,Q.zs3],multi:!0}];let _t=(()=>{class we{build(){return new XMLHttpRequest}}return we.\u0275fac=function(ee){return new(ee||we)},we.\u0275prov=Q.Yz7({token:we,factory:we.\u0275fac}),we})();const me=new Q.OlP("EventManagerPlugins");let Ot=(()=>{class we{constructor(ee,Ee){this._zone=Ee,this._eventNameToPlugin=new Map,ee.forEach(Qe=>{Qe.manager=this}),this._plugins=ee.slice().reverse()}addEventListener(ee,Ee,Qe){return this._findPluginFor(Ee).addEventListener(ee,Ee,Qe)}addGlobalEventListener(ee,Ee,Qe){return this._findPluginFor(Ee).addGlobalEventListener(ee,Ee,Qe)}getZone(){return this._zone}_findPluginFor(ee){const Ee=this._eventNameToPlugin.get(ee);if(Ee)return Ee;const Qe=this._plugins;for(let ft=0;ft<Qe.length;ft++){const Kt=Qe[ft];if(Kt.supports(ee))return this._eventNameToPlugin.set(ee,Kt),Kt}throw new Error(`No event manager plugin found for event ${ee}`)}}return we.\u0275fac=function(ee){return new(ee||we)(Q.LFG(me),Q.LFG(Q.R0b))},we.\u0275prov=Q.Yz7({token:we,factory:we.\u0275fac}),we})();class Ke{constructor(fe){this._doc=fe}addGlobalEventListener(fe,ee,Ee){const Qe=(0,C.q)().getGlobalEventTarget(this._doc,fe);if(!Qe)throw new Error(`Unsupported event target ${Qe} for event ${ee}`);return this.addEventListener(Qe,ee,Ee)}}let Ut=(()=>{class we{constructor(){this.usageCount=new Map}addStyles(ee){for(const Ee of ee)1===this.changeUsageCount(Ee,1)&&this.onStyleAdded(Ee)}removeStyles(ee){for(const Ee of ee)0===this.changeUsageCount(Ee,-1)&&this.onStyleRemoved(Ee)}onStyleRemoved(ee){}onStyleAdded(ee){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(ee,Ee){const Qe=this.usageCount;let ft=Qe.get(ee)??0;return ft+=Ee,ft>0?Qe.set(ee,ft):Qe.delete(ee),ft}ngOnDestroy(){for(const ee of this.getAllStyles())this.onStyleRemoved(ee);this.usageCount.clear()}}return we.\u0275fac=function(ee){return new(ee||we)},we.\u0275prov=Q.Yz7({token:we,factory:we.\u0275fac}),we})(),an=(()=>{class we extends Ut{constructor(ee){super(),this.doc=ee,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(ee){for(const Ee of this.hostNodes)this.addStyleToHost(Ee,ee)}onStyleRemoved(ee){const Ee=this.styleRef;Ee.get(ee)?.forEach(ft=>ft.remove()),Ee.delete(ee)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(ee){this.hostNodes.add(ee);for(const Ee of this.getAllStyles())this.addStyleToHost(ee,Ee)}removeHost(ee){this.hostNodes.delete(ee)}addStyleToHost(ee,Ee){const Qe=this.doc.createElement("style");Qe.textContent=Ee,ee.appendChild(Qe);const ft=this.styleRef.get(Ee);ft?ft.push(Qe):this.styleRef.set(Ee,[Qe])}resetHostNodes(){const ee=this.hostNodes;ee.clear(),ee.add(this.doc.head)}}return we.\u0275fac=function(ee){return new(ee||we)(Q.LFG(C.K0))},we.\u0275prov=Q.Yz7({token:we,factory:we.\u0275fac}),we})();const zn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kt=/%COMP%/g,Ct=new Q.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Qt(we,fe){return fe.flat(100).map(ee=>ee.replace(kt,we))}function Nn(we){return fe=>{if("__ngUnwrap__"===fe)return we;!1===we(fe)&&(fe.preventDefault(),fe.returnValue=!1)}}let je=(()=>{class we{constructor(ee,Ee,Qe,ft){this.eventManager=ee,this.sharedStylesHost=Ee,this.appId=Qe,this.removeStylesOnCompDestory=ft,this.rendererByCompId=new Map,this.defaultRenderer=new Pn(ee)}createRenderer(ee,Ee){if(!ee||!Ee)return this.defaultRenderer;const Qe=this.getOrCreateRenderer(ee,Ee);return Qe instanceof Tt?Qe.applyToHost(ee):Qe instanceof It&&Qe.applyStyles(),Qe}getOrCreateRenderer(ee,Ee){const Qe=this.rendererByCompId;let ft=Qe.get(Ee.id);if(!ft){const Kt=this.eventManager,tn=this.sharedStylesHost,or=this.removeStylesOnCompDestory;switch(Ee.encapsulation){case Q.ifc.Emulated:ft=new Tt(Kt,tn,Ee,this.appId,or);break;case Q.ifc.ShadowDom:return new mt(Kt,tn,ee,Ee);default:ft=new It(Kt,tn,Ee,or)}ft.onDestroy=()=>Qe.delete(Ee.id),Qe.set(Ee.id,ft)}return ft}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return we.\u0275fac=function(ee){return new(ee||we)(Q.LFG(Ot),Q.LFG(an),Q.LFG(Q.AFp),Q.LFG(Ct))},we.\u0275prov=Q.Yz7({token:we,factory:we.\u0275fac}),we})();class Pn{constructor(fe){this.eventManager=fe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(fe,ee){return ee?document.createElementNS(zn[ee]||ee,fe):document.createElement(fe)}createComment(fe){return document.createComment(fe)}createText(fe){return document.createTextNode(fe)}appendChild(fe,ee){(it(fe)?fe.content:fe).appendChild(ee)}insertBefore(fe,ee,Ee){fe&&(it(fe)?fe.content:fe).insertBefore(ee,Ee)}removeChild(fe,ee){fe&&fe.removeChild(ee)}selectRootElement(fe,ee){let Ee="string"==typeof fe?document.querySelector(fe):fe;if(!Ee)throw new Error(`The selector "${fe}" did not match any elements`);return ee||(Ee.textContent=""),Ee}parentNode(fe){return fe.parentNode}nextSibling(fe){return fe.nextSibling}setAttribute(fe,ee,Ee,Qe){if(Qe){ee=Qe+":"+ee;const ft=zn[Qe];ft?fe.setAttributeNS(ft,ee,Ee):fe.setAttribute(ee,Ee)}else fe.setAttribute(ee,Ee)}removeAttribute(fe,ee,Ee){if(Ee){const Qe=zn[Ee];Qe?fe.removeAttributeNS(Qe,ee):fe.removeAttribute(`${Ee}:${ee}`)}else fe.removeAttribute(ee)}addClass(fe,ee){fe.classList.add(ee)}removeClass(fe,ee){fe.classList.remove(ee)}setStyle(fe,ee,Ee,Qe){Qe&(Q.JOm.DashCase|Q.JOm.Important)?fe.style.setProperty(ee,Ee,Qe&Q.JOm.Important?"important":""):fe.style[ee]=Ee}removeStyle(fe,ee,Ee){Ee&Q.JOm.DashCase?fe.style.removeProperty(ee):fe.style[ee]=""}setProperty(fe,ee,Ee){fe[ee]=Ee}setValue(fe,ee){fe.nodeValue=ee}listen(fe,ee,Ee){return"string"==typeof fe?this.eventManager.addGlobalEventListener(fe,ee,Nn(Ee)):this.eventManager.addEventListener(fe,ee,Nn(Ee))}}function it(we){return"TEMPLATE"===we.tagName&&void 0!==we.content}class mt extends Pn{constructor(fe,ee,Ee,Qe){super(fe),this.sharedStylesHost=ee,this.hostEl=Ee,this.shadowRoot=Ee.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ft=Qt(Qe.id,Qe.styles);for(const Kt of ft){const tn=document.createElement("style");tn.textContent=Kt,this.shadowRoot.appendChild(tn)}}nodeOrShadowRoot(fe){return fe===this.hostEl?this.shadowRoot:fe}appendChild(fe,ee){return super.appendChild(this.nodeOrShadowRoot(fe),ee)}insertBefore(fe,ee,Ee){return super.insertBefore(this.nodeOrShadowRoot(fe),ee,Ee)}removeChild(fe,ee){return super.removeChild(this.nodeOrShadowRoot(fe),ee)}parentNode(fe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(fe)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class It extends Pn{constructor(fe,ee,Ee,Qe,ft=Ee.id){super(fe),this.sharedStylesHost=ee,this.removeStylesOnCompDestory=Qe,this.rendererUsageCount=0,this.styles=Qt(ft,Ee.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Tt extends It{constructor(fe,ee,Ee,Qe,ft){const Kt=Qe+"-"+Ee.id;super(fe,ee,Ee,ft,Kt),this.contentAttr=function gt(we){return"_ngcontent-%COMP%".replace(kt,we)}(Kt),this.hostAttr=function en(we){return"_nghost-%COMP%".replace(kt,we)}(Kt)}applyToHost(fe){this.applyStyles(),this.setAttribute(fe,this.hostAttr,"")}createElement(fe,ee){const Ee=super.createElement(fe,ee);return super.setAttribute(Ee,this.contentAttr,""),Ee}}let Fe=(()=>{class we extends Ke{constructor(ee){super(ee)}supports(ee){return!0}addEventListener(ee,Ee,Qe){return ee.addEventListener(Ee,Qe,!1),()=>this.removeEventListener(ee,Ee,Qe)}removeEventListener(ee,Ee,Qe){return ee.removeEventListener(Ee,Qe)}}return we.\u0275fac=function(ee){return new(ee||we)(Q.LFG(C.K0))},we.\u0275prov=Q.Yz7({token:we,factory:we.\u0275fac}),we})();const dt=["alt","control","meta","shift"],Oe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},be={alt:we=>we.altKey,control:we=>we.ctrlKey,meta:we=>we.metaKey,shift:we=>we.shiftKey};let bt=(()=>{class we extends Ke{constructor(ee){super(ee)}supports(ee){return null!=we.parseEventName(ee)}addEventListener(ee,Ee,Qe){const ft=we.parseEventName(Ee),Kt=we.eventCallback(ft.fullKey,Qe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,C.q)().onAndCancel(ee,ft.domEventName,Kt))}static parseEventName(ee){const Ee=ee.toLowerCase().split("."),Qe=Ee.shift();if(0===Ee.length||"keydown"!==Qe&&"keyup"!==Qe)return null;const ft=we._normalizeKey(Ee.pop());let Kt="",tn=Ee.indexOf("code");if(tn>-1&&(Ee.splice(tn,1),Kt="code."),dt.forEach(Ii=>{const He=Ee.indexOf(Ii);He>-1&&(Ee.splice(He,1),Kt+=Ii+".")}),Kt+=ft,0!=Ee.length||0===ft.length)return null;const or={};return or.domEventName=Qe,or.fullKey=Kt,or}static matchEventFullKeyCode(ee,Ee){let Qe=Oe[ee.key]||ee.key,ft="";return Ee.indexOf("code.")>-1&&(Qe=ee.code,ft="code."),!(null==Qe||!Qe)&&(Qe=Qe.toLowerCase()," "===Qe?Qe="space":"."===Qe&&(Qe="dot"),dt.forEach(Kt=>{Kt!==Qe&&(0,be[Kt])(ee)&&(ft+=Kt+".")}),ft+=Qe,ft===Ee)}static eventCallback(ee,Ee,Qe){return ft=>{we.matchEventFullKeyCode(ft,ee)&&Qe.runGuarded(()=>Ee(ft))}}static _normalizeKey(ee){return"esc"===ee?"escape":ee}}return we.\u0275fac=function(ee){return new(ee||we)(Q.LFG(C.K0))},we.\u0275prov=Q.Yz7({token:we,factory:we.\u0275fac}),we})();const zr=(0,Q.eFA)(Q._c5,"browser",[{provide:Q.Lbi,useValue:C.bD},{provide:Q.g9A,useValue:function rr(){Ie.makeCurrent()},multi:!0},{provide:C.K0,useFactory:function Tr(){return(0,Q.RDi)(document),document},deps:[]}]),nn=new Q.OlP(""),ur=[{provide:Q.rWj,useClass:class Ye{addToWindow(fe){Q.dqk.getAngularTestability=(Ee,Qe=!0)=>{const ft=fe.findTestabilityInTree(Ee,Qe);if(null==ft)throw new Error("Could not find testability for element.");return ft},Q.dqk.getAllAngularTestabilities=()=>fe.getAllTestabilities(),Q.dqk.getAllAngularRootElements=()=>fe.getAllRootElements(),Q.dqk.frameworkStabilizers||(Q.dqk.frameworkStabilizers=[]),Q.dqk.frameworkStabilizers.push(Ee=>{const Qe=Q.dqk.getAllAngularTestabilities();let ft=Qe.length,Kt=!1;const tn=function(or){Kt=Kt||or,ft--,0==ft&&Ee(Kt)};Qe.forEach(function(or){or.whenStable(tn)})})}findTestabilityInTree(fe,ee,Ee){return null==ee?null:fe.getTestability(ee)??(Ee?(0,C.q)().isShadowRoot(ee)?this.findTestabilityInTree(fe,ee.host,!0):this.findTestabilityInTree(fe,ee.parentElement,!0):null)}},deps:[]},{provide:Q.lri,useClass:Q.dDg,deps:[Q.R0b,Q.eoX,Q.rWj]},{provide:Q.dDg,useClass:Q.dDg,deps:[Q.R0b,Q.eoX,Q.rWj]}],Oi=[{provide:Q.zSh,useValue:"root"},{provide:Q.qLn,useFactory:function ir(){return new Q.qLn},deps:[]},{provide:me,useClass:Fe,multi:!0,deps:[C.K0,Q.R0b,Q.Lbi]},{provide:me,useClass:bt,multi:!0,deps:[C.K0]},{provide:je,useClass:je,deps:[Ot,an,Q.AFp,Ct]},{provide:Q.FYo,useExisting:je},{provide:Ut,useExisting:an},{provide:an,useClass:an,deps:[C.K0]},{provide:Ot,useClass:Ot,deps:[me,Q.R0b]},{provide:C.JF,useClass:_t,deps:[]},[]];let yi=(()=>{class we{constructor(ee){}static withServerTransition(ee){return{ngModule:we,providers:[{provide:Q.AFp,useValue:ee.appId},{provide:yt,useExisting:Q.AFp},pe]}}}return we.\u0275fac=function(ee){return new(ee||we)(Q.LFG(nn,12))},we.\u0275mod=Q.oAB({type:we}),we.\u0275inj=Q.cJS({providers:[...Oi,...ur],imports:[C.ez,Q.hGG]}),we})(),Kn=(()=>{class we{constructor(ee){this._doc=ee}getTitle(){return this._doc.title}setTitle(ee){this._doc.title=ee||""}}return we.\u0275fac=function(ee){return new(ee||we)(Q.LFG(C.K0))},we.\u0275prov=Q.Yz7({token:we,factory:function(ee){let Ee=null;return Ee=ee?new ee:function Ci(){return new Kn((0,Q.LFG)(C.K0))}(),Ee},providedIn:"root"}),we})();typeof window<"u"&&window;let Te=(()=>{class we{}return we.\u0275fac=function(ee){return new(ee||we)},we.\u0275prov=Q.Yz7({token:we,factory:function(ee){let Ee=null;return Ee=ee?new(ee||we):Q.LFG(ke),Ee},providedIn:"root"}),we})(),ke=(()=>{class we extends Te{constructor(ee){super(),this._doc=ee}sanitize(ee,Ee){if(null==Ee)return null;switch(ee){case Q.q3G.NONE:return Ee;case Q.q3G.HTML:return(0,Q.qzn)(Ee,"HTML")?(0,Q.z3N)(Ee):(0,Q.EiD)(this._doc,String(Ee)).toString();case Q.q3G.STYLE:return(0,Q.qzn)(Ee,"Style")?(0,Q.z3N)(Ee):Ee;case Q.q3G.SCRIPT:if((0,Q.qzn)(Ee,"Script"))return(0,Q.z3N)(Ee);throw new Error("unsafe value used in a script context");case Q.q3G.URL:return(0,Q.qzn)(Ee,"URL")?(0,Q.z3N)(Ee):(0,Q.mCW)(String(Ee));case Q.q3G.RESOURCE_URL:if((0,Q.qzn)(Ee,"ResourceURL"))return(0,Q.z3N)(Ee);throw new Error(`unsafe value used in a resource URL context (see ${Q.JZr})`);default:throw new Error(`Unexpected SecurityContext ${ee} (see ${Q.JZr})`)}}bypassSecurityTrustHtml(ee){return(0,Q.JVY)(ee)}bypassSecurityTrustStyle(ee){return(0,Q.L6k)(ee)}bypassSecurityTrustScript(ee){return(0,Q.eBb)(ee)}bypassSecurityTrustUrl(ee){return(0,Q.LAX)(ee)}bypassSecurityTrustResourceUrl(ee){return(0,Q.pB0)(ee)}}return we.\u0275fac=function(ee){return new(ee||we)(Q.LFG(C.K0))},we.\u0275prov=Q.Yz7({token:we,factory:function(ee){let Ee=null;return Ee=ee?new ee:function rt(we){return new ke(we.get(C.K0))}(Q.LFG(Q.zs3)),Ee},providedIn:"root"}),we})()},6557:(Fn,At,X)=>{X.d(At,{F0:()=>rs,rH:()=>ra,Bz:()=>Ua,lC:()=>Uo});var C=X(8256),Q=X(8996),ce=X(7669);function Ie(...y){const v=(0,ce.yG)(y);return(0,Q.D)(y,v)}var Ue=X(7579);class ie extends Ue.x{constructor(v){super(),this._value=v}get value(){return this.getValue()}_subscribe(v){const g=super._subscribe(v);return!g.closed&&v.next(this._value),g}getValue(){const{hasError:v,thrownError:g,_value:S}=this;if(v)throw g;return this._throwIfClosed(),S}next(v){super.next(this._value=v)}}const St=(0,X(3888).d)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"});var yt=X(9751),ve=X(4742),pe=X(4671),Ye=X(3268),_t=X(1810),me=X(5403),Ot=X(9672);function Ke(...y){const v=(0,ce.yG)(y),g=(0,ce.jO)(y),{args:S,keys:N}=(0,ve.D)(y);if(0===S.length)return(0,Q.D)([],v);const z=new yt.y(function Ut(y,v,g=pe.y){return S=>{an(v,()=>{const{length:N}=y,z=new Array(N);let K=N,Ae=N;for(let lt=0;lt<N;lt++)an(v,()=>{const Jt=(0,Q.D)(y[lt],v);let sn=!1;Jt.subscribe((0,me.x)(S,lr=>{z[lt]=lr,sn||(sn=!0,Ae--),Ae||S.next(g(z.slice()))},()=>{--K||S.complete()}))},S)},S)}}(S,v,N?K=>(0,_t.n)(N,K):pe.y));return g?z.pipe((0,Ye.Z)(g)):z}function an(y,v,g){y?(0,Ot.f)(g,y,v):v()}var zn=X(8189);function Xe(...y){return function kt(){return(0,zn.J)(1)}()((0,Q.D)(y,(0,ce.yG)(y)))}var Ne=X(8421);function ut(y){return new yt.y(v=>{(0,Ne.Xf)(y()).subscribe(v)})}var Mt=X(9635),tt=X(576);function Ct(y,v){const g=(0,tt.m)(y)?y:()=>y,S=N=>N.error(g());return new yt.y(v?N=>v.schedule(S,0,N):S)}var gt=X(515),en=X(727),Qt=X(4482);function Nn(){return(0,Qt.e)((y,v)=>{let g=null;y._refCount++;const S=(0,me.x)(v,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(g=null);const N=y._connection,z=g;g=null,N&&(!z||N===z)&&N.unsubscribe(),v.unsubscribe()});y.subscribe(S),S.closed||(g=y.connect())})}class je extends yt.y{constructor(v,g){super(),this.source=v,this.subjectFactory=g,this._subject=null,this._refCount=0,this._connection=null,(0,Qt.A)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,v?.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new en.w0;const g=this.getSubject();v.add(this.source.subscribe((0,me.x)(g,void 0,()=>{this._teardown(),g.complete()},S=>{this._teardown(),g.error(S)},()=>this._teardown()))),v.closed&&(this._connection=null,v=en.w0.EMPTY)}return v}refCount(){return Nn()(this)}}var Pn=X(6895),Se=X(4004);function ze(y,v){return(0,Qt.e)((g,S)=>{let N=null,z=0,K=!1;const Ae=()=>K&&!N&&S.complete();g.subscribe((0,me.x)(S,lt=>{N?.unsubscribe();let Jt=0;const sn=z++;(0,Ne.Xf)(y(lt,sn)).subscribe(N=(0,me.x)(S,lr=>S.next(v?v(lt,lr,sn,Jt++):lr),()=>{N=null,Ae()}))},()=>{K=!0,Ae()}))})}function it(y){return y<=0?()=>gt.E:(0,Qt.e)((v,g)=>{let S=0;v.subscribe((0,me.x)(g,N=>{++S<=y&&(g.next(N),y<=S&&g.complete())}))})}function It(y,v){return(0,Qt.e)((g,S)=>{let N=0;g.subscribe((0,me.x)(S,z=>y.call(v,z,N++)&&S.next(z)))})}var Tt=X(5577);function Fe(y){return(0,Qt.e)((v,g)=>{let S=!1;v.subscribe((0,me.x)(g,N=>{S=!0,g.next(N)},()=>{S||g.next(y),g.complete()}))})}function dt(y=Oe){return(0,Qt.e)((v,g)=>{let S=!1;v.subscribe((0,me.x)(g,N=>{S=!0,g.next(N)},()=>S?g.complete():g.error(y())))})}function Oe(){return new St}function be(y,v){const g=arguments.length>=2;return S=>S.pipe(y?It((N,z)=>y(N,z,S)):pe.y,it(1),g?Fe(v):dt(()=>new St))}function bt(y,v){return(0,tt.m)(v)?(0,Tt.z)(y,v,1):(0,Tt.z)(y,1)}var Rt=X(8505);function un(y){return(0,Qt.e)((v,g)=>{let z,S=null,N=!1;S=v.subscribe((0,me.x)(g,void 0,void 0,K=>{z=(0,Ne.Xf)(y(K,un(y)(v))),S?(S.unsubscribe(),S=null,z.subscribe(g)):N=!0})),N&&(S.unsubscribe(),S=null,z.subscribe(g))})}function cn(y,v){return(0,Qt.e)(function xn(y,v,g,S,N){return(z,K)=>{let Ae=g,lt=v,Jt=0;z.subscribe((0,me.x)(K,sn=>{const lr=Jt++;lt=Ae?y(lt,sn,lr):(Ae=!0,sn),S&&K.next(lt)},N&&(()=>{Ae&&K.next(lt),K.complete()})))}}(y,v,arguments.length>=2,!0))}function Mr(y){return y<=0?()=>gt.E:(0,Qt.e)((v,g)=>{let S=[];v.subscribe((0,me.x)(g,N=>{S.push(N),y<S.length&&S.shift()},()=>{for(const N of S)g.next(N);g.complete()},void 0,()=>{S=null}))})}function rr(y,v){const g=arguments.length>=2;return S=>S.pipe(y?It((N,z)=>y(N,z,S)):pe.y,Mr(1),g?Fe(v):dt(()=>new St))}function gr(y){return(0,Qt.e)((v,g)=>{try{v.subscribe(g)}finally{g.add(y)}})}var zr=X(1481);const nn="primary",ur=Symbol("RouteTitle");class Oi{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const g=this.params[v];return Array.isArray(g)?g[0]:g}return null}getAll(v){if(this.has(v)){const g=this.params[v];return Array.isArray(g)?g:[g]}return[]}get keys(){return Object.keys(this.params)}}function yi(y){return new Oi(y)}function us(y,v,g){const S=g.path.split("/");if(S.length>y.length||"full"===g.pathMatch&&(v.hasChildren()||S.length<y.length))return null;const N={};for(let z=0;z<S.length;z++){const K=S[z],Ae=y[z];if(K.startsWith(":"))N[K.substring(1)]=Ae;else if(K!==Ae.path)return null}return{consumed:y.slice(0,S.length),posParams:N}}function mr(y,v){const g=y?Object.keys(y):void 0,S=v?Object.keys(v):void 0;if(!g||!S||g.length!=S.length)return!1;let N;for(let z=0;z<g.length;z++)if(N=g[z],!Ci(y[N],v[N]))return!1;return!0}function Ci(y,v){if(Array.isArray(y)&&Array.isArray(v)){if(y.length!==v.length)return!1;const g=[...y].sort(),S=[...v].sort();return g.every((N,z)=>S[z]===N)}return y===v}function Kn(y){return Array.prototype.concat.apply([],y)}function vt(y){return y.length>0?y[y.length-1]:null}function Ln(y,v){for(const g in y)y.hasOwnProperty(g)&&v(y[g],g)}function Xn(y){return(0,C.CqO)(y)?y:(0,C.QGY)(y)?(0,Q.D)(Promise.resolve(y)):Ie(y)}const dr=!1,hi={exact:function Ki(y,v,g){if(!ln(y.segments,v.segments)||!Ai(y.segments,v.segments,g)||y.numberOfChildren!==v.numberOfChildren)return!1;for(const S in v.children)if(!y.children[S]||!Ki(y.children[S],v.children[S],g))return!1;return!0},subset:ui},Bn={exact:function hr(y,v){return mr(y,v)},subset:function Gn(y,v){return Object.keys(v).length<=Object.keys(y).length&&Object.keys(v).every(g=>Ci(y[g],v[g]))},ignored:()=>!0};function _i(y,v,g){return hi[g.paths](y.root,v.root,g.matrixParams)&&Bn[g.queryParams](y.queryParams,v.queryParams)&&!("exact"===g.fragment&&y.fragment!==v.fragment)}function ui(y,v,g){return Cr(y,v,v.segments,g)}function Cr(y,v,g,S){if(y.segments.length>g.length){const N=y.segments.slice(0,g.length);return!(!ln(N,g)||v.hasChildren()||!Ai(N,g,S))}if(y.segments.length===g.length){if(!ln(y.segments,g)||!Ai(y.segments,g,S))return!1;for(const N in v.children)if(!y.children[N]||!ui(y.children[N],v.children[N],S))return!1;return!0}{const N=g.slice(0,y.segments.length),z=g.slice(y.segments.length);return!!(ln(y.segments,N)&&Ai(y.segments,N,S)&&y.children[nn])&&Cr(y.children[nn],v,z,S)}}function Ai(y,v,g){return v.every((S,N)=>Bn[g](y[N].parameters,S.parameters))}class Vr{constructor(v=new Cn([],{}),g={},S=null){this.root=v,this.queryParams=g,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yi(this.queryParams)),this._queryParamMap}toString(){return Te.serialize(this)}}class Cn{constructor(v,g){this.segments=v,this.children=g,this.parent=null,Ln(g,(S,N)=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return rt(this)}}class Fr{constructor(v,g){this.path=v,this.parameters=g}get parameterMap(){return this._parameterMap||(this._parameterMap=yi(this.parameters)),this._parameterMap}toString(){return ft(this)}}function ln(y,v){return y.length===v.length&&y.every((g,S)=>g.path===v[S].path)}let ae=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:function(){return new se},providedIn:"root"}),y})();class se{parse(v){const g=new gn(v);return new Vr(g.parseRootSegment(),g.parseQueryParams(),g.parseFragment())}serialize(v){const g=`/${ke(v.root,!0)}`,S=function tn(y){const v=Object.keys(y).map(g=>{const S=y[g];return Array.isArray(S)?S.map(N=>`${we(g)}=${we(N)}`).join("&"):`${we(g)}=${we(S)}`}).filter(g=>!!g);return v.length?`?${v.join("&")}`:""}(v.queryParams);return`${g}${S}${"string"==typeof v.fragment?`#${function fe(y){return encodeURI(y)}(v.fragment)}`:""}`}}const Te=new se;function rt(y){return y.segments.map(v=>ft(v)).join("/")}function ke(y,v){if(!y.hasChildren())return rt(y);if(v){const g=y.children[nn]?ke(y.children[nn],!1):"",S=[];return Ln(y.children,(N,z)=>{z!==nn&&S.push(`${z}:${ke(N,!1)}`)}),S.length>0?`${g}(${S.join("//")})`:g}{const g=function Ur(y,v){let g=[];return Ln(y.children,(S,N)=>{N===nn&&(g=g.concat(v(S,N)))}),Ln(y.children,(S,N)=>{N!==nn&&(g=g.concat(v(S,N)))}),g}(y,(S,N)=>N===nn?[ke(y.children[nn],!1)]:[`${N}:${ke(S,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[nn]?`${rt(y)}/${g[0]}`:`${rt(y)}/(${g.join("//")})`}}function $t(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function we(y){return $t(y).replace(/%3B/gi,";")}function ee(y){return $t(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ee(y){return decodeURIComponent(y)}function Qe(y){return Ee(y.replace(/\+/g,"%20"))}function ft(y){return`${ee(y.path)}${function Kt(y){return Object.keys(y).map(v=>`;${ee(v)}=${ee(y[v])}`).join("")}(y.parameters)}`}const or=/^[^\/()?;=#]+/;function Ii(y){const v=y.match(or);return v?v[0]:""}const He=/^[^=?&#]+/,wt=/^[^&#]+/;class gn{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cn([],{}):new Cn([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let g={};this.peekStartsWith("/(")&&(this.capture("/"),g=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(v.length>0||Object.keys(g).length>0)&&(S[nn]=new Cn(v,g)),S}parseSegment(){const v=Ii(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new C.vHH(4009,dr);return this.capture(v),new Fr(Ee(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const g=Ii(this.remaining);if(!g)return;this.capture(g);let S="";if(this.consumeOptional("=")){const N=Ii(this.remaining);N&&(S=N,this.capture(S))}v[Ee(g)]=Ee(S)}parseQueryParam(v){const g=function Le(y){const v=y.match(He);return v?v[0]:""}(this.remaining);if(!g)return;this.capture(g);let S="";if(this.consumeOptional("=")){const K=function pn(y){const v=y.match(wt);return v?v[0]:""}(this.remaining);K&&(S=K,this.capture(S))}const N=Qe(g),z=Qe(S);if(v.hasOwnProperty(N)){let K=v[N];Array.isArray(K)||(K=[K],v[N]=K),K.push(z)}else v[N]=z}parseParens(v){const g={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=Ii(this.remaining),N=this.remaining[S.length];if("/"!==N&&")"!==N&&";"!==N)throw new C.vHH(4010,dr);let z;S.indexOf(":")>-1?(z=S.slice(0,S.indexOf(":")),this.capture(z),this.capture(":")):v&&(z=nn);const K=this.parseChildren();g[z]=1===Object.keys(K).length?K[nn]:new Cn([],K),this.consumeOptional("//")}return g}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new C.vHH(4011,dr)}}function Un(y){return y.segments.length>0?new Cn([],{[nn]:y}):y}function jn(y){const v={};for(const S of Object.keys(y.children)){const z=jn(y.children[S]);(z.segments.length>0||z.hasChildren())&&(v[S]=z)}return function Jr(y){if(1===y.numberOfChildren&&y.children[nn]){const v=y.children[nn];return new Cn(y.segments.concat(v.segments),v.children)}return y}(new Cn(y.segments,v))}function xr(y){return y instanceof Vr}const Gr=!1;function ps(y,v,g,S,N){if(0===g.length)return Zr(v.root,v.root,v.root,S,N);const z=function Vi(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new On(!0,0,y);let v=0,g=!1;const S=y.reduce((N,z,K)=>{if("object"==typeof z&&null!=z){if(z.outlets){const Ae={};return Ln(z.outlets,(lt,Jt)=>{Ae[Jt]="string"==typeof lt?lt.split("/"):lt}),[...N,{outlets:Ae}]}if(z.segmentPath)return[...N,z.segmentPath]}return"string"!=typeof z?[...N,z]:0===K?(z.split("/").forEach((Ae,lt)=>{0==lt&&"."===Ae||(0==lt&&""===Ae?g=!0:".."===Ae?v++:""!=Ae&&N.push(Ae))}),N):[...N,z]},[]);return new On(g,v,S)}(g);return z.toRoot()?Zr(v.root,v.root,new Cn([],{}),S,N):function K(lt){const Jt=function Yi(y,v,g,S){if(y.isAbsolute)return new Ri(v.root,!0,0);if(-1===S)return new Ri(g,g===v.root,0);return function ne(y,v,g){let S=y,N=v,z=g;for(;z>N;){if(z-=N,S=S.parent,!S)throw new C.vHH(4005,Gr&&"Invalid number of '../'");N=S.segments.length}return new Ri(S,!1,N-z)}(g,S+(Wn(y.commands[0])?0:1),y.numberOfDoubleDots)}(z,v,y.snapshot?._urlSegment,lt),sn=Jt.processChildren?Ze(Jt.segmentGroup,Jt.index,z.commands):Ce(Jt.segmentGroup,Jt.index,z.commands);return Zr(v.root,Jt.segmentGroup,sn,S,N)}(y.snapshot?._lastPathIndex)}function Wn(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function $r(y){return"object"==typeof y&&null!=y&&y.outlets}function Zr(y,v,g,S,N){let K,z={};S&&Ln(S,(lt,Jt)=>{z[Jt]=Array.isArray(lt)?lt.map(sn=>`${sn}`):`${lt}`}),K=y===v?g:Zi(y,v,g);const Ae=Un(jn(K));return new Vr(Ae,z,N)}function Zi(y,v,g){const S={};return Ln(y.children,(N,z)=>{S[z]=N===v?g:Zi(N,v,g)}),new Cn(y.segments,S)}class On{constructor(v,g,S){if(this.isAbsolute=v,this.numberOfDoubleDots=g,this.commands=S,v&&S.length>0&&Wn(S[0]))throw new C.vHH(4003,Gr&&"Root segment cannot have matrix parameters");const N=S.find($r);if(N&&N!==vt(S))throw new C.vHH(4004,Gr&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ri{constructor(v,g,S){this.segmentGroup=v,this.processChildren=g,this.index=S}}function Ce(y,v,g){if(y||(y=new Cn([],{})),0===y.segments.length&&y.hasChildren())return Ze(y,v,g);const S=function xt(y,v,g){let S=0,N=v;const z={match:!1,pathIndex:0,commandIndex:0};for(;N<y.segments.length;){if(S>=g.length)return z;const K=y.segments[N],Ae=g[S];if($r(Ae))break;const lt=`${Ae}`,Jt=S<g.length-1?g[S+1]:null;if(N>0&&void 0===lt)break;if(lt&&Jt&&"object"==typeof Jt&&void 0===Jt.outlets){if(!Vn(lt,Jt,K))return z;S+=2}else{if(!Vn(lt,{},K))return z;S++}N++}return{match:!0,pathIndex:N,commandIndex:S}}(y,v,g),N=g.slice(S.commandIndex);if(S.match&&S.pathIndex<y.segments.length){const z=new Cn(y.segments.slice(0,S.pathIndex),{});return z.children[nn]=new Cn(y.segments.slice(S.pathIndex),y.children),Ze(z,0,N)}return S.match&&0===N.length?new Cn(y.segments,{}):S.match&&!y.hasChildren()?Xt(y,v,g):S.match?Ze(y,0,N):Xt(y,v,g)}function Ze(y,v,g){if(0===g.length)return new Cn(y.segments,{});{const S=function le(y){return $r(y[0])?y[0].outlets:{[nn]:y}}(g),N={};if(!S[nn]&&y.children[nn]&&1===y.numberOfChildren&&0===y.children[nn].segments.length){const z=Ze(y.children[nn],v,g);return new Cn(y.segments,z.children)}return Ln(S,(z,K)=>{"string"==typeof z&&(z=[z]),null!==z&&(N[K]=Ce(y.children[K],v,z))}),Ln(y.children,(z,K)=>{void 0===S[K]&&(N[K]=z)}),new Cn(y.segments,N)}}function Xt(y,v,g){const S=y.segments.slice(0,v);let N=0;for(;N<g.length;){const z=g[N];if($r(z)){const lt=Jn(z.outlets);return new Cn(S,lt)}if(0===N&&Wn(g[0])){S.push(new Fr(y.segments[v].path,mn(g[0]))),N++;continue}const K=$r(z)?z.outlets[nn]:`${z}`,Ae=N<g.length-1?g[N+1]:null;K&&Ae&&Wn(Ae)?(S.push(new Fr(K,mn(Ae))),N+=2):(S.push(new Fr(K,{})),N++)}return new Cn(S,{})}function Jn(y){const v={};return Ln(y,(g,S)=>{"string"==typeof g&&(g=[g]),null!==g&&(v[S]=Xt(new Cn([],{}),0,g))}),v}function mn(y){const v={};return Ln(y,(g,S)=>v[S]=`${g}`),v}function Vn(y,v,g){return y==g.path&&mr(v,g.parameters)}const vi="imperative";class An{constructor(v,g){this.id=v,this.url=g}}class fi extends An{constructor(v,g,S="imperative",N=null){super(v,g),this.type=0,this.navigationTrigger=S,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Br extends An{constructor(v,g,S){super(v,g),this.urlAfterRedirects=S,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qs extends An{constructor(v,g,S,N){super(v,g),this.reason=S,this.code=N,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pi extends An{constructor(v,g,S,N){super(v,g),this.reason=S,this.code=N,this.type=16}}class ni extends An{constructor(v,g,S,N){super(v,g),this.error=S,this.target=N,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ls extends An{constructor(v,g,S,N){super(v,g),this.urlAfterRedirects=S,this.state=N,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vs extends An{constructor(v,g,S,N){super(v,g),this.urlAfterRedirects=S,this.state=N,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ri extends An{constructor(v,g,S,N,z){super(v,g),this.urlAfterRedirects=S,this.state=N,this.shouldActivate=z,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $s extends An{constructor(v,g,S,N){super(v,g),this.urlAfterRedirects=S,this.state=N,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xs extends An{constructor(v,g,S,N){super(v,g),this.urlAfterRedirects=S,this.state=N,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yr{constructor(v){this.route=v,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bs{constructor(v){this.route=v,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fo{constructor(v){this.snapshot=v,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ao{constructor(v){this.snapshot=v,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Js{constructor(v){this.snapshot=v,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wo{constructor(v){this.snapshot=v,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ss{constructor(v,g,S){this.routerEvent=v,this.position=g,this.anchor=S,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let ei=(()=>{class y{createUrlTree(g,S,N,z,K,Ae){return ps(g||S.root,N,z,K,Ae)}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac}),y})(),Cs=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:function(v){return ei.\u0275fac(v)},providedIn:"root"}),y})();class Ji{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const g=this.pathFromRoot(v);return g.length>1?g[g.length-2]:null}children(v){const g=_r(v,this._root);return g?g.children.map(S=>S.value):[]}firstChild(v){const g=_r(v,this._root);return g&&g.children.length>0?g.children[0].value:null}siblings(v){const g=$i(v,this._root);return g.length<2?[]:g[g.length-2].children.map(N=>N.value).filter(N=>N!==v)}pathFromRoot(v){return $i(v,this._root).map(g=>g.value)}}function _r(y,v){if(y===v.value)return v;for(const g of v.children){const S=_r(y,g);if(S)return S}return null}function $i(y,v){if(y===v.value)return[v];for(const g of v.children){const S=$i(y,g);if(S.length)return S.unshift(v),S}return[]}class ki{constructor(v,g){this.value=v,this.children=g}toString(){return`TreeNode(${this.value})`}}function eo(y){const v={};return y&&y.children.forEach(g=>v[g.value.outlet]=g),v}class Ro extends Ji{constructor(v,g){super(v),this.snapshot=g,go(this,v)}toString(){return this.snapshot.toString()}}function Mo(y,v){const g=function pa(y,v){const K=new to([],{},{},"",{},nn,v,null,y.root,-1,{});return new As("",new ki(K,[]))}(y,v),S=new ie([new Fr("",{})]),N=new ie({}),z=new ie({}),K=new ie({}),Ae=new ie(""),lt=new po(S,N,K,Ae,z,nn,v,g.root);return lt.snapshot=g.root,new Ro(new ki(lt,[]),g)}class po{constructor(v,g,S,N,z,K,Ae,lt){this.url=v,this.params=g,this.queryParams=S,this.fragment=N,this.data=z,this.outlet=K,this.component=Ae,this.title=this.data?.pipe((0,Se.U)(Jt=>Jt[ur]))??Ie(void 0),this._futureSnapshot=lt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Se.U)(v=>yi(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Se.U)(v=>yi(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function js(y,v="emptyOnly"){const g=y.pathFromRoot;let S=0;if("always"!==v)for(S=g.length-1;S>=1;){const N=g[S],z=g[S-1];if(N.routeConfig&&""===N.routeConfig.path)S--;else{if(z.component)break;S--}}return function ga(y){return y.reduce((v,g)=>({params:{...v.params,...g.params},data:{...v.data,...g.data},resolve:{...g.data,...v.resolve,...g.routeConfig?.data,...g._resolvedData}}),{params:{},data:{},resolve:{}})}(g.slice(S))}class to{get title(){return this.data?.[ur]}constructor(v,g,S,N,z,K,Ae,lt,Jt,sn,lr){this.url=v,this.params=g,this.queryParams=S,this.fragment=N,this.data=z,this.outlet=K,this.component=Ae,this.routeConfig=lt,this._urlSegment=Jt,this._lastPathIndex=sn,this._resolve=lr}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yi(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yi(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class As extends Ji{constructor(v,g){super(g),this.url=v,go(this,g)}toString(){return Na(this._root)}}function go(y,v){v.value._routerState=y,v.children.forEach(g=>go(y,g))}function Na(y){const v=y.children.length>0?` { ${y.children.map(Na).join(", ")} } `:"";return`${y.value}${v}`}function ma(y){if(y.snapshot){const v=y.snapshot,g=y._futureSnapshot;y.snapshot=g,mr(v.queryParams,g.queryParams)||y.queryParams.next(g.queryParams),v.fragment!==g.fragment&&y.fragment.next(g.fragment),mr(v.params,g.params)||y.params.next(g.params),function ai(y,v){if(y.length!==v.length)return!1;for(let g=0;g<y.length;++g)if(!mr(y[g],v[g]))return!1;return!0}(v.url,g.url)||y.url.next(g.url),mr(v.data,g.data)||y.data.next(g.data)}else y.snapshot=y._futureSnapshot,y.data.next(y._futureSnapshot.data)}function Rs(y,v){const g=mr(y.params,v.params)&&function sr(y,v){return ln(y,v)&&y.every((g,S)=>mr(g.parameters,v[S].parameters))}(y.url,v.url);return g&&!(!y.parent!=!v.parent)&&(!y.parent||Rs(y.parent,v.parent))}function Di(y,v,g){if(g&&y.shouldReuseRoute(v.value,g.value.snapshot)){const S=g.value;S._futureSnapshot=v.value;const N=function ji(y,v,g){return v.children.map(S=>{for(const N of g.children)if(y.shouldReuseRoute(S.value,N.value.snapshot))return Di(y,S,N);return Di(y,S)})}(y,v,g);return new ki(S,N)}{if(y.shouldAttach(v.value)){const z=y.retrieve(v.value);if(null!==z){const K=z.route;return K.value._futureSnapshot=v.value,K.children=v.children.map(Ae=>Di(y,Ae)),K}}const S=function To(y){return new po(new ie(y.url),new ie(y.params),new ie(y.queryParams),new ie(y.fragment),new ie(y.data),y.outlet,y.component,y)}(v.value),N=v.children.map(z=>Di(y,z));return new ki(S,N)}}const Hs="ngNavigationCancelingError";function Lo(y,v){const{redirectTo:g,navigationBehaviorOptions:S}=xr(v)?{redirectTo:v,navigationBehaviorOptions:void 0}:v,N=ya(!1,0,v);return N.url=g,N.navigationBehaviorOptions=S,N}function ya(y,v,g){const S=new Error("NavigationCancelingError: "+(y||""));return S[Hs]=!0,S.cancellationCode=v,g&&(S.url=g),S}function ws(y){return qo(y)&&xr(y.url)}function qo(y){return y&&y[Hs]}class gs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new zs,this.attachRef=null}}let zs=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(g,S){const N=this.getOrCreateContext(g);N.outlet=S,this.contexts.set(g,N)}onChildOutletDestroyed(g){const S=this.getContext(g);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const g=this.contexts;return this.contexts=new Map,g}onOutletReAttached(g){this.contexts=g}getOrCreateContext(g){let S=this.getContext(g);return S||(S=new gs,this.contexts.set(g,S)),S}getContext(g){return this.contexts.get(g)||null}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const no=!1;let Uo=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=nn,this.activateEvents=new C.vpe,this.deactivateEvents=new C.vpe,this.attachEvents=new C.vpe,this.detachEvents=new C.vpe,this.parentContexts=(0,C.f3M)(zs),this.location=(0,C.f3M)(C.s_b),this.changeDetector=(0,C.f3M)(C.sBO),this.environmentInjector=(0,C.f3M)(C.lqb)}ngOnChanges(g){if(g.name){const{firstChange:S,previousValue:N}=g.name;if(S)return;this.isTrackedInParentContexts(N)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(N)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(g){return this.parentContexts.getContext(g)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const g=this.parentContexts.getContext(this.name);g?.route&&(g.attachRef?this.attach(g.attachRef,g.route):this.activateWith(g.route,g.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C.vHH(4012,no);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C.vHH(4012,no);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C.vHH(4012,no);this.location.detach();const g=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(g.instance),g}attach(g,S){this.activated=g,this._activatedRoute=S,this.location.insert(g.hostView),this.attachEvents.emit(g.instance)}deactivate(){if(this.activated){const g=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(g)}}activateWith(g,S){if(this.isActivated)throw new C.vHH(4013,no);this._activatedRoute=g;const N=this.location,K=g.snapshot.component,Ae=this.parentContexts.getOrCreateContext(this.name).children,lt=new xo(g,Ae,N.injector);if(S&&function Ms(y){return!!y.resolveComponentFactory}(S)){const Jt=S.resolveComponentFactory(K);this.activated=N.createComponent(Jt,N.length,lt)}else this.activated=N.createComponent(K,{index:N.length,injector:lt,environmentInjector:S??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275dir=C.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[C.TTD]}),y})();class xo{constructor(v,g,S){this.route=v,this.childContexts=g,this.parent=S}get(v,g){return v===po?this.route:v===zs?this.childContexts:this.parent.get(v,g)}}let Pr=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275cmp=C.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[C.jDz],decls:1,vars:0,template:function(g,S){1&g&&C._UZ(0,"router-outlet")},dependencies:[Uo],encapsulation:2}),y})();function Hi(y,v){return y.providers&&!y._injector&&(y._injector=(0,C.MMx)(y.providers,v,`Route: ${y.path}`)),y._injector??v}function io(y){const v=y.children&&y.children.map(io),g=v?{...y,children:v}:{...y};return!g.component&&!g.loadComponent&&(v||g.loadChildren)&&g.outlet&&g.outlet!==nn&&(g.component=Pr),g}function Mi(y){return y.outlet||nn}function xs(y,v){const g=y.filter(S=>Mi(S)===v);return g.push(...y.filter(S=>Mi(S)!==v)),g}function wi(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let v=y.parent;v;v=v.parent){const g=v.routeConfig;if(g?._loadedInjector)return g._loadedInjector;if(g?._injector)return g._injector}return null}class B{constructor(v,g,S,N){this.routeReuseStrategy=v,this.futureState=g,this.currState=S,this.forwardEvent=N}activate(v){const g=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(g,S,v),ma(this.futureState.root),this.activateChildRoutes(g,S,v)}deactivateChildRoutes(v,g,S){const N=eo(g);v.children.forEach(z=>{const K=z.value.outlet;this.deactivateRoutes(z,N[K],S),delete N[K]}),Ln(N,(z,K)=>{this.deactivateRouteAndItsChildren(z,S)})}deactivateRoutes(v,g,S){const N=v.value,z=g?g.value:null;if(N===z)if(N.component){const K=S.getContext(N.outlet);K&&this.deactivateChildRoutes(v,g,K.children)}else this.deactivateChildRoutes(v,g,S);else z&&this.deactivateRouteAndItsChildren(g,S)}deactivateRouteAndItsChildren(v,g){v.value.component&&this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,g):this.deactivateRouteAndOutlet(v,g)}detachAndStoreRouteSubtree(v,g){const S=g.getContext(v.value.outlet),N=S&&v.value.component?S.children:g,z=eo(v);for(const K of Object.keys(z))this.deactivateRouteAndItsChildren(z[K],N);if(S&&S.outlet){const K=S.outlet.detach(),Ae=S.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:K,route:v,contexts:Ae})}}deactivateRouteAndOutlet(v,g){const S=g.getContext(v.value.outlet),N=S&&v.value.component?S.children:g,z=eo(v);for(const K of Object.keys(z))this.deactivateRouteAndItsChildren(z[K],N);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.resolver=null,S.route=null)}activateChildRoutes(v,g,S){const N=eo(g);v.children.forEach(z=>{this.activateRoutes(z,N[z.value.outlet],S),this.forwardEvent(new Wo(z.value.snapshot))}),v.children.length&&this.forwardEvent(new Ao(v.value.snapshot))}activateRoutes(v,g,S){const N=v.value,z=g?g.value:null;if(ma(N),N===z)if(N.component){const K=S.getOrCreateContext(N.outlet);this.activateChildRoutes(v,g,K.children)}else this.activateChildRoutes(v,g,S);else if(N.component){const K=S.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const Ae=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),K.children.onOutletReAttached(Ae.contexts),K.attachRef=Ae.componentRef,K.route=Ae.route.value,K.outlet&&K.outlet.attach(Ae.componentRef,Ae.route.value),ma(Ae.route.value),this.activateChildRoutes(v,null,K.children)}else{const Ae=wi(N.snapshot),lt=Ae?.get(C._Vd)??null;K.attachRef=null,K.route=N,K.resolver=lt,K.injector=Ae,K.outlet&&K.outlet.activateWith(N,K.injector),this.activateChildRoutes(v,null,K.children)}}else this.activateChildRoutes(v,null,S)}}class re{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class ue{constructor(v,g){this.component=v,this.route=g}}function xe(y,v,g){const S=y._root;return Pt(S,v?v._root:null,g,[S.value])}function Je(y,v){const g=Symbol(),S=v.get(y,g);return S===g?"function"!=typeof y||(0,C.Z0I)(y)?v.get(y):y:S}function Pt(y,v,g,S,N={canDeactivateChecks:[],canActivateChecks:[]}){const z=eo(v);return y.children.forEach(K=>{(function Zt(y,v,g,S,N={canDeactivateChecks:[],canActivateChecks:[]}){const z=y.value,K=v?v.value:null,Ae=g?g.getContext(y.value.outlet):null;if(K&&z.routeConfig===K.routeConfig){const lt=function er(y,v,g){if("function"==typeof g)return g(y,v);switch(g){case"pathParamsChange":return!ln(y.url,v.url);case"pathParamsOrQueryParamsChange":return!ln(y.url,v.url)||!mr(y.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rs(y,v)||!mr(y.queryParams,v.queryParams);default:return!Rs(y,v)}}(K,z,z.routeConfig.runGuardsAndResolvers);lt?N.canActivateChecks.push(new re(S)):(z.data=K.data,z._resolvedData=K._resolvedData),Pt(y,v,z.component?Ae?Ae.children:null:g,S,N),lt&&Ae&&Ae.outlet&&Ae.outlet.isActivated&&N.canDeactivateChecks.push(new ue(Ae.outlet.component,K))}else K&&Zn(v,Ae,N),N.canActivateChecks.push(new re(S)),Pt(y,null,z.component?Ae?Ae.children:null:g,S,N)})(K,z[K.value.outlet],g,S.concat([K.value]),N),delete z[K.value.outlet]}),Ln(z,(K,Ae)=>Zn(K,g.getContext(Ae),N)),N}function Zn(y,v,g){const S=eo(y),N=y.value;Ln(S,(z,K)=>{Zn(z,N.component?v?v.children.getContext(K):null:v,g)}),g.canDeactivateChecks.push(new ue(N.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,N))}function qr(y){return"function"==typeof y}function Kr(y){return y instanceof St||"EmptyError"===y?.name}const Gi=Symbol("INITIAL_VALUE");function Ar(){return ze(y=>Ke(y.map(v=>v.pipe(it(1),function mt(...y){const v=(0,ce.yG)(y);return(0,Qt.e)((g,S)=>{(v?Xe(y,g,v):Xe(y,g)).subscribe(S)})}(Gi)))).pipe((0,Se.U)(v=>{for(const g of v)if(!0!==g){if(g===Gi)return Gi;if(!1===g||g instanceof Vr)return g}return!0}),It(v=>v!==Gi),it(1)))}function w(y){return(0,Mt.z)((0,Rt.b)(v=>{if(xr(v))throw Lo(0,v)}),(0,Se.U)(v=>!0===v))}const H={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function J(y,v,g,S,N){const z=de(y,v,g);return z.matched?function P(y,v,g,S){const N=v.canMatch;return N&&0!==N.length?Ie(N.map(K=>{const Ae=Je(K,y);return Xn(function Ps(y){return y&&qr(y.canMatch)}(Ae)?Ae.canMatch(v,g):y.runInContext(()=>Ae(v,g)))})).pipe(Ar(),w()):Ie(!0)}(S=Hi(v,S),v,g).pipe((0,Se.U)(K=>!0===K?z:{...H})):Ie(z)}function de(y,v,g){if(""===v.path)return"full"===v.pathMatch&&(y.hasChildren()||g.length>0)?{...H}:{matched:!0,consumedSegments:[],remainingSegments:g,parameters:{},positionalParamSegments:{}};const N=(v.matcher||us)(g,y,v);if(!N)return{...H};const z={};Ln(N.posParams,(Ae,lt)=>{z[lt]=Ae.path});const K=N.consumed.length>0?{...z,...N.consumed[N.consumed.length-1].parameters}:z;return{matched:!0,consumedSegments:N.consumed,remainingSegments:g.slice(N.consumed.length),parameters:K,positionalParamSegments:N.posParams??{}}}function ge(y,v,g,S){if(g.length>0&&function zt(y,v,g){return g.some(S=>Hn(y,v,S)&&Mi(S)!==nn)}(y,g,S)){const z=new Cn(v,function st(y,v,g,S){const N={};N[nn]=S,S._sourceSegment=y,S._segmentIndexShift=v.length;for(const z of g)if(""===z.path&&Mi(z)!==nn){const K=new Cn([],{});K._sourceSegment=y,K._segmentIndexShift=v.length,N[Mi(z)]=K}return N}(y,v,S,new Cn(g,y.children)));return z._sourceSegment=y,z._segmentIndexShift=v.length,{segmentGroup:z,slicedSegments:[]}}if(0===g.length&&function Yt(y,v,g){return g.some(S=>Hn(y,v,S))}(y,g,S)){const z=new Cn(y.segments,function Re(y,v,g,S,N){const z={};for(const K of S)if(Hn(y,g,K)&&!N[Mi(K)]){const Ae=new Cn([],{});Ae._sourceSegment=y,Ae._segmentIndexShift=v.length,z[Mi(K)]=Ae}return{...N,...z}}(y,v,g,S,y.children));return z._sourceSegment=y,z._segmentIndexShift=v.length,{segmentGroup:z,slicedSegments:g}}const N=new Cn(y.segments,y.children);return N._sourceSegment=y,N._segmentIndexShift=v.length,{segmentGroup:N,slicedSegments:g}}function Hn(y,v,g){return(!(y.hasChildren()||v.length>0)||"full"!==g.pathMatch)&&""===g.path}function $n(y,v,g,S){return!!(Mi(y)===S||S!==nn&&Hn(v,g,y))&&("**"===y.path||de(v,y,g).matched)}function In(y,v,g){return 0===v.length&&!y.children[g]}const kn=!1;class cr{constructor(v){this.segmentGroup=v||null}}class vr{constructor(v){this.urlTree=v}}function wr(y){return Ct(new cr(y))}function Nr(y){return Ct(new vr(y))}class ar{constructor(v,g,S,N,z){this.injector=v,this.configLoader=g,this.urlSerializer=S,this.urlTree=N,this.config=z,this.allowRedirects=!0}apply(){const v=ge(this.urlTree.root,[],[],this.config).segmentGroup,g=new Cn(v.segments,v.children);return this.expandSegmentGroup(this.injector,this.config,g,nn).pipe((0,Se.U)(z=>this.createUrlTree(jn(z),this.urlTree.queryParams,this.urlTree.fragment))).pipe(un(z=>{if(z instanceof vr)return this.allowRedirects=!1,this.match(z.urlTree);throw z instanceof cr?this.noMatchError(z):z}))}match(v){return this.expandSegmentGroup(this.injector,this.config,v.root,nn).pipe((0,Se.U)(N=>this.createUrlTree(jn(N),v.queryParams,v.fragment))).pipe(un(N=>{throw N instanceof cr?this.noMatchError(N):N}))}noMatchError(v){return new C.vHH(4002,kn)}createUrlTree(v,g,S){const N=Un(v);return new Vr(N,g,S)}expandSegmentGroup(v,g,S,N){return 0===S.segments.length&&S.hasChildren()?this.expandChildren(v,g,S).pipe((0,Se.U)(z=>new Cn([],z))):this.expandSegment(v,S,g,S.segments,N,!0)}expandChildren(v,g,S){const N=[];for(const z of Object.keys(S.children))"primary"===z?N.unshift(z):N.push(z);return(0,Q.D)(N).pipe(bt(z=>{const K=S.children[z],Ae=xs(g,z);return this.expandSegmentGroup(v,Ae,K,z).pipe((0,Se.U)(lt=>({segment:lt,outlet:z})))}),cn((z,K)=>(z[K.outlet]=K.segment,z),{}),rr())}expandSegment(v,g,S,N,z,K){return(0,Q.D)(S).pipe(bt(Ae=>this.expandSegmentAgainstRoute(v,g,S,Ae,N,z,K).pipe(un(Jt=>{if(Jt instanceof cr)return Ie(null);throw Jt}))),be(Ae=>!!Ae),un((Ae,lt)=>{if(Kr(Ae))return In(g,N,z)?Ie(new Cn([],{})):wr(g);throw Ae}))}expandSegmentAgainstRoute(v,g,S,N,z,K,Ae){return $n(N,g,z,K)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(v,g,N,z,K):Ae&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,g,S,N,z,K):wr(g):wr(g)}expandSegmentAgainstRouteUsingRedirect(v,g,S,N,z,K){return"**"===N.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,S,N,K):this.expandRegularSegmentAgainstRouteUsingRedirect(v,g,S,N,z,K)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,g,S,N){const z=this.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?Nr(z):this.lineralizeSegments(S,z).pipe((0,Tt.z)(K=>{const Ae=new Cn(K,{});return this.expandSegment(v,Ae,g,K,N,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,g,S,N,z,K){const{matched:Ae,consumedSegments:lt,remainingSegments:Jt,positionalParamSegments:sn}=de(g,N,z);if(!Ae)return wr(g);const lr=this.applyRedirectCommands(lt,N.redirectTo,sn);return N.redirectTo.startsWith("/")?Nr(lr):this.lineralizeSegments(N,lr).pipe((0,Tt.z)(_s=>this.expandSegment(v,g,S,_s.concat(Jt),K,!1)))}matchSegmentAgainstRoute(v,g,S,N,z){return"**"===S.path?(v=Hi(S,v),S.loadChildren?(S._loadedRoutes?Ie({routes:S._loadedRoutes,injector:S._loadedInjector}):this.configLoader.loadChildren(v,S)).pipe((0,Se.U)(Ae=>(S._loadedRoutes=Ae.routes,S._loadedInjector=Ae.injector,new Cn(N,{})))):Ie(new Cn(N,{}))):J(g,S,N,v).pipe(ze(({matched:K,consumedSegments:Ae,remainingSegments:lt})=>K?this.getChildConfig(v=S._injector??v,S,N).pipe((0,Tt.z)(sn=>{const lr=sn.injector??v,_s=sn.routes,{segmentGroup:uo,slicedSegments:No}=ge(g,Ae,lt,_s),Oo=new Cn(uo.segments,uo.children);if(0===No.length&&Oo.hasChildren())return this.expandChildren(lr,_s,Oo).pipe((0,Se.U)(kc=>new Cn(Ae,kc)));if(0===_s.length&&0===No.length)return Ie(new Cn(Ae,{}));const ds=Mi(S)===z;return this.expandSegment(lr,Oo,_s,No,ds?nn:z,!0).pipe((0,Se.U)(di=>new Cn(Ae.concat(di.segments),di.children)))})):wr(g)))}getChildConfig(v,g,S){return g.children?Ie({routes:g.children,injector:v}):g.loadChildren?void 0!==g._loadedRoutes?Ie({routes:g._loadedRoutes,injector:g._loadedInjector}):function _(y,v,g,S){const N=v.canLoad;return void 0===N||0===N.length?Ie(!0):Ie(N.map(K=>{const Ae=Je(K,y);return Xn(function ii(y){return y&&qr(y.canLoad)}(Ae)?Ae.canLoad(v,g):y.runInContext(()=>Ae(v,g)))})).pipe(Ar(),w())}(v,g,S).pipe((0,Tt.z)(N=>N?this.configLoader.loadChildren(v,g).pipe((0,Rt.b)(z=>{g._loadedRoutes=z.routes,g._loadedInjector=z.injector})):function gi(y){return Ct(ya(kn,3))}())):Ie({routes:[],injector:v})}lineralizeSegments(v,g){let S=[],N=g.root;for(;;){if(S=S.concat(N.segments),0===N.numberOfChildren)return Ie(S);if(N.numberOfChildren>1||!N.children[nn])return v.redirectTo,Ct(new C.vHH(4e3,kn));N=N.children[nn]}}applyRedirectCommands(v,g,S){return this.applyRedirectCreateUrlTree(g,this.urlSerializer.parse(g),v,S)}applyRedirectCreateUrlTree(v,g,S,N){const z=this.createSegmentGroup(v,g.root,S,N);return new Vr(z,this.createQueryParams(g.queryParams,this.urlTree.queryParams),g.fragment)}createQueryParams(v,g){const S={};return Ln(v,(N,z)=>{if("string"==typeof N&&N.startsWith(":")){const Ae=N.substring(1);S[z]=g[Ae]}else S[z]=N}),S}createSegmentGroup(v,g,S,N){const z=this.createSegments(v,g.segments,S,N);let K={};return Ln(g.children,(Ae,lt)=>{K[lt]=this.createSegmentGroup(v,Ae,S,N)}),new Cn(z,K)}createSegments(v,g,S,N){return g.map(z=>z.path.startsWith(":")?this.findPosParam(v,z,N):this.findOrReturn(z,S))}findPosParam(v,g,S){const N=S[g.path.substring(1)];if(!N)throw new C.vHH(4001,kn);return N}findOrReturn(v,g){let S=0;for(const N of g){if(N.path===v.path)return g.splice(S),N;S++}return v}}class F{}class oe{constructor(v,g,S,N,z,K,Ae){this.injector=v,this.rootComponentType=g,this.config=S,this.urlTree=N,this.url=z,this.paramsInheritanceStrategy=K,this.urlSerializer=Ae}recognize(){const v=ge(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,v,nn).pipe((0,Se.U)(g=>{if(null===g)return null;const S=new to([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nn,this.rootComponentType,null,this.urlTree.root,-1,{}),N=new ki(S,g),z=new As(this.url,N);return this.inheritParamsAndData(z._root),z}))}inheritParamsAndData(v){const g=v.value,S=js(g,this.paramsInheritanceStrategy);g.params=Object.freeze(S.params),g.data=Object.freeze(S.data),v.children.forEach(N=>this.inheritParamsAndData(N))}processSegmentGroup(v,g,S,N){return 0===S.segments.length&&S.hasChildren()?this.processChildren(v,g,S):this.processSegment(v,g,S,S.segments,N)}processChildren(v,g,S){return(0,Q.D)(Object.keys(S.children)).pipe(bt(N=>{const z=S.children[N],K=xs(g,N);return this.processSegmentGroup(v,K,z,N)}),cn((N,z)=>N&&z?(N.push(...z),N):null),function ir(y,v=!1){return(0,Qt.e)((g,S)=>{let N=0;g.subscribe((0,me.x)(S,z=>{const K=y(z,N++);(K||v)&&S.next(z),!K&&S.complete()}))})}(N=>null!==N),Fe(null),rr(),(0,Se.U)(N=>{if(null===N)return null;const z=Bt(N);return function Ge(y){y.sort((v,g)=>v.value.outlet===nn?-1:g.value.outlet===nn?1:v.value.outlet.localeCompare(g.value.outlet))}(z),z}))}processSegment(v,g,S,N,z){return(0,Q.D)(g).pipe(bt(K=>this.processSegmentAgainstRoute(K._injector??v,K,S,N,z)),be(K=>!!K),un(K=>{if(Kr(K))return In(S,N,z)?Ie([]):Ie(null);throw K}))}processSegmentAgainstRoute(v,g,S,N,z){if(g.redirectTo||!$n(g,S,N,z))return Ie(null);let K;if("**"===g.path){const Ae=N.length>0?vt(N).parameters:{},lt=dn(S)+N.length;K=Ie({snapshot:new to(N,Ae,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tn(g),Mi(g),g.component??g._loadedComponent??null,g,En(S),lt,pr(g)),consumedSegments:[],remainingSegments:[]})}else K=J(S,g,N,v).pipe((0,Se.U)(({matched:Ae,consumedSegments:lt,remainingSegments:Jt,parameters:sn})=>{if(!Ae)return null;const lr=dn(S)+lt.length;return{snapshot:new to(lt,sn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tn(g),Mi(g),g.component??g._loadedComponent??null,g,En(S),lr,pr(g)),consumedSegments:lt,remainingSegments:Jt}}));return K.pipe(ze(Ae=>{if(null===Ae)return Ie(null);const{snapshot:lt,consumedSegments:Jt,remainingSegments:sn}=Ae;v=g._injector??v;const lr=g._loadedInjector??v,_s=function ct(y){return y.children?y.children:y.loadChildren?y._loadedRoutes:[]}(g),{segmentGroup:uo,slicedSegments:No}=ge(S,Jt,sn,_s.filter(ds=>void 0===ds.redirectTo));if(0===No.length&&uo.hasChildren())return this.processChildren(lr,_s,uo).pipe((0,Se.U)(ds=>null===ds?null:[new ki(lt,ds)]));if(0===_s.length&&0===No.length)return Ie([new ki(lt,[])]);const Oo=Mi(g)===z;return this.processSegment(lr,_s,uo,No,Oo?nn:z).pipe((0,Se.U)(ds=>null===ds?null:[new ki(lt,ds)]))}))}}function ot(y){const v=y.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function Bt(y){const v=[],g=new Set;for(const S of y){if(!ot(S)){v.push(S);continue}const N=v.find(z=>S.value.routeConfig===z.value.routeConfig);void 0!==N?(N.children.push(...S.children),g.add(N)):v.push(S)}for(const S of g){const N=Bt(S.children);v.push(new ki(S.value,N))}return v.filter(S=>!g.has(S))}function En(y){let v=y;for(;v._sourceSegment;)v=v._sourceSegment;return v}function dn(y){let v=y,g=v._segmentIndexShift??0;for(;v._sourceSegment;)v=v._sourceSegment,g+=v._segmentIndexShift??0;return g-1}function Tn(y){return y.data||{}}function pr(y){return y.resolve||{}}function ys(y){return"string"==typeof y.title||null===y.title}function rn(y){return ze(v=>{const g=y(v);return g?(0,Q.D)(g).pipe((0,Se.U)(()=>v)):Ie(v)})}const Yo=new C.OlP("ROUTES");let jt=(()=>{class y{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,C.f3M)(C.Sil)}loadComponent(g){if(this.componentLoaders.get(g))return this.componentLoaders.get(g);if(g._loadedComponent)return Ie(g._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(g);const S=Xn(g.loadComponent()).pipe((0,Se.U)(Dt),(0,Rt.b)(z=>{this.onLoadEndListener&&this.onLoadEndListener(g),g._loadedComponent=z}),gr(()=>{this.componentLoaders.delete(g)})),N=new je(S,()=>new Ue.x).pipe(Nn());return this.componentLoaders.set(g,N),N}loadChildren(g,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return Ie({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const z=this.loadModuleFactoryOrRoutes(S.loadChildren).pipe((0,Se.U)(Ae=>{this.onLoadEndListener&&this.onLoadEndListener(S);let lt,Jt,sn=!1;Array.isArray(Ae)?Jt=Ae:(lt=Ae.create(g).injector,Jt=Kn(lt.get(Yo,[],C.XFs.Self|C.XFs.Optional)));return{routes:Jt.map(io),injector:lt}}),gr(()=>{this.childrenLoaders.delete(S)})),K=new je(z,()=>new Ue.x).pipe(Nn());return this.childrenLoaders.set(S,K),K}loadModuleFactoryOrRoutes(g){return Xn(g()).pipe((0,Se.U)(Dt),(0,Tt.z)(S=>S instanceof C.YKP||Array.isArray(S)?Ie(S):(0,Q.D)(this.compiler.compileModuleAsync(S))))}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function Dt(y){return function qe(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let _a=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ue.x,this.configLoader=(0,C.f3M)(jt),this.environmentInjector=(0,C.f3M)(C.lqb),this.urlSerializer=(0,C.f3M)(ae),this.rootContexts=(0,C.f3M)(zs),this.navigationId=0,this.afterPreactivation=()=>Ie(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=N=>this.events.next(new bs(N)),this.configLoader.onLoadStartListener=N=>this.events.next(new yr(N))}complete(){this.transitions?.complete()}handleNavigationRequest(g){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,...g,id:S})}setupNavigations(g){return this.transitions=new ie({id:0,targetPageId:0,currentUrlTree:g.currentUrlTree,currentRawUrl:g.currentUrlTree,extractedUrl:g.urlHandlingStrategy.extract(g.currentUrlTree),urlAfterRedirects:g.urlHandlingStrategy.extract(g.currentUrlTree),rawUrl:g.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vi,restoredState:null,currentSnapshot:g.routerState.snapshot,targetSnapshot:null,currentRouterState:g.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(It(S=>0!==S.id),(0,Se.U)(S=>({...S,extractedUrl:g.urlHandlingStrategy.extract(S.rawUrl)})),ze(S=>{let N=!1,z=!1;return Ie(S).pipe((0,Rt.b)(K=>{this.currentNavigation={id:K.id,initialUrl:K.rawUrl,extractedUrl:K.extractedUrl,trigger:K.source,extras:K.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ze(K=>{const Ae=g.browserUrlTree.toString(),lt=!g.navigated||K.extractedUrl.toString()!==Ae||Ae!==g.currentUrlTree.toString();if(!lt&&"reload"!==(K.extras.onSameUrlNavigation??g.onSameUrlNavigation)){const sn="";return this.events.next(new pi(K.id,g.serializeUrl(S.rawUrl),sn,0)),g.rawUrlTree=K.rawUrl,K.resolve(null),gt.E}if(g.urlHandlingStrategy.shouldProcessUrl(K.rawUrl))return nc(K.source)&&(g.browserUrlTree=K.extractedUrl),Ie(K).pipe(ze(sn=>{const lr=this.transitions?.getValue();return this.events.next(new fi(sn.id,this.urlSerializer.serialize(sn.extractedUrl),sn.source,sn.restoredState)),lr!==this.transitions?.getValue()?gt.E:Promise.resolve(sn)}),function _o(y,v,g,S){return ze(N=>function mi(y,v,g,S,N){return new ar(y,v,g,S,N).apply()}(y,v,g,N.extractedUrl,S).pipe((0,Se.U)(z=>({...N,urlAfterRedirects:z}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,g.config),(0,Rt.b)(sn=>{this.currentNavigation={...this.currentNavigation,finalUrl:sn.urlAfterRedirects},S.urlAfterRedirects=sn.urlAfterRedirects}),function Yn(y,v,g,S,N){return(0,Tt.z)(z=>function G(y,v,g,S,N,z,K="emptyOnly"){return new oe(y,v,g,S,N,K,z).recognize().pipe(ze(Ae=>null===Ae?function x(y){return new yt.y(v=>v.error(y))}(new F):Ie(Ae)))}(y,v,g,z.urlAfterRedirects,S.serialize(z.urlAfterRedirects),S,N).pipe((0,Se.U)(K=>({...z,targetSnapshot:K}))))}(this.environmentInjector,this.rootComponentType,g.config,this.urlSerializer,g.paramsInheritanceStrategy),(0,Rt.b)(sn=>{if(S.targetSnapshot=sn.targetSnapshot,"eager"===g.urlUpdateStrategy){if(!sn.extras.skipLocationChange){const _s=g.urlHandlingStrategy.merge(sn.urlAfterRedirects,sn.rawUrl);g.setBrowserUrl(_s,sn)}g.browserUrlTree=sn.urlAfterRedirects}const lr=new ls(sn.id,this.urlSerializer.serialize(sn.extractedUrl),this.urlSerializer.serialize(sn.urlAfterRedirects),sn.targetSnapshot);this.events.next(lr)}));if(lt&&g.urlHandlingStrategy.shouldProcessUrl(g.rawUrlTree)){const{id:sn,extractedUrl:lr,source:_s,restoredState:uo,extras:No}=K,Oo=new fi(sn,this.urlSerializer.serialize(lr),_s,uo);this.events.next(Oo);const ds=Mo(lr,this.rootComponentType).snapshot;return Ie(S={...K,targetSnapshot:ds,urlAfterRedirects:lr,extras:{...No,skipLocationChange:!1,replaceUrl:!1}})}{const sn="";return this.events.next(new pi(K.id,g.serializeUrl(S.extractedUrl),sn,1)),g.rawUrlTree=K.rawUrl,K.resolve(null),gt.E}}),(0,Rt.b)(K=>{const Ae=new Vs(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(K.urlAfterRedirects),K.targetSnapshot);this.events.next(Ae)}),(0,Se.U)(K=>S={...K,guards:xe(K.targetSnapshot,K.currentSnapshot,this.rootContexts)}),function yo(y,v){return(0,Tt.z)(g=>{const{targetSnapshot:S,currentSnapshot:N,guards:{canActivateChecks:z,canDeactivateChecks:K}}=g;return 0===K.length&&0===z.length?Ie({...g,guardsResult:!0}):function ms(y,v,g,S){return(0,Q.D)(y).pipe((0,Tt.z)(N=>function $(y,v,g,S,N){const z=v&&v.routeConfig?v.routeConfig.canDeactivate:null;return z&&0!==z.length?Ie(z.map(Ae=>{const lt=wi(v)??N,Jt=Je(Ae,lt);return Xn(function yn(y){return y&&qr(y.canDeactivate)}(Jt)?Jt.canDeactivate(y,v,g,S):lt.runInContext(()=>Jt(y,v,g,S))).pipe(be())})).pipe(Ar()):Ie(!0)}(N.component,N.route,g,v,S)),be(N=>!0!==N,!0))}(K,S,N,y).pipe((0,Tt.z)(Ae=>Ae&&function ti(y){return"boolean"==typeof y}(Ae)?function Gs(y,v,g,S){return(0,Q.D)(v).pipe(bt(N=>Xe(function Ko(y,v){return null!==y&&v&&v(new fo(y)),Ie(!0)}(N.route.parent,S),function Po(y,v){return null!==y&&v&&v(new Js(y)),Ie(!0)}(N.route,S),function Yr(y,v,g){const S=v[v.length-1],z=v.slice(0,v.length-1).reverse().map(K=>function nt(y){const v=y.routeConfig?y.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:y,guards:v}:null}(K)).filter(K=>null!==K).map(K=>ut(()=>Ie(K.guards.map(lt=>{const Jt=wi(K.node)??g,sn=Je(lt,Jt);return Xn(function pt(y){return y&&qr(y.canActivateChild)}(sn)?sn.canActivateChild(S,y):Jt.runInContext(()=>sn(S,y))).pipe(be())})).pipe(Ar())));return Ie(z).pipe(Ar())}(y,N.path,g),function Fi(y,v,g){const S=v.routeConfig?v.routeConfig.canActivate:null;if(!S||0===S.length)return Ie(!0);const N=S.map(z=>ut(()=>{const K=wi(v)??g,Ae=Je(z,K);return Xn(function si(y){return y&&qr(y.canActivate)}(Ae)?Ae.canActivate(v,y):K.runInContext(()=>Ae(v,y))).pipe(be())}));return Ie(N).pipe(Ar())}(y,N.route,g))),be(N=>!0!==N,!0))}(S,z,y,v):Ie(Ae)),(0,Se.U)(Ae=>({...g,guardsResult:Ae})))})}(this.environmentInjector,K=>this.events.next(K)),(0,Rt.b)(K=>{if(S.guardsResult=K.guardsResult,xr(K.guardsResult))throw Lo(0,K.guardsResult);const Ae=new ri(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(K.urlAfterRedirects),K.targetSnapshot,!!K.guardsResult);this.events.next(Ae)}),It(K=>!!K.guardsResult||(g.restoreHistory(K),this.cancelNavigationTransition(K,"",3),!1)),rn(K=>{if(K.guards.canActivateChecks.length)return Ie(K).pipe((0,Rt.b)(Ae=>{const lt=new $s(Ae.id,this.urlSerializer.serialize(Ae.extractedUrl),this.urlSerializer.serialize(Ae.urlAfterRedirects),Ae.targetSnapshot);this.events.next(lt)}),ze(Ae=>{let lt=!1;return Ie(Ae).pipe(function so(y,v){return(0,Tt.z)(g=>{const{targetSnapshot:S,guards:{canActivateChecks:N}}=g;if(!N.length)return Ie(g);let z=0;return(0,Q.D)(N).pipe(bt(K=>function Zo(y,v,g,S){const N=y.routeConfig,z=y._resolve;return void 0!==N?.title&&!ys(N)&&(z[ur]=N.title),function at(y,v,g,S){const N=function Or(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===N.length)return Ie({});const z={};return(0,Q.D)(N).pipe((0,Tt.z)(K=>function jr(y,v,g,S){const N=wi(v)??S,z=Je(y,N);return Xn(z.resolve?z.resolve(v,g):N.runInContext(()=>z(v,g)))}(y[K],v,g,S).pipe(be(),(0,Rt.b)(Ae=>{z[K]=Ae}))),Mr(1),function Tr(y){return(0,Se.U)(()=>y)}(z),un(K=>Kr(K)?gt.E:Ct(K)))}(z,y,v,S).pipe((0,Se.U)(K=>(y._resolvedData=K,y.data=js(y,g).resolve,N&&ys(N)&&(y.data[ur]=N.title),null)))}(K.route,S,y,v)),(0,Rt.b)(()=>z++),Mr(1),(0,Tt.z)(K=>z===N.length?Ie(g):gt.E))})}(g.paramsInheritanceStrategy,this.environmentInjector),(0,Rt.b)({next:()=>lt=!0,complete:()=>{lt||(g.restoreHistory(Ae),this.cancelNavigationTransition(Ae,"",2))}}))}),(0,Rt.b)(Ae=>{const lt=new Xs(Ae.id,this.urlSerializer.serialize(Ae.extractedUrl),this.urlSerializer.serialize(Ae.urlAfterRedirects),Ae.targetSnapshot);this.events.next(lt)}))}),rn(K=>{const Ae=lt=>{const Jt=[];lt.routeConfig?.loadComponent&&!lt.routeConfig._loadedComponent&&Jt.push(this.configLoader.loadComponent(lt.routeConfig).pipe((0,Rt.b)(sn=>{lt.component=sn}),(0,Se.U)(()=>{})));for(const sn of lt.children)Jt.push(...Ae(sn));return Jt};return Ke(Ae(K.targetSnapshot.root)).pipe(Fe(),it(1))}),rn(()=>this.afterPreactivation()),(0,Se.U)(K=>{const Ae=function Oa(y,v,g){const S=Di(y,v._root,g?g._root:void 0);return new Ro(S,v)}(g.routeReuseStrategy,K.targetSnapshot,K.currentRouterState);return S={...K,targetRouterState:Ae}}),(0,Rt.b)(K=>{g.currentUrlTree=K.urlAfterRedirects,g.rawUrlTree=g.urlHandlingStrategy.merge(K.urlAfterRedirects,K.rawUrl),g.routerState=K.targetRouterState,"deferred"===g.urlUpdateStrategy&&(K.extras.skipLocationChange||g.setBrowserUrl(g.rawUrlTree,K),g.browserUrlTree=K.urlAfterRedirects)}),((y,v,g)=>(0,Se.U)(S=>(new B(v,S.targetRouterState,S.currentRouterState,g).activate(y),S)))(this.rootContexts,g.routeReuseStrategy,K=>this.events.next(K)),it(1),(0,Rt.b)({next:K=>{N=!0,this.lastSuccessfulNavigation=this.currentNavigation,g.navigated=!0,this.events.next(new Br(K.id,this.urlSerializer.serialize(K.extractedUrl),this.urlSerializer.serialize(g.currentUrlTree))),g.titleStrategy?.updateTitle(K.targetRouterState.snapshot),K.resolve(!0)},complete:()=>{N=!0}}),gr(()=>{N||z||this.cancelNavigationTransition(S,"",1),this.currentNavigation?.id===S.id&&(this.currentNavigation=null)}),un(K=>{if(z=!0,qo(K)){ws(K)||(g.navigated=!0,g.restoreHistory(S,!0));const Ae=new Qs(S.id,this.urlSerializer.serialize(S.extractedUrl),K.message,K.cancellationCode);if(this.events.next(Ae),ws(K)){const lt=g.urlHandlingStrategy.merge(K.url,g.rawUrlTree),Jt={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===g.urlUpdateStrategy||nc(S.source)};g.scheduleNavigation(lt,vi,null,Jt,{resolve:S.resolve,reject:S.reject,promise:S.promise})}else S.resolve(!1)}else{g.restoreHistory(S,!0);const Ae=new ni(S.id,this.urlSerializer.serialize(S.extractedUrl),K,S.targetSnapshot??void 0);this.events.next(Ae);try{S.resolve(g.errorHandler(K))}catch(lt){S.reject(lt)}}return gt.E}))}))}cancelNavigationTransition(g,S,N){const z=new Qs(g.id,this.urlSerializer.serialize(g.extractedUrl),S,N);this.events.next(z),g.resolve(!1)}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function nc(y){return y!==vi}let va=(()=>{class y{buildTitle(g){let S,N=g.root;for(;void 0!==N;)S=this.getResolvedTitleForRoute(N)??S,N=N.children.find(z=>z.outlet===nn);return S}getResolvedTitleForRoute(g){return g.data[ur]}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:function(){return(0,C.f3M)(Ih)},providedIn:"root"}),y})(),Ih=(()=>{class y extends va{constructor(g){super(),this.title=g}updateTitle(g){const S=this.buildTitle(g);void 0!==S&&this.title.setTitle(S)}}return y.\u0275fac=function(g){return new(g||y)(C.LFG(zr.Dx))},y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),rc=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:function(){return(0,C.f3M)(ic)},providedIn:"root"}),y})();class Xa{shouldDetach(v){return!1}store(v,g){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,g){return v.routeConfig===g.routeConfig}}let ic=(()=>{class y extends Xa{}return y.\u0275fac=function(){let v;return function(S){return(v||(v=C.n5z(y)))(S||y)}}(),y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const xu=new C.OlP("",{providedIn:"root",factory:()=>({})});let xi=(()=>{class y{}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:function(){return(0,C.f3M)(Fa)},providedIn:"root"}),y})(),Fa=(()=>{class y{shouldProcessUrl(g){return!0}extract(g){return g}merge(g,S){return g}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function na(y){throw y}function ns(y,v,g){return v.parse("/")}const Pi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mn={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rs=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,C.f3M)(C.c2e),this.isNgZoneEnabled=!1,this.options=(0,C.f3M)(xu,{optional:!0})||{},this.errorHandler=this.options.errorHandler||na,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ns,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,C.f3M)(xi),this.routeReuseStrategy=(0,C.f3M)(rc),this.urlCreationStrategy=(0,C.f3M)(Cs),this.titleStrategy=(0,C.f3M)(va),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Kn((0,C.f3M)(Yo,{optional:!0})??[]),this.navigationTransitions=(0,C.f3M)(_a),this.urlSerializer=(0,C.f3M)(ae),this.location=(0,C.f3M)(Pn.Ye),this.isNgZoneEnabled=(0,C.f3M)(C.R0b)instanceof C.R0b&&C.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Vr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Mo(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(g=>{this.lastSuccessfulId=g.id,this.currentPageId=this.browserPageId??0},g=>{this.console.warn(`Unhandled Navigation Error: ${g}`)})}resetRootComponentType(g){this.routerState.root.component=g,this.navigationTransitions.rootComponentType=g}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const g=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),vi,g)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(g=>{const S="popstate"===g.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{this.navigateToSyncWithBrowser(g.url,S,g.state)},0)}))}navigateToSyncWithBrowser(g,S,N){const z={replaceUrl:!0},K=N?.navigationId?N:null;if(N){const lt={...N};delete lt.navigationId,delete lt.\u0275routerPageId,0!==Object.keys(lt).length&&(z.state=lt)}const Ae=this.parseUrl(g);this.scheduleNavigation(Ae,S,K,z)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(g){this.config=g.map(io),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(g,S={}){const{relativeTo:N,queryParams:z,fragment:K,queryParamsHandling:Ae,preserveFragment:lt}=S,Jt=lt?this.currentUrlTree.fragment:K;let sn=null;switch(Ae){case"merge":sn={...this.currentUrlTree.queryParams,...z};break;case"preserve":sn=this.currentUrlTree.queryParams;break;default:sn=z||null}return null!==sn&&(sn=this.removeEmptyProps(sn)),this.urlCreationStrategy.createUrlTree(N,this.routerState,this.currentUrlTree,g,sn,Jt??null)}navigateByUrl(g,S={skipLocationChange:!1}){const N=xr(g)?g:this.parseUrl(g),z=this.urlHandlingStrategy.merge(N,this.rawUrlTree);return this.scheduleNavigation(z,vi,null,S)}navigate(g,S={skipLocationChange:!1}){return function kr(y){for(let v=0;v<y.length;v++){const g=y[v];if(null==g)throw new C.vHH(4008,false)}}(g),this.navigateByUrl(this.createUrlTree(g,S),S)}serializeUrl(g){return this.urlSerializer.serialize(g)}parseUrl(g){let S;try{S=this.urlSerializer.parse(g)}catch(N){S=this.malformedUriErrorHandler(N,this.urlSerializer,g)}return S}isActive(g,S){let N;if(N=!0===S?{...Pi}:!1===S?{...Mn}:S,xr(g))return _i(this.currentUrlTree,g,N);const z=this.parseUrl(g);return _i(this.currentUrlTree,z,N)}removeEmptyProps(g){return Object.keys(g).reduce((S,N)=>{const z=g[N];return null!=z&&(S[N]=z),S},{})}scheduleNavigation(g,S,N,z,K){if(this.disposed)return Promise.resolve(!1);let Ae,lt,Jt,sn;return K?(Ae=K.resolve,lt=K.reject,Jt=K.promise):Jt=new Promise((lr,_s)=>{Ae=lr,lt=_s}),sn="computed"===this.canceledNavigationResolution?N&&N.\u0275routerPageId?N.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:sn,source:S,restoredState:N,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:g,extras:z,resolve:Ae,reject:lt,promise:Jt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Jt.catch(lr=>Promise.reject(lr))}setBrowserUrl(g,S){const N=this.urlSerializer.serialize(g);if(this.location.isCurrentPathEqualTo(N)||S.extras.replaceUrl){const K={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(N,"",K)}else{const z={...S.extras.state,...this.generateNgRouterState(S.id,S.targetPageId)};this.location.go(N,"",z)}}restoreHistory(g,S=!1){if("computed"===this.canceledNavigationResolution){const z=this.currentPageId-(this.browserPageId??this.currentPageId);0!==z?this.location.historyGo(z):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===z&&(this.resetState(g),this.browserUrlTree=g.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(g),this.resetUrlToCurrentUrlTree())}resetState(g){this.routerState=g.currentRouterState,this.currentUrlTree=g.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(g,S){return"computed"===this.canceledNavigationResolution?{navigationId:g,\u0275routerPageId:S}:{navigationId:g}}}return y.\u0275fac=function(g){return new(g||y)},y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),ra=(()=>{class y{constructor(g,S,N,z,K,Ae){this.router=g,this.route=S,this.tabIndexAttribute=N,this.renderer=z,this.el=K,this.locationStrategy=Ae,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Ue.x;const lt=K.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===lt||"area"===lt,this.isAnchorElement?this.subscription=g.events.subscribe(Jt=>{Jt instanceof Br&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(g){this._preserveFragment=(0,C.D6c)(g)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(g){this._skipLocationChange=(0,C.D6c)(g)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(g){this._replaceUrl=(0,C.D6c)(g)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(g){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",g)}ngOnChanges(g){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(g){null!=g?(this.commands=Array.isArray(g)?g:[g],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(g,S,N,z,K){return!!(null===this.urlTree||this.isAnchorElement&&(0!==g||S||N||z||K||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const g=null===this.href?null:(0,C.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",g)}applyAttributeValue(g,S){const N=this.renderer,z=this.el.nativeElement;null!==S?N.setAttribute(z,g,S):N.removeAttribute(z,g)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return y.\u0275fac=function(g){return new(g||y)(C.Y36(rs),C.Y36(po),C.$8M("tabindex"),C.Y36(C.Qsj),C.Y36(C.SBq),C.Y36(Pn.S$))},y.\u0275dir=C.lG2({type:y,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(g,S){1&g&&C.NdJ("click",function(z){return S.onClick(z.button,z.ctrlKey,z.shiftKey,z.altKey,z.metaKey)}),2&g&&C.uIk("target",S.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[C.TTD]}),y})();class oo{}let Pu=(()=>{class y{constructor(g,S,N,z,K){this.router=g,this.injector=N,this.preloadingStrategy=z,this.loader=K}setUpPreloading(){this.subscription=this.router.events.pipe(It(g=>g instanceof Br),bt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(g,S){const N=[];for(const z of S){z.providers&&!z._injector&&(z._injector=(0,C.MMx)(z.providers,g,`Route: ${z.path}`));const K=z._injector??g,Ae=z._loadedInjector??K;(z.loadChildren&&!z._loadedRoutes&&void 0===z.canLoad||z.loadComponent&&!z._loadedComponent)&&N.push(this.preloadConfig(K,z)),(z.children||z._loadedRoutes)&&N.push(this.processRoutes(Ae,z.children??z._loadedRoutes))}return(0,Q.D)(N).pipe((0,zn.J)())}preloadConfig(g,S){return this.preloadingStrategy.preload(S,()=>{let N;N=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(g,S):Ie(null);const z=N.pipe((0,Tt.z)(K=>null===K?Ie(void 0):(S._loadedRoutes=K.routes,S._loadedInjector=K.injector,this.processRoutes(K.injector??g,K.routes))));if(S.loadComponent&&!S._loadedComponent){const K=this.loader.loadComponent(S);return(0,Q.D)([z,K]).pipe((0,zn.J)())}return z})}}return y.\u0275fac=function(g){return new(g||y)(C.LFG(rs),C.LFG(C.Sil),C.LFG(C.lqb),C.LFG(oo),C.LFG(jt))},y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const vo=new C.OlP("");let sc=(()=>{class y{constructor(g,S,N,z,K={}){this.urlSerializer=g,this.transitions=S,this.viewportScroller=N,this.zone=z,this.options=K,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},K.scrollPositionRestoration=K.scrollPositionRestoration||"disabled",K.anchorScrolling=K.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(g=>{g instanceof fi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=g.navigationTrigger,this.restoredId=g.restoredState?g.restoredState.navigationId:0):g instanceof Br&&(this.lastId=g.id,this.scheduleScrollEvent(g,this.urlSerializer.parse(g.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(g=>{g instanceof Ss&&(g.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(g.position):g.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(g.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(g,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ss(g,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return y.\u0275fac=function(g){C.$Z()},y.\u0275prov=C.Yz7({token:y,factory:y.\u0275fac}),y})();var is=(()=>((is=is||{})[is.COMPLETE=0]="COMPLETE",is[is.FAILED=1]="FAILED",is[is.REDIRECTING=2]="REDIRECTING",is))();const ia=!1;function Ns(y,v){return{\u0275kind:y,\u0275providers:v}}const sa=new C.OlP("",{providedIn:"root",factory:()=>!1});function Bo(){const y=(0,C.f3M)(C.zs3);return v=>{const g=y.get(C.z2F);if(v!==g.components[0])return;const S=y.get(rs),N=y.get(ao);1===y.get(Nu)&&S.initialNavigation(),y.get(Ea,null,C.XFs.Optional)?.setUpPreloading(),y.get(vo,null,C.XFs.Optional)?.init(),S.resetRootComponentType(g.componentTypes[0]),N.closed||(N.next(),N.complete(),N.unsubscribe())}}const ao=new C.OlP(ia?"bootstrap done indicator":"",{factory:()=>new Ue.x}),Nu=new C.OlP(ia?"initial navigation":"",{providedIn:"root",factory:()=>1});function gu(){let y=[];return y=ia?[{provide:C.Xts,multi:!0,useFactory:()=>{const v=(0,C.f3M)(rs);return()=>v.events.subscribe(g=>{console.group?.(`Router Event: ${g.constructor.name}`),console.log(function Qi(y){if(!("type"in y))return`Unknown Router Event: ${y.constructor.name}`;switch(y.type){case 14:return`ActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${y.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${y.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state}, shouldActivate: ${y.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 2:return`NavigationCancel(id: ${y.id}, url: '${y.url}')`;case 16:return`NavigationSkipped(id: ${y.id}, url: '${y.url}')`;case 1:return`NavigationEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${y.id}, url: '${y.url}', error: ${y.error})`;case 0:return`NavigationStart(id: ${y.id}, url: '${y.url}')`;case 6:return`ResolveEnd(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 5:return`ResolveStart(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 10:return`RouteConfigLoadEnd(path: ${y.route.path})`;case 9:return`RouteConfigLoadStart(path: ${y.route.path})`;case 4:return`RoutesRecognized(id: ${y.id}, url: '${y.url}', urlAfterRedirects: '${y.urlAfterRedirects}', state: ${y.state})`;case 15:return`Scroll(anchor: '${y.anchor}', position: '${y.position?`${y.position[0]}, ${y.position[1]}`:null}')`}}(g)),console.log(g),console.groupEnd?.()})}}]:[],Ns(1,y)}const Ea=new C.OlP(ia?"router preloader":"");function Ou(y){return Ns(0,[{provide:Ea,useExisting:Pu},{provide:oo,useExisting:y}])}const bi=!1,La=new C.OlP(bi?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),ss=[Pn.Ye,{provide:ae,useClass:se},rs,zs,{provide:po,useFactory:function eu(y){return y.routerState.root},deps:[rs]},jt,bi?{provide:sa,useValue:!0}:[]];function Bi(){return new C.PXZ("Router",rs)}let Ua=(()=>{class y{constructor(g){}static forRoot(g,S){return{ngModule:y,providers:[ss,bi&&S?.enableTracing?gu().\u0275providers:[],{provide:Yo,multi:!0,useValue:g},{provide:La,useFactory:Ba,deps:[[rs,new C.FiY,new C.tp0]]},{provide:xu,useValue:S||{}},S?.useHash?{provide:Pn.S$,useClass:Pn.Do}:{provide:Pn.S$,useClass:Pn.b0},{provide:vo,useFactory:()=>{const y=(0,C.f3M)(Pn.EM),v=(0,C.f3M)(C.R0b),g=(0,C.f3M)(xu),S=(0,C.f3M)(_a),N=(0,C.f3M)(ae);return g.scrollOffset&&y.setOffset(g.scrollOffset),new sc(N,S,y,v,g)}},S?.preloadingStrategy?Ou(S.preloadingStrategy).\u0275providers:[],{provide:C.PXZ,multi:!0,useFactory:Bi},S?.initialNavigation?Ia(S):[],[{provide:$o,useFactory:Bo},{provide:C.tb,multi:!0,useExisting:$o}]]}}static forChild(g){return{ngModule:y,providers:[{provide:Yo,multi:!0,useValue:g}]}}}return y.\u0275fac=function(g){return new(g||y)(C.LFG(La,8))},y.\u0275mod=C.oAB({type:y}),y.\u0275inj=C.cJS({imports:[Pr]}),y})();function Ba(y){if(bi&&y)throw new C.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ia(y){return["disabled"===y.initialNavigation?Ns(3,[{provide:C.ip1,multi:!0,useFactory:()=>{const v=(0,C.f3M)(rs);return()=>{v.setUpLocationChangeListener()}}},{provide:Nu,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?Ns(2,[{provide:Nu,useValue:0},{provide:C.ip1,multi:!0,deps:[C.zs3],useFactory:v=>{const g=v.get(Pn.V_,Promise.resolve());return()=>g.then(()=>new Promise(S=>{const N=v.get(rs),z=v.get(ao);(function Ja(y,v){y.events.pipe(It(g=>g instanceof Br||g instanceof Qs||g instanceof ni||g instanceof pi),(0,Se.U)(g=>g instanceof Br||g instanceof pi?is.COMPLETE:g instanceof Qs&&(0===g.code||1===g.code)?is.REDIRECTING:is.FAILED),It(g=>g!==is.REDIRECTING),it(1)).subscribe(()=>{v()})})(N,()=>{S(!0)}),v.get(_a).afterPreactivation=()=>(S(!0),z.closed?Ie(void 0):z),N.initialNavigation()}))}}]).\u0275providers:[]]}const $o=new C.OlP(bi?"Router Initializer":"")},6881:(Fn,At,X)=>{X.d(At,{Jn:()=>Ki,qX:()=>Xn,Xd:()=>Ln,Mq:()=>ui,C6:()=>Cr,ZF:()=>Gn,KN:()=>Cn});var C=X(5861),Q=X(4859),ce=X(1877),Ie=X(2090);const Ue=(He,Le)=>Le.some(wt=>He instanceof wt);let ie,_e;const ve=new WeakMap,pe=new WeakMap,Ye=new WeakMap,_t=new WeakMap,me=new WeakMap;let Ut={get(He,Le,wt){if(He instanceof IDBTransaction){if("done"===Le)return pe.get(He);if("objectStoreNames"===Le)return He.objectStoreNames||Ye.get(He);if("store"===Le)return wt.objectStoreNames[1]?void 0:wt.objectStore(wt.objectStoreNames[0])}return Xe(He[Le])},set:(He,Le,wt)=>(He[Le]=wt,!0),has:(He,Le)=>He instanceof IDBTransaction&&("done"===Le||"store"===Le)||Le in He};function kt(He){return"function"==typeof He?function zn(He){return He!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function yt(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(He)?function(...Le){return He.apply(Ne(this),Le),Xe(ve.get(this))}:function(...Le){return Xe(He.apply(Ne(this),Le))}:function(Le,...wt){const pn=He.call(Ne(this),Le,...wt);return Ye.set(pn,Le.sort?Le.sort():[Le]),Xe(pn)}}(He):(He instanceof IDBTransaction&&function Ke(He){if(pe.has(He))return;const Le=new Promise((wt,pn)=>{const gn=()=>{He.removeEventListener("complete",Un),He.removeEventListener("error",jn),He.removeEventListener("abort",jn)},Un=()=>{wt(),gn()},jn=()=>{pn(He.error||new DOMException("AbortError","AbortError")),gn()};He.addEventListener("complete",Un),He.addEventListener("error",jn),He.addEventListener("abort",jn)});pe.set(He,Le)}(He),Ue(He,function St(){return ie||(ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(He,Ut):He)}function Xe(He){if(He instanceof IDBRequest)return function Ot(He){const Le=new Promise((wt,pn)=>{const gn=()=>{He.removeEventListener("success",Un),He.removeEventListener("error",jn)},Un=()=>{wt(Xe(He.result)),gn()},jn=()=>{pn(He.error),gn()};He.addEventListener("success",Un),He.addEventListener("error",jn)});return Le.then(wt=>{wt instanceof IDBCursor&&ve.set(wt,He)}).catch(()=>{}),me.set(Le,He),Le}(He);if(_t.has(He))return _t.get(He);const Le=kt(He);return Le!==He&&(_t.set(He,Le),me.set(Le,He)),Le}const Ne=He=>me.get(He),tt=["get","getKey","getAll","getAllKeys","count"],Ct=["put","add","delete","clear"],gt=new Map;function en(He,Le){if(!(He instanceof IDBDatabase)||Le in He||"string"!=typeof Le)return;if(gt.get(Le))return gt.get(Le);const wt=Le.replace(/FromIndex$/,""),pn=Le!==wt,gn=Ct.includes(wt);if(!(wt in(pn?IDBIndex:IDBObjectStore).prototype)||!gn&&!tt.includes(wt))return;const Un=function(){var jn=(0,C.Z)(function*(Jr,...xr){const Gr=this.transaction(Jr,gn?"readwrite":"readonly");let Ys=Gr.store;return pn&&(Ys=Ys.index(xr.shift())),(yield Promise.all([Ys[wt](...xr),gn&&Gr.done]))[0]});return function(xr){return jn.apply(this,arguments)}}();return gt.set(Le,Un),Un}!function an(He){Ut=He(Ut)}(He=>({...He,get:(Le,wt,pn)=>en(Le,wt)||He.get(Le,wt,pn),has:(Le,wt)=>!!en(Le,wt)||He.has(Le,wt)}));class Qt{constructor(Le){this.container=Le}getPlatformInfoString(){return this.container.getProviders().map(wt=>{if(function Nn(He){return"VERSION"===He.getComponent()?.type}(wt)){const pn=wt.getImmediate();return`${pn.library}/${pn.version}`}return null}).filter(wt=>wt).join(" ")}}const je="@firebase/app",Se=new ce.Yd("@firebase/app"),ai="[DEFAULT]",mr={[je]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ci=new Map,Kn=new Map;function vt(He,Le){try{He.container.addComponent(Le)}catch(wt){Se.debug(`Component ${Le.name} failed to register with FirebaseApp ${He.name}`,wt)}}function Ln(He){const Le=He.name;if(Kn.has(Le))return Se.debug(`There were multiple attempts to register component ${Le}.`),!1;Kn.set(Le,He);for(const wt of Ci.values())vt(wt,He);return!0}function Xn(He,Le){const wt=He.container.getProvider("heartbeat").getImmediate({optional:!0});return wt&&wt.triggerHeartbeat(),He.container.getProvider(Le)}const _i=new Ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hr{constructor(Le,wt,pn){this._isDeleted=!1,this._options=Object.assign({},Le),this._config=Object.assign({},wt),this._name=wt.name,this._automaticDataCollectionEnabled=wt.automaticDataCollectionEnabled,this._container=pn,this.container.addComponent(new Q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this.checkDestroyed(),this._automaticDataCollectionEnabled=Le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Le){this._isDeleted=Le}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}const Ki="9.22.1";function Gn(He,Le={}){let wt=He;"object"!=typeof Le&&(Le={name:Le});const pn=Object.assign({name:ai,automaticDataCollectionEnabled:!1},Le),gn=pn.name;if("string"!=typeof gn||!gn)throw _i.create("bad-app-name",{appName:String(gn)});if(wt||(wt=(0,Ie.aH)()),!wt)throw _i.create("no-options");const Un=Ci.get(gn);if(Un){if((0,Ie.vZ)(wt,Un.options)&&(0,Ie.vZ)(pn,Un.config))return Un;throw _i.create("duplicate-app",{appName:gn})}const jn=new Q.H0(gn);for(const xr of Kn.values())jn.addComponent(xr);const Jr=new hr(wt,pn,jn);return Ci.set(gn,Jr),Jr}function ui(He=ai){const Le=Ci.get(He);if(!Le&&He===ai&&(0,Ie.aH)())return Gn();if(!Le)throw _i.create("no-app",{appName:He});return Le}function Cr(){return Array.from(Ci.values())}function Cn(He,Le,wt){var pn;let gn=null!==(pn=mr[He])&&void 0!==pn?pn:He;wt&&(gn+=`-${wt}`);const Un=gn.match(/\s|\//),jn=Le.match(/\s|\//);if(Un||jn){const Jr=[`Unable to register library "${gn}" with version "${Le}":`];return Un&&Jr.push(`library name "${gn}" contains illegal characters (whitespace or "/")`),Un&&jn&&Jr.push("and"),jn&&Jr.push(`version name "${Le}" contains illegal characters (whitespace or "/")`),void Se.warn(Jr.join(" "))}Ln(new Q.wA(`${gn}-version`,()=>({library:gn,version:Le}),"VERSION"))}const ln="firebase-heartbeat-database",Ur=1,ae="firebase-heartbeat-store";let se=null;function Te(){return se||(se=function ut(He,Le,{blocked:wt,upgrade:pn,blocking:gn,terminated:Un}={}){const jn=indexedDB.open(He,Le),Jr=Xe(jn);return pn&&jn.addEventListener("upgradeneeded",xr=>{pn(Xe(jn.result),xr.oldVersion,xr.newVersion,Xe(jn.transaction),xr)}),wt&&jn.addEventListener("blocked",xr=>wt(xr.oldVersion,xr.newVersion,xr)),Jr.then(xr=>{Un&&xr.addEventListener("close",()=>Un()),gn&&xr.addEventListener("versionchange",Gr=>gn(Gr.oldVersion,Gr.newVersion,Gr))}).catch(()=>{}),Jr}(ln,Ur,{upgrade:(He,Le)=>{0===Le&&He.createObjectStore(ae)}}).catch(He=>{throw _i.create("idb-open",{originalErrorMessage:He.message})})),se}function ke(){return(ke=(0,C.Z)(function*(He){try{return yield(yield Te()).transaction(ae).objectStore(ae).get(fe(He))}catch(Le){if(Le instanceof Ie.ZR)Se.warn(Le.message);else{const wt=_i.create("idb-get",{originalErrorMessage:Le?.message});Se.warn(wt.message)}}})).apply(this,arguments)}function $t(He,Le){return we.apply(this,arguments)}function we(){return(we=(0,C.Z)(function*(He,Le){try{const pn=(yield Te()).transaction(ae,"readwrite");yield pn.objectStore(ae).put(Le,fe(He)),yield pn.done}catch(wt){if(wt instanceof Ie.ZR)Se.warn(wt.message);else{const pn=_i.create("idb-set",{originalErrorMessage:wt?.message});Se.warn(pn.message)}}})).apply(this,arguments)}function fe(He){return`${He.name}!${He.options.appId}`}class Qe{constructor(Le){this.container=Le,this._heartbeatsCache=null;const wt=this.container.getProvider("app").getImmediate();this._storage=new tn(wt),this._heartbeatsCachePromise=this._storage.read().then(pn=>(this._heartbeatsCache=pn,pn))}triggerHeartbeat(){var Le=this;return(0,C.Z)(function*(){const pn=Le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),gn=ft();if(null===Le._heartbeatsCache&&(Le._heartbeatsCache=yield Le._heartbeatsCachePromise),Le._heartbeatsCache.lastSentHeartbeatDate!==gn&&!Le._heartbeatsCache.heartbeats.some(Un=>Un.date===gn))return Le._heartbeatsCache.heartbeats.push({date:gn,agent:pn}),Le._heartbeatsCache.heartbeats=Le._heartbeatsCache.heartbeats.filter(Un=>{const jn=new Date(Un.date).valueOf();return Date.now()-jn<=2592e6}),Le._storage.overwrite(Le._heartbeatsCache)})()}getHeartbeatsHeader(){var Le=this;return(0,C.Z)(function*(){if(null===Le._heartbeatsCache&&(yield Le._heartbeatsCachePromise),null===Le._heartbeatsCache||0===Le._heartbeatsCache.heartbeats.length)return"";const wt=ft(),{heartbeatsToSend:pn,unsentEntries:gn}=function Kt(He,Le=1024){const wt=[];let pn=He.slice();for(const gn of He){const Un=wt.find(jn=>jn.agent===gn.agent);if(Un){if(Un.dates.push(gn.date),or(wt)>Le){Un.dates.pop();break}}else if(wt.push({agent:gn.agent,dates:[gn.date]}),or(wt)>Le){wt.pop();break}pn=pn.slice(1)}return{heartbeatsToSend:wt,unsentEntries:pn}}(Le._heartbeatsCache.heartbeats),Un=(0,Ie.L)(JSON.stringify({version:2,heartbeats:pn}));return Le._heartbeatsCache.lastSentHeartbeatDate=wt,gn.length>0?(Le._heartbeatsCache.heartbeats=gn,yield Le._storage.overwrite(Le._heartbeatsCache)):(Le._heartbeatsCache.heartbeats=[],Le._storage.overwrite(Le._heartbeatsCache)),Un})()}}function ft(){return(new Date).toISOString().substring(0,10)}class tn{constructor(Le){this.app=Le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,C.Z)(function*(){return!!(0,Ie.hl)()&&(0,Ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Le=this;return(0,C.Z)(function*(){return(yield Le._canUseIndexedDBPromise)&&(yield function rt(He){return ke.apply(this,arguments)}(Le.app))||{heartbeats:[]}})()}overwrite(Le){var wt=this;return(0,C.Z)(function*(){var pn;if(yield wt._canUseIndexedDBPromise){const Un=yield wt.read();return $t(wt.app,{lastSentHeartbeatDate:null!==(pn=Le.lastSentHeartbeatDate)&&void 0!==pn?pn:Un.lastSentHeartbeatDate,heartbeats:Le.heartbeats})}})()}add(Le){var wt=this;return(0,C.Z)(function*(){var pn;if(yield wt._canUseIndexedDBPromise){const Un=yield wt.read();return $t(wt.app,{lastSentHeartbeatDate:null!==(pn=Le.lastSentHeartbeatDate)&&void 0!==pn?pn:Un.lastSentHeartbeatDate,heartbeats:[...Un.heartbeats,...Le.heartbeats]})}})()}}function or(He){return(0,Ie.L)(JSON.stringify({version:2,heartbeats:He})).length}!function Ii(He){Ln(new Q.wA("platform-logger",Le=>new Qt(Le),"PRIVATE")),Ln(new Q.wA("heartbeat",Le=>new Qe(Le),"PRIVATE")),Cn(je,"0.9.11",He),Cn(je,"0.9.11","esm2017"),Cn("fire-js","")}("")},4859:(Fn,At,X)=>{X.d(At,{H0:()=>St,wA:()=>ce});var C=X(5861),Q=X(2090);class ce{constructor(ve,pe,Ye){this.name=ve,this.instanceFactory=pe,this.type=Ye,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ve){return this.instantiationMode=ve,this}setMultipleInstances(ve){return this.multipleInstances=ve,this}setServiceProps(ve){return this.serviceProps=ve,this}setInstanceCreatedCallback(ve){return this.onInstanceCreated=ve,this}}const Ie="[DEFAULT]";class Ue{constructor(ve,pe){this.name=ve,this.container=pe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ve){const pe=this.normalizeInstanceIdentifier(ve);if(!this.instancesDeferred.has(pe)){const Ye=new Q.BH;if(this.instancesDeferred.set(pe,Ye),this.isInitialized(pe)||this.shouldAutoInitialize())try{const _t=this.getOrInitializeService({instanceIdentifier:pe});_t&&Ye.resolve(_t)}catch{}}return this.instancesDeferred.get(pe).promise}getImmediate(ve){var pe;const Ye=this.normalizeInstanceIdentifier(ve?.identifier),_t=null!==(pe=ve?.optional)&&void 0!==pe&&pe;if(!this.isInitialized(Ye)&&!this.shouldAutoInitialize()){if(_t)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Ye})}catch(me){if(_t)return null;throw me}}getComponent(){return this.component}setComponent(ve){if(ve.name!==this.name)throw Error(`Mismatching Component ${ve.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ve,this.shouldAutoInitialize()){if(function _e(yt){return"EAGER"===yt.instantiationMode}(ve))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch{}for(const[pe,Ye]of this.instancesDeferred.entries()){const _t=this.normalizeInstanceIdentifier(pe);try{const me=this.getOrInitializeService({instanceIdentifier:_t});Ye.resolve(me)}catch{}}}}clearInstance(ve=Ie){this.instancesDeferred.delete(ve),this.instancesOptions.delete(ve),this.instances.delete(ve)}delete(){var ve=this;return(0,C.Z)(function*(){const pe=Array.from(ve.instances.values());yield Promise.all([...pe.filter(Ye=>"INTERNAL"in Ye).map(Ye=>Ye.INTERNAL.delete()),...pe.filter(Ye=>"_delete"in Ye).map(Ye=>Ye._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ve=Ie){return this.instances.has(ve)}getOptions(ve=Ie){return this.instancesOptions.get(ve)||{}}initialize(ve={}){const{options:pe={}}=ve,Ye=this.normalizeInstanceIdentifier(ve.instanceIdentifier);if(this.isInitialized(Ye))throw Error(`${this.name}(${Ye}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const _t=this.getOrInitializeService({instanceIdentifier:Ye,options:pe});for(const[me,Ot]of this.instancesDeferred.entries())Ye===this.normalizeInstanceIdentifier(me)&&Ot.resolve(_t);return _t}onInit(ve,pe){var Ye;const _t=this.normalizeInstanceIdentifier(pe),me=null!==(Ye=this.onInitCallbacks.get(_t))&&void 0!==Ye?Ye:new Set;me.add(ve),this.onInitCallbacks.set(_t,me);const Ot=this.instances.get(_t);return Ot&&ve(Ot,_t),()=>{me.delete(ve)}}invokeOnInitCallbacks(ve,pe){const Ye=this.onInitCallbacks.get(pe);if(Ye)for(const _t of Ye)try{_t(ve,pe)}catch{}}getOrInitializeService({instanceIdentifier:ve,options:pe={}}){let Ye=this.instances.get(ve);if(!Ye&&this.component&&(Ye=this.component.instanceFactory(this.container,{instanceIdentifier:(yt=ve,yt===Ie?void 0:yt),options:pe}),this.instances.set(ve,Ye),this.instancesOptions.set(ve,pe),this.invokeOnInitCallbacks(Ye,ve),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ve,Ye)}catch{}var yt;return Ye||null}normalizeInstanceIdentifier(ve=Ie){return this.component?this.component.multipleInstances?ve:Ie:ve}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class St{constructor(ve){this.name=ve,this.providers=new Map}addComponent(ve){const pe=this.getProvider(ve.name);if(pe.isComponentSet())throw new Error(`Component ${ve.name} has already been registered with ${this.name}`);pe.setComponent(ve)}addOrOverwriteComponent(ve){this.getProvider(ve.name).isComponentSet()&&this.providers.delete(ve.name),this.addComponent(ve)}getProvider(ve){if(this.providers.has(ve))return this.providers.get(ve);const pe=new Ue(ve,this);return this.providers.set(ve,pe),pe}getProviders(){return Array.from(this.providers.values())}}},1877:(Fn,At,X)=>{X.d(At,{Yd:()=>_e,in:()=>Q});const C=[];var Q=(()=>{return(ve=Q||(Q={}))[ve.DEBUG=0]="DEBUG",ve[ve.VERBOSE=1]="VERBOSE",ve[ve.INFO=2]="INFO",ve[ve.WARN=3]="WARN",ve[ve.ERROR=4]="ERROR",ve[ve.SILENT=5]="SILENT",Q;var ve})();const ce={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},Ie=Q.INFO,Ue={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},ie=(ve,pe,...Ye)=>{if(pe<ve.logLevel)return;const _t=(new Date).toISOString(),me=Ue[pe];if(!me)throw new Error(`Attempted to log a message with an invalid logType (value: ${pe})`);console[me](`[${_t}]  ${ve.name}:`,...Ye)};class _e{constructor(pe){this.name=pe,this._logLevel=Ie,this._logHandler=ie,this._userLogHandler=null,C.push(this)}get logLevel(){return this._logLevel}set logLevel(pe){if(!(pe in Q))throw new TypeError(`Invalid value "${pe}" assigned to \`logLevel\``);this._logLevel=pe}setLogLevel(pe){this._logLevel="string"==typeof pe?ce[pe]:pe}get logHandler(){return this._logHandler}set logHandler(pe){if("function"!=typeof pe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=pe}get userLogHandler(){return this._userLogHandler}set userLogHandler(pe){this._userLogHandler=pe}debug(...pe){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...pe),this._logHandler(this,Q.DEBUG,...pe)}log(...pe){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...pe),this._logHandler(this,Q.VERBOSE,...pe)}info(...pe){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...pe),this._logHandler(this,Q.INFO,...pe)}warn(...pe){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...pe),this._logHandler(this,Q.WARN,...pe)}error(...pe){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...pe),this._logHandler(this,Q.ERROR,...pe)}}},259:(Fn,At,X)=>{X.d(At,{C6:()=>C.C6,KN:()=>C.KN,Mq:()=>C.Mq,ZF:()=>C.ZF});var C=X(6881);(0,C.KN)("firebase","9.22.1","app")},7185:(Fn,At,X)=>{X.d(At,{Rh:()=>ze,_W:()=>Nn});var C=X(8256),Q=X(7340),ce=X(6895),Ie=X(7579),Ue=X(1481);const ie=["toast-component",""];function _e(Fe,dt){if(1&Fe){const Oe=C.EpF();C.TgZ(0,"button",5),C.NdJ("click",function(){C.CHM(Oe);const bt=C.oxw();return C.KtG(bt.remove())}),C.TgZ(1,"span",6),C._uU(2,"\xd7"),C.qZA()()}}function St(Fe,dt){if(1&Fe&&(C.ynx(0),C._uU(1),C.BQk()),2&Fe){const Oe=C.oxw(2);C.xp6(1),C.hij("[",Oe.duplicatesCount+1,"]")}}function yt(Fe,dt){if(1&Fe&&(C.TgZ(0,"div"),C._uU(1),C.YNc(2,St,2,1,"ng-container",4),C.qZA()),2&Fe){const Oe=C.oxw();C.Tol(Oe.options.titleClass),C.uIk("aria-label",Oe.title),C.xp6(1),C.hij(" ",Oe.title," "),C.xp6(1),C.Q6J("ngIf",Oe.duplicatesCount)}}function ve(Fe,dt){if(1&Fe&&C._UZ(0,"div",7),2&Fe){const Oe=C.oxw();C.Tol(Oe.options.messageClass),C.Q6J("innerHTML",Oe.message,C.oJD)}}function pe(Fe,dt){if(1&Fe&&(C.TgZ(0,"div",8),C._uU(1),C.qZA()),2&Fe){const Oe=C.oxw();C.Tol(Oe.options.messageClass),C.uIk("aria-label",Oe.message),C.xp6(1),C.hij(" ",Oe.message," ")}}function Ye(Fe,dt){if(1&Fe&&(C.TgZ(0,"div"),C._UZ(1,"div",9),C.qZA()),2&Fe){const Oe=C.oxw();C.xp6(1),C.Udp("width",Oe.width+"%")}}class kt{constructor(dt,Oe){this.component=dt,this.injector=Oe}attach(dt,Oe){return this._attachedHost=dt,dt.attach(this,Oe)}detach(){const dt=this._attachedHost;if(dt)return this._attachedHost=void 0,dt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(dt){this._attachedHost=dt}}class Xe{attach(dt,Oe){return this._attachedPortal=dt,this.attachComponentPortal(dt,Oe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(dt){this._disposeFn=dt}}class Ne{constructor(dt){this._overlayRef=dt,this.duplicatesCount=0,this._afterClosed=new Ie.x,this._activate=new Ie.x,this._manualClose=new Ie.x,this._resetTimeout=new Ie.x,this._countDuplicate=new Ie.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(dt,Oe){dt&&this._resetTimeout.next(),Oe&&this._countDuplicate.next(++this.duplicatesCount)}}class ut{constructor(dt,Oe,be,bt,Rt,un){this.toastId=dt,this.config=Oe,this.message=be,this.title=bt,this.toastType=Rt,this.toastRef=un,this._onTap=new Ie.x,this._onAction=new Ie.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(dt){this._onAction.next(dt)}onAction(){return this._onAction.asObservable()}}const tt=new C.OlP("ToastConfig");class Ct extends Xe{constructor(dt,Oe,be){super(),this._hostDomElement=dt,this._componentFactoryResolver=Oe,this._appRef=be}attachComponentPortal(dt,Oe){const be=this._componentFactoryResolver.resolveComponentFactory(dt.component);let bt;return bt=be.create(dt.injector),this._appRef.attachView(bt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(bt.hostView),bt.destroy()}),Oe?this._hostDomElement.insertBefore(this._getComponentRootNode(bt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(bt)),bt}_getComponentRootNode(dt){return dt.hostView.rootNodes[0]}}let gt=(()=>{class Fe{constructor(){this._document=(0,C.f3M)(ce.K0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Oe=this._document.createElement("div");Oe.classList.add("overlay-container"),Oe.setAttribute("aria-live","polite"),this._document.body.appendChild(Oe),this._containerElement=Oe}}return Fe.\u0275fac=function(Oe){return new(Oe||Fe)},Fe.\u0275prov=C.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})();class en{constructor(dt){this._portalHost=dt}attach(dt,Oe=!0){return this._portalHost.attach(dt,Oe)}detach(){return this._portalHost.detach()}}let Qt=(()=>{class Fe{constructor(){this._overlayContainer=(0,C.f3M)(gt),this._componentFactoryResolver=(0,C.f3M)(C._Vd),this._appRef=(0,C.f3M)(C.z2F),this._document=(0,C.f3M)(ce.K0),this._paneElements=new Map}create(Oe,be){return this._createOverlayRef(this.getPaneElement(Oe,be))}getPaneElement(Oe="",be){return this._paneElements.get(be)||this._paneElements.set(be,{}),this._paneElements.get(be)[Oe]||(this._paneElements.get(be)[Oe]=this._createPaneElement(Oe,be)),this._paneElements.get(be)[Oe]}_createPaneElement(Oe,be){const bt=this._document.createElement("div");return bt.id="toast-container",bt.classList.add(Oe),bt.classList.add("toast-container"),be?be.getContainerElement().appendChild(bt):this._overlayContainer.getContainerElement().appendChild(bt),bt}_createPortalHost(Oe){return new Ct(Oe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Oe){return new en(this._createPortalHost(Oe))}}return Fe.\u0275fac=function(Oe){return new(Oe||Fe)},Fe.\u0275prov=C.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})(),Nn=(()=>{class Fe{constructor(Oe,be,bt,Rt,un){this.overlay=be,this._injector=bt,this.sanitizer=Rt,this.ngZone=un,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...Oe.default,...Oe.config},Oe.config.iconClasses&&(this.toastrConfig.iconClasses={...Oe.default.iconClasses,...Oe.config.iconClasses})}show(Oe,be,bt={},Rt=""){return this._preBuildNotification(Rt,Oe,be,this.applyConfig(bt))}success(Oe,be,bt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Oe,be,this.applyConfig(bt))}error(Oe,be,bt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Oe,be,this.applyConfig(bt))}info(Oe,be,bt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Oe,be,this.applyConfig(bt))}warning(Oe,be,bt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Oe,be,this.applyConfig(bt))}clear(Oe){for(const be of this.toasts)if(void 0!==Oe){if(be.toastId===Oe)return void be.toastRef.manualClose()}else be.toastRef.manualClose()}remove(Oe){const be=this._findToast(Oe);if(!be||(be.activeToast.toastRef.close(),this.toasts.splice(be.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const bt=this.toasts[this.currentlyActive].toastRef;bt.isInactive()||(this.currentlyActive=this.currentlyActive+1,bt.activate())}return!0}findDuplicate(Oe="",be="",bt,Rt){const{includeTitleDuplicates:un}=this.toastrConfig;for(const xn of this.toasts)if((!un||un&&xn.title===Oe)&&xn.message===be)return xn.toastRef.onDuplicate(bt,Rt),xn;return null}applyConfig(Oe={}){return{...this.toastrConfig,...Oe}}_findToast(Oe){for(let be=0;be<this.toasts.length;be++)if(this.toasts[be].toastId===Oe)return{index:be,activeToast:this.toasts[be]};return null}_preBuildNotification(Oe,be,bt,Rt){return Rt.onActivateTick?this.ngZone.run(()=>this._buildNotification(Oe,be,bt,Rt)):this._buildNotification(Oe,be,bt,Rt)}_buildNotification(Oe,be,bt,Rt){if(!Rt.toastComponent)throw new Error("toastComponent required");const un=this.findDuplicate(bt,be,this.toastrConfig.resetTimeoutOnDuplicate&&Rt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&bt||be)&&this.toastrConfig.preventDuplicates&&null!==un)return un;this.previousToastMessage=be;let xn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(xn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const cn=this.overlay.create(Rt.positionClass,this.overlayContainer);this.index=this.index+1;let Mr=be;be&&Rt.enableHtml&&(Mr=this.sanitizer.sanitize(C.q3G.HTML,be));const rr=new Ne(cn),ir=new ut(this.index,Rt,Mr,bt,Oe,rr),gr=C.zs3.create({providers:[{provide:ut,useValue:ir}],parent:this._injector}),zr=new kt(Rt.toastComponent,gr),nn=cn.attach(zr,Rt.newestOnTop);rr.componentInstance=nn.instance;const ur={toastId:this.index,title:bt||"",message:be||"",toastRef:rr,onShown:rr.afterActivate(),onHidden:rr.afterClosed(),onTap:ir.onTap(),onAction:ir.onAction(),portal:nn};return xn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ur.toastRef.activate()})),this.toasts.push(ur),ur}}return Fe.\u0275fac=function(Oe){return new(Oe||Fe)(C.LFG(tt),C.LFG(Qt),C.LFG(C.zs3),C.LFG(Ue.H7),C.LFG(C.R0b))},Fe.\u0275prov=C.Yz7({token:Fe,factory:Fe.\u0275fac,providedIn:"root"}),Fe})(),je=(()=>{class Fe{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(Oe,be,bt){this.toastrService=Oe,this.toastPackage=be,this.ngZone=bt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=be.message,this.title=be.title,this.options=be.config,this.originalTimeout=be.config.timeOut,this.toastClasses=`${be.toastType} ${be.config.toastClass}`,this.sub=be.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=be.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=be.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=be.toastRef.countDuplicate().subscribe(Rt=>{this.duplicatesCount=Rt})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Oe=(new Date).getTime();this.width=(this.hideTime-Oe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Oe,be){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Oe),be)):this.timeout=setTimeout(()=>Oe(),be)}outsideInterval(Oe,be){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Oe),be)):this.intervalId=setInterval(()=>Oe(),be)}runInsideAngular(Oe){this.ngZone?this.ngZone.run(()=>Oe()):Oe()}}return Fe.\u0275fac=function(Oe){return new(Oe||Fe)(C.Y36(Nn),C.Y36(ut),C.Y36(C.R0b))},Fe.\u0275cmp=C.Xpm({type:Fe,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Oe,be){1&Oe&&C.NdJ("click",function(){return be.tapToast()})("mouseenter",function(){return be.stickAround()})("mouseleave",function(){return be.delayedHideToast()}),2&Oe&&(C.d8E("@flyInOut",be.state),C.Tol(be.toastClasses),C.Udp("display",be.displayStyle))},standalone:!0,features:[C.jDz],attrs:ie,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Oe,be){1&Oe&&(C.YNc(0,_e,3,0,"button",0),C.YNc(1,yt,3,5,"div",1),C.YNc(2,ve,1,3,"div",2),C.YNc(3,pe,2,4,"div",3),C.YNc(4,Ye,2,2,"div",4)),2&Oe&&(C.Q6J("ngIf",be.options.closeButton),C.xp6(1),C.Q6J("ngIf",be.title),C.xp6(1),C.Q6J("ngIf",be.message&&be.options.enableHtml),C.xp6(1),C.Q6J("ngIf",be.message&&!be.options.enableHtml),C.xp6(1),C.Q6J("ngIf",be.options.progressBar))},dependencies:[ce.O5],encapsulation:2,data:{animation:[(0,Q.X$)("flyInOut",[(0,Q.SB)("inactive",(0,Q.oB)({opacity:0})),(0,Q.SB)("active",(0,Q.oB)({opacity:1})),(0,Q.SB)("removed",(0,Q.oB)({opacity:0})),(0,Q.eR)("inactive => active",(0,Q.jt)("{{ easeTime }}ms {{ easing }}")),(0,Q.eR)("active => removed",(0,Q.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),Fe})();const Pn={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:je},Se=(Fe={})=>(0,C.MR2)([{provide:tt,useValue:{default:Pn,config:Fe}}]);let ze=(()=>{class Fe{static forRoot(Oe={}){return{ngModule:Fe,providers:[Se(Oe)]}}}return Fe.\u0275fac=function(Oe){return new(Oe||Fe)},Fe.\u0275mod=C.oAB({type:Fe}),Fe.\u0275inj=C.cJS({imports:[je]}),Fe})()},5861:(Fn,At,X)=>{function C(ce,Ie,Ue,ie,_e,St,yt){try{var ve=ce[St](yt),pe=ve.value}catch(Ye){return void Ue(Ye)}ve.done?Ie(pe):Promise.resolve(pe).then(ie,_e)}function Q(ce){return function(){var Ie=this,Ue=arguments;return new Promise(function(ie,_e){var St=ce.apply(Ie,Ue);function yt(pe){C(St,ie,_e,yt,ve,"next",pe)}function ve(pe){C(St,ie,_e,yt,ve,"throw",pe)}yt(void 0)})}}X.d(At,{Z:()=>Q})},7582:(Fn,At,X)=>{function Ie(Se,ze){var it={};for(var mt in Se)Object.prototype.hasOwnProperty.call(Se,mt)&&ze.indexOf(mt)<0&&(it[mt]=Se[mt]);if(null!=Se&&"function"==typeof Object.getOwnPropertySymbols){var It=0;for(mt=Object.getOwnPropertySymbols(Se);It<mt.length;It++)ze.indexOf(mt[It])<0&&Object.prototype.propertyIsEnumerable.call(Se,mt[It])&&(it[mt[It]]=Se[mt[It]])}return it}function Ye(Se,ze,it,mt){return new(it||(it=Promise))(function(Tt,Fe){function dt(bt){try{be(mt.next(bt))}catch(Rt){Fe(Rt)}}function Oe(bt){try{be(mt.throw(bt))}catch(Rt){Fe(Rt)}}function be(bt){bt.done?Tt(bt.value):function It(Tt){return Tt instanceof it?Tt:new it(function(Fe){Fe(Tt)})}(bt.value).then(dt,Oe)}be((mt=mt.apply(Se,ze||[])).next())})}function Xe(Se){return this instanceof Xe?(this.v=Se,this):new Xe(Se)}function Ne(Se,ze,it){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var It,mt=it.apply(Se,ze||[]),Tt=[];return It={},Fe("next"),Fe("throw"),Fe("return"),It[Symbol.asyncIterator]=function(){return this},It;function Fe(un){mt[un]&&(It[un]=function(xn){return new Promise(function(cn,Mr){Tt.push([un,xn,cn,Mr])>1||dt(un,xn)})})}function dt(un,xn){try{!function Oe(un){un.value instanceof Xe?Promise.resolve(un.value.v).then(be,bt):Rt(Tt[0][2],un)}(mt[un](xn))}catch(cn){Rt(Tt[0][3],cn)}}function be(un){dt("next",un)}function bt(un){dt("throw",un)}function Rt(un,xn){un(xn),Tt.shift(),Tt.length&&dt(Tt[0][0],Tt[0][1])}}function Mt(Se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var it,ze=Se[Symbol.asyncIterator];return ze?ze.call(Se):(Se=function Ke(Se){var ze="function"==typeof Symbol&&Symbol.iterator,it=ze&&Se[ze],mt=0;if(it)return it.call(Se);if(Se&&"number"==typeof Se.length)return{next:function(){return Se&&mt>=Se.length&&(Se=void 0),{value:Se&&Se[mt++],done:!Se}}};throw new TypeError(ze?"Object is not iterable.":"Symbol.iterator is not defined.")}(Se),it={},mt("next"),mt("throw"),mt("return"),it[Symbol.asyncIterator]=function(){return this},it);function mt(Tt){it[Tt]=Se[Tt]&&function(Fe){return new Promise(function(dt,Oe){!function It(Tt,Fe,dt,Oe){Promise.resolve(Oe).then(function(be){Tt({value:be,done:dt})},Fe)}(dt,Oe,(Fe=Se[Tt](Fe)).done,Fe.value)})}}}X.d(At,{FC:()=>Ne,KL:()=>Mt,_T:()=>Ie,mG:()=>Ye,qq:()=>Xe})}},Fn=>{Fn(Fn.s=4662)}]);